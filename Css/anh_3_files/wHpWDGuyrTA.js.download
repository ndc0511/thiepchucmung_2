;/*FB_PKG_DELIM*/

__d("ChannelShareDialogLoggingContext",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["BROADCAST_CHANNEL_CREATION","THREAD_DETAILS_SHARE_ITEM","THREAD_DETAILS_QUICK_ACTION","CONTEXT_BANNER_QUICK_ACTION"]);c=a;f["default"]=c}),66);
__d("ChevronDownFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx("path",{fillRule:"nonzero",d:"M453.03 1077.72a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06l-2.97 2.97-2.97-2.97z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("CometAccessibilityAnnouncementForDynamicContent.react",["CometAccessibilityAnnouncement.react","DocumentTranslationStatusProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),e=d("DocumentTranslationStatusProvider.react").useTranslationKeyForTextParent(),f;b[0]!==a||b[1]!==e?(f=j.createElement(c("CometAccessibilityAnnouncement.react"),babelHelpers["extends"]({},a,{key:e})),b[0]=a,b[1]=e,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters",["CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceConfirmMarkAsPaidDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint",["CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceConfirmMarkAsPaidDialogQueryReference:{parameters:c("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters"),variables:{thread_id:a.threadId}}}}},root:c("JSResourceForInteraction")("CometMarketplaceConfirmMarkAsPaidDialog.react").__setRef("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5046975135324826"}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery$Parameters",["CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceInboxLabelChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceInboxLabelChatDialog.entrypoint",["CometMarketplaceInboxLabelChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceInboxLabelChatDialogQueryReference:{parameters:c("CometMarketplaceInboxLabelChatDialogQuery$Parameters"),variables:{id:a.thread_id}}}}},root:c("JSResourceForInteraction")("CometMarketplaceInboxLabelChatDialog.react").__setRef("CometMarketplaceInboxLabelChatDialog.entrypoint")};g["default"]=a}),98);
__d("DeidentifiedRelayEnvironment",["E2EEBackupUtil","MAWCurrentUser","RelayModern","createRelayFBNetwork","createRelayFBNetworkFetch","createRelayFBSubscribeFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=h||(h=c("react")),k=e.createContext,l=e.useContext,m={},n=function(){return d("RelayModern").createEnvironment({actorID:d("MAWCurrentUser").getID(),configName:"Deidentified Relay Environment",network:c("createRelayFBNetwork")(c("createRelayFBNetworkFetch")({getAdditionalHeaders:function(){return babelHelpers["extends"]({},m)}}),c("createRelayFBSubscribeFunction")({}))})};e=function(a){return m[a]};var o=function(a,b){m[a]=b},p=function(a){m["X-ACS-ATTRIBUTE-IDENTIFIER"]=a.attributeIdentifier,m["X-ACS-CONFIG-ID"]=a.serverConfigId,m["X-ACS-CREDENTIAL"]=d("E2EEBackupUtil").encodeBase64Url(a.credential),m["X-ACS-PROJECT-NAME"]=a.projectName,m["X-ACS-TAG"]=d("E2EEBackupUtil").encodeBase64Url(a.tag)},q=function(a){delete m[a]},r=k(n());function a(a){a=a.children;var b=n();return j.jsx(r.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return l(r)}g.DeidentifiedRelayEnvironment=n;g.getGlobalHeader=e;g.setGlobalHeader=o;g.setGlobalHeaders=p;g.clearGlobalHeader=q;g.DeidentifiedRelayEnvironmentContext=r;g.DeidentifiedRelayEnvironmentProvider=a;g.useDeidentifiedRelayEnvironment=b}),98);
__d("FriendAddFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{children:[i.jsx("path",{d:"M105 920.25c0 1.242-.895 2.25-2 2.25s-2-1.008-2-2.25.572-2.25 2-2.25 2 1.008 2 2.25",transform:"translate(351.5 156) translate(.5)"}),i.jsx("path",{fillRule:"nonzero",d:"M105.5 920.25c0 1.506-1.105 2.75-2.5 2.75s-2.5-1.244-2.5-2.75c0-1.638.878-2.75 2.5-2.75 1.622 0 2.5 1.112 2.5 2.75zm-1 0c0-1.13-.489-1.75-1.5-1.75-1.011 0-1.5.62-1.5 1.75 0 .979.686 1.75 1.5 1.75s1.5-.771 1.5-1.75z",transform:"translate(351.5 156) translate(.5)"}),i.jsx("path",{d:"M106.564 929h-7.129a.938.938 0 0 1-.935-.936v-.515a3.058 3.058 0 0 1 3.049-3.049h2.902a3.058 3.058 0 0 1 3.049 3.049v.515a.938.938 0 0 1-.936.936",transform:"translate(351.5 156) translate(.5)"}),i.jsx("path",{fillRule:"nonzero",d:"M106.564 929.5h-7.129c-.79 0-1.435-.645-1.435-1.436v-.515a3.558 3.558 0 0 1 3.549-3.549h2.902a3.558 3.558 0 0 1 3.549 3.549v.515c0 .791-.645 1.436-1.436 1.436zm0-1a.438.438 0 0 0 .436-.436v-.515c0-1.4-1.148-2.549-2.549-2.549h-2.902a2.558 2.558 0 0 0-2.55 2.549l.001.515c0 .239.197.436.435.436h7.13z",transform:"translate(351.5 156) translate(.5)"}),i.jsx("path",{fillRule:"nonzero",d:"M107 922h3a.5.5 0 0 0 0-1h-3a.5.5 0 0 0 0 1z",transform:"translate(351.5 156)"}),i.jsx("path",{fillRule:"nonzero",d:"M108 920v3a.5.5 0 0 0 1 0v-3a.5.5 0 0 0-1 0z",transform:"translate(351.5 156)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("HelpdeskGeminiNullthrows",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b="Got unexpected null or undefined");if(a==null)throw c("FBLogger")("hdwp").mustfixThrow(b);return a}g.nullthrows=a}),98);
__d("LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatch",["LSInsertAnonymousTaskContext","LSIssueNewTaskUsingSyncChannel","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("message_id",a[0]),d[0].set("content_ref",a[1]),d[1]=d[0].get("message_id"),d[0],d[4]=["LSMailboxAnonymizedMsgrWebE2EEXmaReceiverFetchSyncAction",".",d[1]].join(""),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskUsingSyncChannel"),d[4],c.i64.cast([0,1006]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,2]),!1,c.i64.cast([0,0])).then(function(a){return a=a,d[3]=a[0],a})},function(a){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskInsertion"),d[3])},function(a){return c.storedProcedure(b("LSInsertAnonymousTaskContext"),d[3],"LS_MsgrXmaReceiverFetch")}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxAnonymizedMsgrWebE2EEXmaReceiverFetchDispatchStoredProcedure";e.exports=a}),null);
__d("LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatchStoredProcedure",["LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatch","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){return c("LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatch")(b.messageId,b.contentRef,a)}g["default"]=a}),98);
__d("LSExecuteCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(119).fetch(),function(b){return c.i64.eq(b.ctaId,a[0])}).next().then(function(a,e){var f=a.done;a=a.value;return f?0:(e=a.item,d[0]=new c.Map(),d[0].set("banner_id",e.bannerId),d[0].set("cta_type",e.ctaType),d[0].set("context_id",e.contextId),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"in_thread_banner_execute_cta_queue",c.i64.cast([0,73]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0])))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSInThreadBannerExecuteCTAStoredProcedure";e.exports=a}),null);
__d("LSExecuteCTAStoredProcedure",["LSExecuteCTA","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){return c("LSExecuteCTA")(b.ctaId,a)}g["default"]=a}),98);
__d("LSFetchBannersStoredProcedure",["LSFetchBanners","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){return c("LSFetchBanners")(b.threadKey,a)}g["default"]=a}),98);
__d("LSInitiateThreadMigration",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return a[3]!==void 0?(d[0]=new c.Map(),d[0].set("open_message_thread_key",a[0]),d[0].set("armadillo_thread_key",a[1]),d[0].set("trace_id",a[3]),d[0].set("should_copy_messages",a[2]),d[1]=d[0].get("open_message_thread_key"),d[0],d[2]=d[0].get("armadillo_thread_key"),d[0],d[3]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),[c.i64.to_string(d[1]),"_",c.i64.to_string(d[2])].join(""),c.i64.cast([0,436]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):(d[0]=new c.Map(),d[0].set("open_message_thread_key",a[0]),d[0].set("armadillo_thread_key",a[1]),d[0].set("should_copy_messages",a[2]),d[1]=d[0].get("open_message_thread_key"),d[0],d[2]=d[0].get("armadillo_thread_key"),d[0],d[3]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),[c.i64.to_string(d[1]),"_",c.i64.to_string(d[2])].join(""),c.i64.cast([0,436]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0])))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxInitiateThreadMigrationStoredProcedure";e.exports=a}),null);
__d("LSInitiateThreadMigrationStoredProcedure",["LSInitiateThreadMigration","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){return c("LSInitiateThreadMigration")(b.openMessageThreadKey,b.armadilloThreadKey,b.shouldCopyMessages,b.traceId,a)}g["default"]=a}),98);
__d("LSNullstateDescriptionType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,SUBTEXT:1,TITLE_SMALL_DEFAULT:2,TITLE_SMALL_SUBTEXT:3});f["default"]=a}),66);
__d("LSPageType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,AI:1});f["default"]=a}),66);
__d("LSRequestAdContextFromThreadKey",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"ctm_ad_context",c.i64.cast([0,235]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMessagingAdsRequestAdContextFromThreadKeyStoredProcedure";e.exports=a}),null);
__d("LSRequestAdContextFromThreadKeyStoredProcedure",["LSRequestAdContextFromThreadKey","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){return c("LSRequestAdContextFromThreadKey")(b.threadKey,a)}g["default"]=a}),98);
__d("LSServerMutationCta",["LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[4]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[5]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[4],d[5],void 0,void 0)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("marketplace_cta_type",a[1]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),"marketplace_server_mutation_cta",c.i64.cast([0,279]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMarketplaceServerMutationCtaStoredProcedure";e.exports=a}),null);
__d("LSServerMutationCtaStoredProcedure",["LSServerMutationCta","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){return c("LSServerMutationCta")(b.threadKey,b.marketplaceCtaType,a)}g["default"]=a}),98);
__d("LsBotComposerQuickReplyDisplayedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743836");b=d("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_displayed",a);e=b;g["default"]=e}),98);
__d("LsBotComposerQuickReplyTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743837");b=d("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_tapped",a);e=b;g["default"]=e}),98);
__d("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743846");b=d("FalcoLoggerInternal").create("ls_business_welcome_page_get_started_button_tapped",a);e=b;g["default"]=e}),98);
__d("MAWAttachmentSizeUtils",["I64","LSIntEnum","MWMessageListImageSizingUtils","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.previewHeight!=null?(h||(h=d("I64"))).to_float(a.previewHeight):a.previewHeightLarge!=null?(h||(h=d("I64"))).to_float(a.previewHeightLarge):void 0;a=a.previewWidth!=null?(h||(h=d("I64"))).to_float(a.previewWidth):a.previewWidthLarge!=null?(h||(h=d("I64"))).to_float(a.previewWidthLarge):void 0;return{height:b,width:a}}function j(a,b){var c=a.height;a=a.width;c=Math.min((c=c)!=null?c:200,200);a=Math.min((a=a)!=null?a:480,b==="Inbox"?500:167);return{maxHeight:c,maxWidth:a}}function b(a,b){var e,f=a==null?void 0:a.type;a=a.size;var g=a.height;a=a.width;switch(!0){case(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)):case(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)):return d("MWMessageListImageSizingUtils").getMaxPreviewHeightAndWidth(!0,(e=b)!=null?e:void 0,!1);case(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)):return j({height:g,width:a},b)}return{maxHeight:void 0,maxWidth:void 0}}g.getSizeFromAttachment=a;g.getMaxSizeForVideo=j;g.getMaxSize=b}),98);
__d("MWFileUtils",["fbt","I64","formatFileSize"],(function(a,b,c,d,e,f,g,h){"use strict";var i;b=h._("__JHASH__uiTAWyhPCWI__JHASH__");function a(a){return a.filesize==null?null:c("formatFileSize")((i||(i=d("I64"))).to_int32(a.filesize))}g.PLACEHOLDER_FILENAME=b;g.getFileSize=a}),226);
__d("MAWFilePressable.react",["CometErrorBoundary.react","FBLogger","I64","MAWAttachmentBlob.react","MWChatMessageId","MWFileUtils","MWFileViewerLogger","MWXPressable.react","goUriOnNewWindow","react","useMWFileOnPress"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useCallback,l=b.useEffect,m=b.c,n={filePressable:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function o(a){var b=m(5),d=a.children,e=a.linkProps,f=a.onPress;a=a.testid;var g;b[0]!==e||b[1]!==f||b[2]!==a||b[3]!==d?(g=j.jsx(c("MWXPressable.react"),{display:"inline",linkProps:e,onPress:f,overlayDisabled:!0,testid:void 0,xstyle:n.filePressable,children:d}),b[0]=e,b[1]=f,b[2]=a,b[3]=d,b[4]=g):g=b[4];return g}function p(a){var b=m(6),e=a.attachmentID,f=a.children,g=a.entrypoint,h=a.linkProps,i=a.messageID,k=a.onPress;a=a.testid;var l;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(l=d("MWFileViewerLogger").generateSessionId(),b[0]=l):l=b[0];i=c("useMWFileOnPress")(i,e,k,g,l);b[1]!==h||b[2]!==i||b[3]!==a||b[4]!==f?(e=j.jsx(o,{linkProps:h,onPress:i,testid:void 0,children:f}),b[1]=h,b[2]=i,b[3]=a,b[4]=f,b[5]=e):e=b[5];return e}function a(a){var b=a.children,e=a.entrypoint,f=a.file,g=a.getFileUrl,h=a.mediaRenderQpl,m=a.onPress,n=a.renderUnsupportedAttachment;a=a.testid;a=((a=f.filename)!=null?a:d("MWFileUtils").PLACEHOLDER_FILENAME).toString();var q=g!=null?g(f,"MAWFilePressable",h):d("MAWAttachmentBlob.react").getAttachmentBlob(f,"MAWFilePressable",h);g=d("MWChatMessageId").makeSent((i||(i=d("I64"))).to_string(f.threadKey),f.messageId,i.to_string(f.timestampMs));var r={download:a,target:"_blank",url:q},s=d("MWFileUtils").getFileSize(f),t=k(function(a,b){c("FBLogger")("messenger_web_media","cannot_load_entry_point").mustfix(a.message||"Cannot open file viewer in "+b),q!=null&&c("goUriOnNewWindow")(q)},[q]);l(function(){q!=null&&q.length>0?(h==null?void 0:h.addPoint("render-file-pressable"),h==null?void 0:h.endSuccess()):h==null?void 0:h.endFail("load-file-error")},[h,q]);if((q==null||q.length===0)&&n!=null)return n(f);return g.type==="sent"?j.jsx(c("CometErrorBoundary.react"),{onError:t,children:j.jsx(p,{attachmentID:f.attachmentFbid,entrypoint:e,linkProps:r,messageID:g.value,onPress:m,testid:void 0,children:b({filename:a,messageID:g,size:s})})}):j.jsx(o,{linkProps:r,onPress:m,testid:void 0,children:b({filename:a,messageID:g,size:s})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWChatFile.react",["MAWFilePressable.react","MWChatFilePreview.react","MWXTextPairing.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=j(8),d=a.file,e=a.getFileUrl,f=a.mediaRenderQpl;a=a.renderUnsupportedAttachment;var g;b[0]!==d?(g=function(a){var b=a.filename;a=a.size;return k.jsxs("div",{className:(h||(h=c("stylex")))(l.root,!1),children:[k.jsx(c("MWChatFilePreview.react"),{attachment:d,withPreview:!1}),k.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f xz9dl7a xsag5q8 x1ye3gou x1pi30zi x13faqbe",children:[k.jsx(c("MWXTextPairing.react"),{headline:b,headlineLineLimit:3,level:4}),k.jsx("div",{className:"x889kno",children:k.jsx(c("MWXTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:1,level:4})})]})]})},b[0]=d,b[1]=g):g=b[1];var i;b[2]!==d||b[3]!==e||b[4]!==f||b[5]!==a||b[6]!==g?(i=k.jsx(c("MAWFilePressable.react"),{entrypoint:"chat_file_v4",file:d,getFileUrl:e,mediaRenderQpl:f,renderUnsupportedAttachment:a,testid:void 0,children:g}),b[2]=d,b[3]=e,b[4]=f,b[5]=a,b[6]=g,b[7]=i):i=b[7];return i}g["default"]=a}),98);
__d("MAWCutoverEncryptedBackupsBanner.react",["CometErrorBoundary.react","cr:3127","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var d=i(4);a=a.isShown;var e;d[0]!==a?(e=a&&b("cr:3127")?j.jsx(c("CometErrorBoundary.react"),{fallback:k,children:j.jsx(b("cr:3127"),{})}):null,d[0]=a,d[1]=e):e=d[1];d[2]!==e?(a=j.jsx(j.Fragment,{children:e}),d[2]=e,d[3]=a):a=d[3];return a}function k(){return null}g["default"]=a}),98);
__d("MAWCutoverQPLLogger",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h={instanceKey:0,isInProgress:!1};function a(a){h.isInProgress&&c("QPLUserFlow").endCancel(c("qpl")._(1056840990,"2431"),{instanceKey:h.instanceKey});c("QPLUserFlow").start(c("qpl")._(1056840990,"2431"),{annotations:{bool:{is_dtc:a}},instanceKey:++h.instanceKey,timeoutInMs:1e4});h.isInProgress=!0;return h.instanceKey}function b(a,b,d){if(a==null)return;c("QPLUserFlow").addPoint(c("qpl")._(1056840990,"2431"),b,babelHelpers["extends"]({instanceKey:a},d))}function d(a,b){if(a==null)return;c("QPLUserFlow").addAnnotations(c("qpl")._(1056840990,"2431"),b,{instanceKey:a})}function e(a){if(a==null)return;h.isInProgress=!1;c("QPLUserFlow").endSuccess(c("qpl")._(1056840990,"2431"),{instanceKey:a})}function f(a,b){if(a==null)return;c("QPLUserFlow").endFailure(c("qpl")._(1056840990,"2431"),b,{instanceKey:a})}g.startQpl=a;g.addPoint=b;g.addAnnotations=d;g.endSuccess=e;g.endFailure=f}),98);
__d("MAWEphemeralGatingUtil",["$InternalEnum","MetaConfig","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";e=b("$InternalEnum")({SEEN_BASED:0,SEND_BASED:1});var h="0,60,900,86400";function a(){var a=c("MetaConfig")._("56");(a===null||a==="")&&(a=h);a=a.replace('"',"").split(",").map(function(a){return parseInt(a,10)});c("gkx")("2260")&&a.push(10,30,60,120);return a}function d(){var a=c("MetaConfig")._("65");return c("justknobx")._("1546")&&a}g.EphemeralityType=e;g.getExpirationOptions=a;g.isResetEphemeralSettingsEnabled=d}),98);
__d("MAWMessageIntegrityCheckDeferred",["promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWMessageIntegrityCheck").__setRef("MAWMessageIntegrityCheckDeferred");function a(a,b,d,e,g,i,j,k,l){h.onReady(function(h){return c("promiseDone")(h.runMessageIntegrityCheck(a,b,d,e,g,i,j,k,l))})}g.runMessageIntegrityCheckDeferred=a}),98);
__d("MAWSecureXMAAttachmentContent.react",["LSMediaUrlAttachment","MAWAttachmentBlob.react","MAWDownloadMediaInWorkerDeferred","MAWGetIsMediaDownloadStatusEnabled","MAWStateContext.react","MWXMAAttachment.react","isReceiverFetchDualSendReceivingEnabled","isReceiverFetchReceivingEnabled","react","react-forget-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useContext;var j=b.useEffect,k=b.c;function a(a){var b=k(17),c=a.connectBottom,e=a.connectTop,f=a.dbAttachment,g=a.hasText,h=a.mediaRenderQpl;a=a.outgoing;var p=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(d("MAWStateContext.react").MAWStateContext,o),q=p.dispatch,r;b[0]!==f||b[1]!==q||b[2]!==h?(p=function(){f.hasMedia!==!0&&d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusEnabled()&&d("MAWDownloadMediaInWorkerDeferred").maybeDownloadMediaInWorker({attachment:f,dispatch:q,mediaRenderQpl:h,triggerUIView:"thread"})},r=[f,h,q],b[0]=f,b[1]=q,b[2]=h,b[3]=p,b[4]=r):(p=b[3],r=b[4]);j(p,r);b[5]!==h?(p=function(){h==null?void 0:h.addPoint("render-xma-attachment")},b[5]=h,b[6]=p):p=b[6];b[7]!==f.hasMedia||b[8]!==h?(r=[f.hasMedia,h],b[7]=f.hasMedia,b[8]=h,b[9]=r):r=b[9];j(p,r);b[10]!==f||b[11]!==c||b[12]!==e||b[13]!==g||b[14]!==h||b[15]!==a?(p=i.jsx(d("MWXMAAttachment.react").MWXMAAttachment,{attachment:f,connectBottom:c,connectTop:e,getFaviconUrlXMA:n,getHeaderUrlXMA:m,getPreviewUrlXMA:l,hasText:g,mediaRenderQpl:h,outgoing:a}),b[10]=f,b[11]=c,b[12]=e,b[13]=g,b[14]=h,b[15]=a,b[16]=p):p=b[16];return p}function l(a,b,e,f){f==null?void 0:f.addPoint("fetch_preview_url_xma_start");if(a.previewUrl!=null&&(c("isReceiverFetchReceivingEnabled")(!0)||a.hasXmaPreview===!0&&c("isReceiverFetchDualSendReceivingEnabled")(!0))){f==null?void 0:f.addPoint("fetch_preview_url_xma_receiver_fetch");b=d("LSMediaUrlAttachment").previewUrl(a);f==null?void 0:f.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!0,has_url:Boolean(b)},string:{fetch_by:"receiver_fetch"}});return b}if(a.hasXmaPreview===!0){b=d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"preview","MAWSecureXMAAttachmentContent - getPreviewUrlXMA - "+e,f);f==null?void 0:f.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!0,has_url:Boolean(b)},string:{fetch_by:"maw_backend"}});return b}f==null?void 0:f.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!1},string:{fetch_by:"none"}})}function m(a,b,e){e==null?void 0:e.addPoint("fetch_header_url_xma_start");if(a.headerImageUrl!=null&&(c("isReceiverFetchReceivingEnabled")(!0)||a.hasXmaPreview===!0&&c("isReceiverFetchDualSendReceivingEnabled")(!0))){e==null?void 0:e.addPoint("fetch_header_url_xma_receiver_fetch");var f=d("LSMediaUrlAttachment").headerImageUrl(a);e==null?void 0:e.addPoint("fetch_header_url_xma_end",{bool:{has_header_image:!0,has_url:Boolean(f)},string:{fetch_by:"receiver_fetch"}});return f}if(a.hasXmaHeaderImage===!0){f=d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"header","MAWSecureXMAAttachmentContent - getHeaderUrlXMA - "+b,e);e==null?void 0:e.addPoint("fetch_header_url_xma_end",{bool:{has_header_image:!0,has_url:Boolean(f)},string:{fetch_by:"maw_backend"}});return f}e==null?void 0:e.addPoint("fetch_header_url_xma_end",{bool:{has_header_image:!1},string:{fetch_by:"none"}})}function n(a,b,e,f){f==null?void 0:f.addPoint("fetch_favicon_url_xma_start");if(a.faviconUrl!=null&&(c("isReceiverFetchReceivingEnabled")(!0)||a.hasXmaPreview===!0&&c("isReceiverFetchDualSendReceivingEnabled")(!0))){f==null?void 0:f.addPoint("fetch_favicon_url_xma_receiver_fetch");b=d("LSMediaUrlAttachment").faviconUrl(a);f==null?void 0:f.addPoint("fetch_favicon_url_xma_end",{bool:{has_favicon:!0,has_url:Boolean(b)},string:{fetch_by:"receiver_fetch"}});return b}if(a.hasXmaFavicon===!0){b=d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"favicon","MAWSecureXMAAttachmentContent - getFaviconUrlXMA - "+e,f);f==null?void 0:f.addPoint("fetch_favicon_url_xma_end",{bool:{has_favicon:!0,has_url:Boolean(b)},string:{fetch_by:"maw_backend"}});return b}f==null?void 0:f.addPoint("fetch_favicon_url_xma_end",{bool:{has_favicon:!1},string:{fetch_by:"none"}})}function o(a){return[a.dispatch]}g["default"]=a}),98);
__d("MAWReceiverFetchQPLLogger",["I64","MAWLoggerUtils","QPLUserFlow","QuickPerformanceLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=60*1e3,k=c("qpl")._(973799425,"190"),l="error_message",m={PREVIEW_FETCH_START:"preview_fetch_start",PREVIEW_FETCH_TASK_COMPLETED:"preview_fetch_task_completed",RECEIVER_FETCH_XMA_IN_VIEW:"receiver_fetch_xma_in_view"},n={ERROR_PARSING_XMA_DATACLASS_CONTENT:"error_parsing_xma_dataclass_content",EXISTING_ATTACHMENT_IS_NULL:"existing_attachment_is_null",EXISTING_MESSAGE_IS_NULL:"existing_message_is_null",RECEIVER_FECH_PARAMS_IS_NULL:"receiver_fech_params_is_null",RECEIVER_FETCH_TASK_FAILURE:"receiver_fetch_task_failure",TYPENAME_IS_NOT_XMA_SINGLE_CONTENT:"typename_is_not_xma_single_content",XMA_DATACLASS_IS_NULL:"xma_dataclass_is_null"};function o(a,b){a=d("MAWLoggerUtils").getInstanceKeyFromId(a);a!=null&&c("QPLUserFlow").addPoint(k,b,{instanceKey:a})}function a(a,b){a=d("MAWLoggerUtils").getInstanceKeyFromId(a);a!=null&&c("QPLUserFlow").addAnnotations(k,b,{instanceKey:a})}function b(a){var b=d("MAWLoggerUtils").getInstanceKeyFromId(a);if((i||(i=c("QuickPerformanceLogger"))).isMarkerOn(k,b))return;c("QPLUserFlow").start(k,{instanceKey:b,timeoutInMs:j});o(a,m.RECEIVER_FETCH_XMA_IN_VIEW)}function e(a){o(a,m.PREVIEW_FETCH_START)}function f(a){var b=d("MAWLoggerUtils").getInstanceKeyFromId(a);o(a,m.PREVIEW_FETCH_TASK_COMPLETED);c("QPLUserFlow").endSuccess(k,{instanceKey:b})}function p(a,b,e,f){b=n[b];a=d("MAWLoggerUtils").getInstanceKeyFromId(a);c("QPLUserFlow").endFailure(k,b,{annotations:{"int":f!=null?{error_code:(h||(h=d("I64"))).to_int32(f)}:{},string:e!=null?(b={},b[l]=e,b):{}},instanceKey:a})}g.MARKER_POINTS=m;g.FAILURE_REASONS=n;g.logReceiverFetchPoint=o;g.logReceiverFetchAnnotation=a;g.logReceiverFetchXMAStartQPL=b;g.logPreviewFetchStart=e;g.logSuccess=f;g.logFailure=p}),98);
__d("MessagingACSClientTokenStoreContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a(null);g.MessagingACSClientTokenStoreContext=b}),98);
__d("useIssueXMAReceiverFetchTask",["DeidentifiedRelayEnvironment","FBLogger","Int64Hooks","LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatchStoredProcedure","LSFactory","LSIntEnum","LSXmaContentType","MAWReceiverFetchQPLLogger","MessagingACSClientTokenStoreContext.react","Promise","cr:8567","promiseDone","react","useAsyncReStore","useXMAPreviewsDisabledSetting"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");var k=e.useContext,l=e.useRef,m=e.c;function n(a,e,g,i,j){if(g==null){d("MAWReceiverFetchQPLLogger").logFailure(e,"RECEIVER_FECH_PARAMS_IS_NULL","xmaReceiverFetchParams is null");return(h||(h=b("Promise"))).resolve()}d("MAWReceiverFetchQPLLogger").logPreviewFetchStart(e);return b("cr:8567")?b("cr:8567").fetchGraphQLXMAReceiverFetchData(a,e,g,i,j):a.runInTransaction(function(a){return c("LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatchStoredProcedure")(c("LSFactory")(a),{contentRef:g,messageId:e})},"readwrite",void 0,void 0,f.id+":63")}function a(a,b,e,f,g){var h=m(17),j=c("useAsyncReStore")(),o=c("useXMAPreviewsDisabledSetting")(),p=l(!1),q=d("DeidentifiedRelayEnvironment").useDeidentifiedRelayEnvironment(),r=k(d("MessagingACSClientTokenStoreContext.react").MessagingACSClientTokenStoreContext),s;h[0]!==e||h[1]!==o||h[2]!==g||h[3]!==a||h[4]!==j||h[5]!==b||h[6]!==q||h[7]!==r?(s=function(){if(e==null||(i||(i=d("LSIntEnum"))).toNumber(e)!==c("LSXmaContentType").MSG_RECEIVER_FETCH||o||p.current)return;g==null?void 0:g.addPoint("xma_receiver_fetch_task_start");p.current=!0;d("MAWReceiverFetchQPLLogger").logReceiverFetchXMAStartQPL(a);c("promiseDone")(j,function(c){return n(c,a,b,q,r)},function(b){g==null?void 0:g.endFail("xma_receiver_fetch_task_fail"),d("MAWReceiverFetchQPLLogger").logFailure(a,"RECEIVER_FETCH_TASK_FAILURE",b),c("FBLogger")("messenger_web_sharing").catching(b).warn("Failed to issue receiver fetch task on mount")})},h[0]=e,h[1]=o,h[2]=g,h[3]=a,h[4]=j,h[5]=b,h[6]=q,h[7]=r,h[8]=s):s=h[8];var t;h[9]!==j||h[10]!==a||h[11]!==b||h[12]!==o||h[13]!==e||h[14]!==f||h[15]!==g?(t=[j,a,b,o,e,f,g],h[9]=j,h[10]=a,h[11]=b,h[12]=o,h[13]=e,h[14]=f,h[15]=g,h[16]=t):t=h[16];d("Int64Hooks").useEffectInt64(s,t)}g["default"]=a}),98);
__d("useMAWDownloadMediaInWorker",["MAWDownloadMediaInWorkerDeferred","MAWGetIsMediaDownloadStatusEnabled","MAWStateContext.react","react","react-forget-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useContext;var i=b.useEffect,j=b.c;function a(a){var b=j(7),c=a.attachments,e=a.isSecure,f=a.mediaRenderQpl,g=a.triggerUIView;a=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(d("MAWStateContext.react").MAWStateContext,k);var h=a.dispatch,l;b[0]!==e||b[1]!==c||b[2]!==h||b[3]!==f||b[4]!==g?(a=function(){if(!e)return;if(d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusEnabled())return;c.forEach(function(a){return d("MAWDownloadMediaInWorkerDeferred").maybeDownloadMediaInWorker({attachment:a,dispatch:h,mediaRenderQpl:f,triggerUIView:g})})},l=[c,e,f,g,h],b[0]=e,b[1]=c,b[2]=h,b[3]=f,b[4]=g,b[5]=a,b[6]=l):(a=b[5],l=b[6]);i(a,l)}function k(a){return[a.dispatch]}g["default"]=a}),98);
__d("MAWSecureAttachment.react",["CometHeroHoldTrigger.react","HelpdeskGeminiNullthrows","I64","LSAuthorityLevel","LSIntEnum","LSMediaUrlAttachment","LSXmaContentType","MAWAttachmentBlob.react","MAWAttachmentSizeUtils","MAWGetAttachmentThumbnailBlob","MAWIsFBXMA","MAWIsReceiverFetchXmaInLoadingState","MAWLocalizationType","MAWSecureXMAAttachmentContent.react","MWAttachmentContext","MWChatBubbleEmphasisRing.react","MWChatTypingIndicator.react","MWPMessageListAttachmentContainer.react","MWV2AttachmentLoadingPlaceholder.react","MWV2ChatBubbleContainer.react","MWV2ChatText.react","MWV2TombstonedMessage.react","MWXMessageBubble.react","MessagingAttachmentType","cr:10515","cr:12000","cr:6069","cr:6663","cr:7180","cr:7246","cr:9728","cr:9881","getMAWLocalizedFallbackMsgSnippet","isReceiverFetchSticker","react","useGetMediaGroupInformation","useIssueMediaReceiverFetchTask","useIssueXMAReceiverFetchTask","useMAWDownloadMediaInWorker","useXMAPreviewsDisabledSetting"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));e=h;var l=e.useContext,m=e.useEffect,n=e.useMemo,o=e.c,p={unsetWidth:{width:"x4pn7vq",$$css:!0}};function q(a){var e=a.dbAttachment,f=a.connectBottom,g=a.connectTop,h=a.hasText,l=a.mediaRenderQpl,o=a.message;a=a.outgoing;var p=e.attachmentFbid,q=e.attachmentType,r=e.authorityLevel;m(function(){l==null?void 0:l.addPoint("render-secure-attachment-content"),p===(i||(i=d("I64"))).to_string((i||(i=d("I64"))).max_int)&&(i||(i=d("I64"))).equal(r,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&(l==null?void 0:l.addPoint("loading_eb_frontloading"))},[p,r,e,l]);var s=c("useGetMediaGroupInformation")(o,!0,l),t=n(function(){if(s!=null)return s.messagesAndAttachments.map(function(a){return a.attachment}).filter(Boolean);else return[e]},[e,s]);c("useMAWDownloadMediaInWorker")({attachments:t,isSecure:!0,mediaRenderQpl:l,triggerUIView:"thread"});t=d("MAWAttachmentSizeUtils").getSizeFromAttachment(e);var u=t.height;t=t.width;switch(!0){case p===(i||(i=d("I64"))).to_string((i||(i=d("I64"))).max_int)&&(i||(i=d("I64"))).equal(r,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)):return k.jsxs(k.Fragment,{children:[k.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:f,connectTop:g,descriptionForLogging:"MAWSecureAttachment.react.EBFrontloading",hasAppAttribution:e.attributionAppName!=null,height:u,mediaRenderQpl:l,outgoing:a,width:t}),k.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureAttachment.react.EBFrontloading",hold:!0})]});case(i||(i=d("I64"))).equal(q,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)):return b("cr:9728")!=null&&s!=null?k.jsx(b("cr:9728"),{mediaGroupInfo:s,mediaRenderQpl:l,outgoing:a}):k.jsx(b("cr:7246"),{connectBottom:f,connectTop:g,dbAttachment:e,getPreviewUrl:d("MAWGetAttachmentThumbnailBlob").getThumbnailBlob,mediaRenderQpl:l,message:o,outgoing:a,previewHeight:u,previewWidth:t});case(i||(i=d("I64"))).equal(q,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)):return k.jsx(b("cr:12000"),{connectBottom:f,connectTop:g,dbAttachment:e,getPlayableUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,getPreviewUrl:d("MAWGetAttachmentThumbnailBlob").getThumbnailBlob,mediaRenderQpl:l,message:o,outgoing:a,previewHeight:u,previewWidth:t});case(i||(i=d("I64"))).equal(q,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)):return k.jsx(b("cr:6069"),{connectBottom:f,connectTop:g,dbAttachment:e,getPlayableUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,mediaRenderQpl:l,message:o,outgoing:a});case(i||(i=d("I64"))).equal(q,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)):return k.jsx(b("cr:7246"),{connectBottom:f,connectTop:g,dbAttachment:e,getPreviewUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,mediaRenderQpl:l,message:o,outgoing:a,previewHeight:u,previewWidth:t});case(i||(i=d("I64"))).equal(q,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)):return e.receiverFetchId!=null?k.jsx(b("cr:9881"),{connectBottom:f,connectTop:g,dbAttachment:e,getPreviewUrl:function(a){return d("LSMediaUrlAttachment").previewUrl(a)},mediaRenderQpl:l,outgoing:a,previewHeight:u,previewWidth:t}):k.jsx(b("cr:9881"),{connectBottom:f,connectTop:g,dbAttachment:e,getPreviewUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,mediaRenderQpl:l,outgoing:a,previewHeight:u,previewWidth:t});case(i||(i=d("I64"))).equal(q,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)):return k.jsx(c("MAWSecureXMAAttachmentContent.react"),{connectBottom:f,connectTop:g,dbAttachment:e,hasText:h,mediaRenderQpl:l,outgoing:a});case(i||(i=d("I64"))).equal(q,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)):return k.jsx(b("cr:6663"),{connectBottom:f,connectTop:g,dbAttachment:e,getFileUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,mediaRenderQpl:l,outgoing:a});case(i||(i=d("I64"))).equal(q,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE)):case(i||(i=d("I64"))).equal(q,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO)):return b("cr:7180")!=null?k.jsx(b("cr:7180"),{connectBottom:f,connectTop:g,dbAttachment:e,outgoing:a}):k.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,children:c("getMAWLocalizedFallbackMsgSnippet")(a?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK)});default:l==null?void 0:l.endFail("unsupported-attachment");return"Unsupported attachment type"}}q.displayName=q.name+" [from "+f.id+"]";function a(a){var e=o(52),f=a.connectBottom,g=a.connectTop,h=a.hasEmphasisRing,n=a.hasText,r=a.mediaRenderQpl,s=a.message,t=a.outgoing;a=c("useXMAPreviewsDisabledSetting")();var u=l(c("MWAttachmentContext")),v=u!=null&&u.length>0?u[0]:null;u=s.authorityLevel;var w=s.threadKey,x;e[0]!==v||e[1]!==r?(x=function(){v!=null&&(r==null?void 0:r.addAttachmentAnnotations==null?void 0:r.addAttachmentAnnotations(v)),r==null?void 0:r.addPoint("render-secure-attachment",{bool:{has_attachment:v!=null}})},e[0]=v,e[1]=r,e[2]=x):x=e[2];var y;e[3]!==u||e[4]!==v||e[5]!==r?(y=[u,v,r],e[3]=u,e[4]=v,e[5]=r,e[6]=y):y=e[6];m(x,y);c("useIssueXMAReceiverFetchTask")(s.messageId,v==null?void 0:v.receiverFetchId,v==null?void 0:v.xmaContentType,v==null?void 0:v.titleText,r);e[7]!==v?(u=v?c("isReceiverFetchSticker")(v):!1,e[7]=v,e[8]=u):u=e[8];c("useIssueMediaReceiverFetchTask")(u,s.messageId,w,v==null?void 0:v.receiverFetchId,!0,r,v==null?void 0:v.previewUrl,v==null?void 0:v.previewUrlExpirationTimestampMs,v==null?void 0:v.attachmentType);e[9]!==h||e[10]!==g||e[11]!==t?(x=h===!0?function(a,b){return k.jsx(c("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:g,hasXMA:a,outgoing:t,precedesXMA:!1,children:b})}:void 0,e[9]=h,e[10]=g,e[11]=t,e[12]=x):x=e[12];y=x;u=y;if(v==null&&!b("cr:10515"))return null;w=(v==null?void 0:v.xmaContentType)!=null&&(j||(j=d("LSIntEnum"))).toNumber(v.xmaContentType)===c("LSXmaContentType").MSG_RECEIVER_FETCH_FALLBACK;if(a&&d("MAWIsFBXMA").isFBXMA(v==null?void 0:v.xmaContentType)||w){x=v==null?void 0:v.actionUrl;e[13]!==s||e[14]!==x?(y=babelHelpers["extends"]({},s,{text:x}),e[13]=s,e[14]=x,e[15]=y):y=e[15];a=y;e[16]===Symbol["for"]("react.memo_cache_sentinel")?(w=k.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}),e[16]=w):w=e[16];e[17]!==a||e[18]!==t?(x=k.jsx(c("MWV2ChatText.react"),{isSecureMessage:!1,message:a,outgoing:t}),e[17]=a,e[18]=t,e[19]=x):x=e[19];e[20]!==f||e[21]!==g||e[22]!==h||e[23]!==a||e[24]!==t||e[25]!==x?(y=k.jsxs(k.Fragment,{children:[w,k.jsx(c("MWV2ChatBubbleContainer.react"),{connectBottom:f,connectTop:g,hasEmphasisRing:h,message:a,outgoing:t,precedesXMA:!1,children:x})]}),e[20]=f,e[21]=g,e[22]=h,e[23]=a,e[24]=t,e[25]=x,e[26]=y):y=e[26];return y}if(d("MAWIsReceiverFetchXmaInLoadingState").isReceiverFetchXmaInLoadingState(s.displayedContentTypes,v)){r==null?void 0:r.addPoint("fetch_xma_data_receiver_fetch");e[27]===Symbol["for"]("react.memo_cache_sentinel")?(w=k.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}),e[27]=w):w=e[27];h=t?"right":"left";e[28]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx(c("MWChatTypingIndicator.react"),{}),e[28]=a):a=e[28];e[29]!==h||e[30]!==f||e[31]!==g?(x=k.jsx(c("MWXMessageBubble.react"),{align:h,color:"incoming",connectBottom:f,connectTop:g,children:a}),e[29]=h,e[30]=f,e[31]=g,e[32]=x):x=e[32];e[33]!==g||e[34]!==s||e[35]!==t||e[36]!==x?(y=k.jsxs(k.Fragment,{children:[w,k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:g,message:s,outgoing:t,xstyle:p.unsetWidth,children:x})]}),e[33]=g,e[34]=s,e[35]=t,e[36]=x,e[37]=y):y=e[37];return y}a=(i||(i=d("I64"))).equal(s.displayedContentTypes,(j||(j=d("LSIntEnum"))).ofNumber(4))?!1:void 0;e[38]!==v||e[39]!==f||e[40]!==g||e[41]!==r||e[42]!==s||e[43]!==t||e[44]!==n?(h=v==null&&b("cr:10515")?k.jsxs(k.Fragment,{children:[k.jsx(b("cr:10515"),{connectBottom:f,connectTop:g,mediaRenderQpl:r,message:s,outgoing:t}),k.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureAttachment.react.separate_read",hold:!0})]}):k.jsx(q,{connectBottom:f,connectTop:g,dbAttachment:d("HelpdeskGeminiNullthrows").nullthrows(v),hasText:n,mediaRenderQpl:r,message:s,outgoing:t}),e[38]=v,e[39]=f,e[40]=g,e[41]=r,e[42]=s,e[43]=t,e[44]=n,e[45]=h):h=e[45];e[46]!==g||e[47]!==s||e[48]!==a||e[49]!==u||e[50]!==h?(w=k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:g,message:s,paint:a,renderEmphasisRing:u,children:h}),e[46]=g,e[47]=s,e[48]=a,e[49]=u,e[50]=h,e[51]=w):w=e[51];return w}g["default"]=a}),98);
__d("MAWUnavailablePlaceholder.react",["fbt","MWV2TombstonedMessage.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(3);a=a.isOutgoing;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=c("gkx")("2161")?h._("__JHASH__bLtIFgZUFni__JHASH__"):h._("__JHASH__M9fzIhDqITQ__JHASH__"),b[0]=d):d=b[0];b[1]!==a?(d=k.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,children:d}),b[1]=a,b[2]=d):d=b[2];return d}g["default"]=a}),226);
__d("MAWUnavailableStoryPlaceholder.react",["fbt","MWV2TombstonedMessage.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(3);a=a.isOutgoing;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=h._("__JHASH__pGZ-I0iz-G0__JHASH__"),b[0]=d):d=b[0];b[1]!==a?(d=k.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,children:d}),b[1]=a,b[2]=d):d=b[2];return d}g["default"]=a}),226);
__d("MAWSecurePlaceholderTombstone.react",["MAWUnavailablePlaceholder.react","MAWUnavailableStoryPlaceholder.react","ReQL","ReQLSuspense","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function l(a){var b=j(8),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.attachments||b[1]!==a.threadKey||b[2]!==a.messageId?(g=function(){return d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(a.threadKey,a.messageId)},b[0]=e.tables.attachments,b[1]=a.threadKey,b[2]=a.messageId,b[3]=g):g=b[3];var i;b[4]!==e||b[5]!==a.threadKey||b[6]!==a.messageId?(i=[e,a.threadKey,a.messageId],b[4]=e,b[5]=a.threadKey,b[6]=a.messageId,b[7]=i):i=b[7];return d("ReQLSuspense").useFirst(g,i,f.id+":25")}function a(a){var b=j(4),d=a.isOutgoing;a=a.message;a=a;a=l(a);if(a==null)return null;a=a.defaultCtaType;if(a==="xma_montage_share"){b[0]!==d?(a=k.jsx(c("MAWUnavailableStoryPlaceholder.react"),{isOutgoing:d}),b[0]=d,b[1]=a):a=b[1];return a}c("recoverableViolation")("Unexpected case where message is tombstone type but the attachment is not xma montage share","messenger_web_sharing");b[2]!==d?(a=k.jsx(c("MAWUnavailablePlaceholder.react"),{isOutgoing:d}),b[2]=d,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("MAWSecurePlaceholder.react",["fbt","FBLogger","I64","Int64Hooks","LSIntEnum","MAWLocalizationType","MAWSecurePlaceholderTombstone.react","MAWUnavailablePlaceholder.react","MWPMessageListColumn.react","MWV2TombstonedMessage.react","MWXLink.react","MWXText.react","getMAWLocalizedFallbackMsgSnippet","gkx","justknobx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=(i||(i=d("react"))).c,m=i;function n(a){var b=l(58),e=a.actorId;a=a.message;var f=a.displayedContentTypes,g=a.senderId,i;b[0]!==g||b[1]!==e?(i=(j||(j=d("I64"))).equal(g,e),b[0]=g,b[1]=e,b[2]=i):i=b[2];g=i;b[3]!==f?(e=function(){if(!c("justknobx")._("3168"))return;(j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(65536))&&c("FBLogger")("messenger_encryption_placeholder").info("Message show up as encryption placeholder")},i=[f],b[3]=f,b[4]=e,b[5]=i):(e=b[4],i=b[5]);d("Int64Hooks").useEffectInt64(e,i);if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(65536))){b[6]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_ENCRYPTED_MESSAGE_FALLBACK),b[6]=e):e=b[6];b[7]!==g?(i=c("gkx")("3328")&&m.jsxs(m.Fragment,{children:[" ",m.jsx(c("MWXText.react"),{color:g?"white":"primary",type:"bodyLink3",children:m.jsx(c("MWXLink.react"),{href:"https://www.facebook.com/help/messenger-app/2751245661706174?cms_platform=iphone-app&helpref=platform_switcher&locale=en_US",target:"_blank",children:h._("__JHASH__LQVpvI75ts___JHASH__")})})]}),b[7]=g,b[8]=i):i=b[8];b[9]!==g||b[10]!==i?(e=m.jsxs(c("MWV2TombstonedMessage.react"),{isOutgoing:g,children:[e,i]}),b[9]=g,b[10]=i,b[11]=e):e=b[11];return e}if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(131072))){i=g?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK;b[12]!==i?(e=c("getMAWLocalizedFallbackMsgSnippet")(i),b[12]=i,b[13]=e):e=b[13];b[14]!==g||b[15]!==e?(i=m.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:g,children:e}),b[14]=g,b[15]=e,b[16]=i):i=b[16];return i}if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(524288))){e=g?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION_FALLBACK;b[17]!==e?(i=c("getMAWLocalizedFallbackMsgSnippet")(e),b[17]=e,b[18]=i):i=b[18];b[19]!==g||b[20]!==i?(e=m.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:g,children:i}),b[19]=g,b[20]=i,b[21]=e):e=b[21];return e}if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(1048576))){i=g?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POLL_CREATION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POLL_CREATION_FALLBACK;b[22]!==i?(e=c("getMAWLocalizedFallbackMsgSnippet")(i),b[22]=i,b[23]=e):e=b[23];b[24]!==g||b[25]!==e?(i=m.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:g,children:e}),b[24]=g,b[25]=e,b[26]=i):i=b[26];return i}if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(2097152))){e=g?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK;b[27]!==e?(i=c("getMAWLocalizedFallbackMsgSnippet")(e),b[27]=e,b[28]=i):i=b[28];b[29]!==g||b[30]!==i?(e=m.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:g,children:i}),b[29]=g,b[30]=i,b[31]=e):e=b[31];return e}if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(4194304))){i=g?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION_FALLBACK;b[32]!==i?(e=c("getMAWLocalizedFallbackMsgSnippet")(i),b[32]=i,b[33]=e):e=b[33];b[34]!==g||b[35]!==e?(i=m.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:g,children:e}),b[34]=g,b[35]=e,b[36]=i):i=b[36];return i}if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(8388608))){b[37]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.META_AI_SEND_MESSAGE_FALLBACK),b[37]=e):e=b[37];b[38]!==g?(i=m.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:g,children:e}),b[38]=g,b[39]=i):i=b[39];return i}if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(16777216))){e=g?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE;b[40]!==e?(i=c("getMAWLocalizedFallbackMsgSnippet")(e),b[40]=e,b[41]=i):i=b[41];b[42]!==g||b[43]!==i?(e=m.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:g,children:i}),b[42]=g,b[43]=i,b[44]=e):e=b[44];return e}if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(262144))){b[45]!==g?(i=m.jsx(c("MAWUnavailablePlaceholder.react"),{isOutgoing:g}),b[45]=g,b[46]=i):i=b[46];return i}if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(256))){b[47]!==g||b[48]!==a?(e=m.jsx(c("MAWSecurePlaceholderTombstone.react"),{isOutgoing:g,message:a}),b[47]=g,b[48]=a,b[49]=e):e=b[49];return e}if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(33554432))){b[50]===Symbol["for"]("react.memo_cache_sentinel")?(i=c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE_ORIGINAL_UNAVAILABLE_FALLBACK),b[50]=i):i=b[50];b[51]!==g?(a=m.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:g,children:i}),b[51]=g,b[52]=a):a=b[52];return a}if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(67108864))){e=g?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK;b[53]!==e?(i=c("getMAWLocalizedFallbackMsgSnippet")(e),b[53]=e,b[54]=i):i=b[54];b[55]!==g||b[56]!==i?(a=m.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:g,children:i}),b[55]=g,b[56]=i,b[57]=a):a=b[57];return a}return null}function a(a){var b=l(4),c=a.actorId;a=a.message;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=m.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}),b[0]=e):e=b[0];b[1]!==c||b[2]!==a?(e=m.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[e,m.jsx(n,{actorId:c,message:a})]}),b[1]=c,b[2]=a,b[3]=e):e=b[3];return e}g["default"]=a}),226);
__d("MAWSecureAttachmentRenderer.react",["CometPlaceholder.react","MAWMsg","MAWSecureAttachment.react","MAWSecurePlaceholder.react","MWPActor.react","MWPMessageParsingUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.c;function k(a,b,e,f,g,h,j,k){b=d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectTop(a,b,"below");e=d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectBottom(a,e,"below");return i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWSecureAttachmentRenderer.Suspense",children:d("MAWMsg").isMediaMsg(a)||d("MAWMsg").isXMAMsg(a)?i.jsx(c("MAWSecureAttachment.react"),{connectBottom:e,connectTop:b,hasEmphasisRing:k,hasText:h,mediaRenderQpl:g,message:a,outgoing:f}):i.jsx(c("MAWSecurePlaceholder.react"),{actorId:j,message:a})})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=j(3),c=d("MWPActor.react").useActor(),e;b[0]!==c||b[1]!==a?(e=function(b,d,e,f,g,h){return k(b,d,e,f,h,g,c,a)},b[0]=c,b[1]=a,b[2]=e):e=b[2];b=e;return b}g.render=k;g.useRenderAttachment=a}),98);
__d("MAWMessageListRow.react",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWSecureAttachmentRenderer.react","MWMessageRow.react","MWPVisibleMessageContext.react","MWV2MessageActionsVisibility.react","isMWNewSearchUXEnabled","react","useGetMediaGroupInformation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||(h=d("react"))).c,k=h;function a(a){var b=j(29),e=a.domElementRef,f=a.lastEbMessageTime,g=a.modal,h=a.row,l=a.rowIndexFromBottom,m=a.thread;a=d("MWV2MessageActionsVisibility.react").useStopHoveringRef();var n;b[0]!==m.threadType?(n=d("LSMessagingThreadTypeUtil").isArmadilloSecure(m.threadType),b[0]=m.threadType,b[1]=n):n=b[1];n=n;var o=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();o=o.visibleMessage;var p=h.message,q;b[2]!==n||b[3]!==m.threadKey||b[4]!==p?(q=n?(i||(i=d("I64"))).equal(m.threadKey,p.threadKey):!1,b[2]=n,b[3]=m.threadKey,b[4]=p,b[5]=q):q=b[5];n=q;q=!1;if(o!=null){var r=o.messageId;bb0:switch(o.source){case"Reply":case"Pinned":q=r===p.messageId;break bb0;case"Search":b[6]!==r||b[7]!==p.messageId?(o=r===p.messageId&&c("isMWNewSearchUXEnabled")(),b[6]=r,b[7]=p.messageId,b[8]=o):o=b[8];q=o;break bb0;default:q=!1}}r=d("MAWSecureAttachmentRenderer.react").useRenderAttachment(q);var s;b[9]!==m.threadType?(o=function(){return m.threadType},s=[m.threadType],b[9]=m.threadType,b[10]=o,b[11]=s):(o=b[10],s=b[11]);o=d("Int64Hooks").useMemoInt64(o,s);s=c("useGetMediaGroupInformation")(p,n);if(s!=null&&s.groupId!=null&&s.isFirstMediaMessageInGroup===!1)return null;s=s==null?void 0:s.isMediaGroupLastMessage;g=g===p.messageId;var t;b[12]!==m.threadKey||b[13]!==e||b[14]!==q||b[15]!==s||b[16]!==g||b[17]!==n||b[18]!==f||b[19]!==p||b[20]!==h.nextMessage||b[21]!==h.prevMessage||b[22]!==r||b[23]!==l||b[24]!==a||b[25]!==o?(t={containerThreadKey:m.threadKey,domElementRef:e,hasMessageEmphasisRing:q,isMediaGroupLastMessage:s,isModal:g,isSecureMessage:n,lastEbMessageTime:f,message:p,nextMessage:h.nextMessage,prevMessage:h.prevMessage,renderAttachment:r,rowIndexFromBottom:l,stopHoveringRef:a,threadType:o},b[12]=m.threadKey,b[13]=e,b[14]=q,b[15]=s,b[16]=g,b[17]=n,b[18]=f,b[19]=p,b[20]=h.nextMessage,b[21]=h.prevMessage,b[22]=r,b[23]=l,b[24]=a,b[25]=o,b[26]=t):t=b[26];e=t;b[27]!==e?(q=k.jsx(d("MWMessageRow.react").MWMessageRow,babelHelpers["extends"]({},e)),b[27]=e,b[28]=q):q=b[28];return q}g["default"]=a}),98);
__d("MWContextBannerChannelActivationPrompt.react",["fbt","ix","BroadcastChannelQPL","MWXImage.react","MWXTextPairing.react","react","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.c;function a(){var a=l(6),b=m;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={onImpressionStart:b},a[0]=b):b=a[0];b=c("useSinglePartialViewImpression")(b);var d;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(d="x6s0dn4 x78zum5 xdt5ytf xl56j7k xkrivgy x4ii5y1 x1gryazu x1pdq3kb xw5ewwj x2b8uid",a[1]=d):d=a[1];var e;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx(c("MWXImage.react"),{src:i("196163"),xstyle:n.image}),a[2]=e):e=a[2];var f;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx(c("MWXTextPairing.react"),{body:h._("__JHASH__2R6ky2hU7sc__JHASH__"),headline:h._("__JHASH__mjI7Tnaq_t2__JHASH__"),level:4,testid:void 0,textAlign:"center"}),a[3]=f):f=a[3];a[4]!==b?(d=k.jsxs("div",{className:d,ref:b,children:[e,f]}),a[4]=b,a[5]=d):d=a[5];return d}function m(){var a;(a=d("BroadcastChannelQPL")).logCreateChannelNavigationToThreadEnd();a.logCCTVJoinNavigationToThreadEnd();a.logCreateChannelToThreadViewQPLSuccess();a.logCCTVJoinSuccess()}var n={image:{marginBottom:"x1hq5gj4",$$css:!0}};g["default"]=a}),226);
__d("MWContextBannerEndToEndEncryptedBanner.react",["fbt","ix","CometColumn.react","CometColumnItem.react","CometRow.react","CometRowItem.react","FDSIcon.react","FDSTextWithIcon.react","MWXLink.react","MWXText.react","XMessengerHelpCenterContentControllerRouteBuilder","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).c,l=j,m={banner:{backgroundColor:"xlhe6ec",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,$$css:!0}};function a(){var a=k(3);if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var b;b=(b=c("XMessengerHelpCenterContentControllerRouteBuilder").buildUri({cms_id:"786613221989782"}))==null?void 0:b.toString();a[0]=b}else b=a[0];b=b;var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx(c("CometColumnItem.react"),{expanding:!0,children:l.jsx(c("MWXText.react"),{align:"center",type:"bodyLink4",children:l.jsx(c("FDSTextWithIcon.react"),{iconBefore:l.jsx(c("FDSIcon.react"),{icon:d("fbicon")._(i("1596805"),10),size:10}),children:h._("__JHASH__Kow3rs5K3HC__JHASH__")})})}),a[1]=e):e=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx(c("CometRow.react"),{align:"center",paddingHorizontal:0,paddingTop:12,children:l.jsx(c("CometRowItem.react"),{children:l.jsxs(c("CometColumn.react"),{spacing:8,verticalAlign:"center",xstyle:m.banner,children:[e,l.jsx(c("CometColumnItem.react"),{children:l.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:h._("__JHASH__yxX1nJvmnv5__JHASH__",[h._implicitParam("=m1",l.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:h._("__JHASH__bPYVQTNBjFa__JHASH__",[h._implicitParam("=m1",l.jsx(c("MWXLink.react"),{href:b,target:"_blank",children:h._("__JHASH__vo_wtcDrjQ6__JHASH__")}))])}))])})})]})})}),a[2]=e):e=a[2];return e}g["default"]=a}),226);
__d("MWContextBannerNullstateDescription.react",["I64","LSIntEnum","LSNullstateDescriptionType","MWXText.react","RecoverableViolation.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||(h=d("react"))).c,l=h;function a(a){var b=k(4),e=a.kind;a=a.text;if((i||(i=d("I64"))).equal(e,(i||(i=d("I64"))).zero)||(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").SUBTEXT))||(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").TITLE_SMALL_DEFAULT))||(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").TITLE_SMALL_SUBTEXT))){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e="xsag5q8",b[0]=e):e=b[0];b[1]!==a?(e=l.jsx("div",{className:e,children:l.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:a})}),b[1]=a,b[2]=e):e=b[2];return e}else{b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("RecoverableViolation.react"),{errorMessage:"Unhandled nullstate description",projectName:"messenger_comet"}),b[3]=a):a=b[3];return a}}g["default"]=a}),98);
__d("MWPWebWorkerDisconnectedBanner.react",["ix","CometContextualMessage.react","CometImageFromIXValue.react","MAWIssueNewUserVisibleErrors","MWXButtonGroup.react","asyncToGeneratorRuntime","fbs","promiseDone","react","requireDeferred","useMAWGetUserVisibleErrors"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useState,l=e.c,m=c("requireDeferred")("MAWEncryptionErrorHandler").__setRef("MWPWebWorkerDisconnectedBanner.react");function a(){var a=l(26),e=c("useMAWGetUserVisibleErrors")(),f=e[0],g=e[1];e=k(!1);var i=e[0],n=e[1];e=k(!1);var o=e[0],p=e[1];a[0]!==f||a[1]!==g?(e=function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){n(!0);if((f==null?void 0:f.errorExtraData)==="MAWEARKeychainDecryptionError"){var a=(yield m.load());yield a.handleEARKeychainError()}return g()})(),function(){window.location.reload(!0)},function(){n(!1)})},a[0]=f,a[1]=g,a[2]=e):e=a[2];e=e;var q;a[3]!==g?(q=function(){c("promiseDone")(g(),function(){p(!0)})},a[3]=g,a[4]=q):q=a[4];q=q;var r;a[5]!==(f==null?void 0:f.errorBodyText)?(r=d("MAWIssueNewUserVisibleErrors").errorMsgBodyToFbtMap.get(f==null?void 0:f.errorBodyText),a[5]=f==null?void 0:f.errorBodyText,a[6]=r):r=a[6];r=r;var s;a[7]!==(f==null?void 0:f.errorTitleText)?(s=d("MAWIssueNewUserVisibleErrors").errorMsgTitleToFbtMap.get(f==null?void 0:f.errorTitleText),a[7]=f==null?void 0:f.errorTitleText,a[8]=s):s=a[8];s=s;if(f&&r!=null&&s!=null&&c("CometContextualMessage.react")&&!o){a[9]===Symbol["for"]("react.memo_cache_sentinel")?(o="xjf5wm9 x17qophe xdj266r x11i5rnm xat24cr x1mh8g0r x10l6tqk x13vifvy xh8yej3",a[9]=o):o=a[9];var t;a[10]===Symbol["for"]("react.memo_cache_sentinel")?(t=c("fbs")._("__JHASH__PnVpnKg9Gg___JHASH__"),a[10]=t):t=a[10];a[11]!==i||a[12]!==e?(t=j.jsx(c("MWXButtonGroup.react"),{align:"justify",paddingHorizontal:12,primary:{disabled:i,label:t,loading:i,onPress:e,testid:"mw-encrypted-backups-in-thread-web-worker-failure-reset"}}),a[11]=i,a[12]=e,a[13]=t):t=a[13];a[14]!==s?(i=j.jsx(j.Fragment,{children:s}),a[14]=s,a[15]=i):i=a[15];a[16]===Symbol["for"]("react.memo_cache_sentinel")?(e=h("1351648"),a[16]=e):e=a[16];a[17]!==s?(e=j.jsx(c("CometImageFromIXValue.react"),{alt:s,source:e}),a[17]=s,a[18]=e):e=a[18];a[19]!==t||a[20]!==r||a[21]!==i||a[22]!==s||a[23]!==e||a[24]!==q?(o=j.jsx("div",{className:o,children:j.jsx(c("CometContextualMessage.react"),{addOnPrimary:t,body:r,headline:i,headlineAriaLabel:s,icon:e,level:4,onClose:q})}),a[19]=t,a[20]=r,a[21]=i,a[22]=s,a[23]=e,a[24]=q,a[25]=o):o=a[25];return o}}g["default"]=a}),226);
__d("MWMessageElementRefList",[],(function(a,b,c,d,e,f){"use strict";function a(){var a=new Map(),b=new Map(),c={contents:void 0};return{get:function(b,d){var e=a.get(b);if(e==null){c.contents=[b,d];return}return d(e)},set:function(d){var e=b.get(d);if(e!=null)return e;e=function(b){if(b==null){a["delete"](d);return}a.set(d,b);if(c.contents!=null&&c.contents[0]===d){var e=c.contents;e[0];e=e[1];e(b);c.contents=void 0;return}};b.set(d,e);return e}}}f["default"]=a}),66);
__d("useMWCurrentVisibleMessage",["I64","Int64Hooks","LSFactory","LSMessagePointQueryStoredProcedure","MWMessageElementRefList","MWPVisibleMessageContext.react","ReQL","ReQLSuspense","promiseDone","react","setTimeout","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");var k=b.useCallback,l=b.useEffect,m=b.useRef,n=b.useState;function a(a,b){var e=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),g=e.visibleMessage,j=m(c("MWMessageElementRefList")()),o=a==null?void 0:a.threadKey,p=a==null?void 0:a.threadType,q=m(),r=(h||(h=c("useReStore")))(),s=d("ReQLSuspense").useFirst(function(){if(o==null)return d("ReQL").empty();if(g==null)return d("ReQL").fromTableDescending(r.tables.messages_ranges_v2__generated).getKeyRange(o);var a=g.timestamp;return d("ReQL").fromTableDescending(r.tables.messages_ranges_v2__generated).getKeyRange(o).bounds({lte:[a]}).filter(function(b){var c=b.maxTimestampMs;b=b.minTimestampMs;return(i||(i=d("I64"))).ge(a,b)&&(i||(i=d("I64"))).le(a,c)})},[o,g,r],f.id+":59");e=n(function(){return s});var t=e[0],u=e[1];l(function(){q.current=void 0,g==null&&(b==null?void 0:b.current)!=null&&b.current.scrollToBottom()},[b,g]);var v=k(function(a){var d=b==null?void 0:b.current;if(d!=null){c("setTimeout")(function(){return d.scrollElementIntoViewIfNeeded(a)},0);return}},[b]),w=k(function(a){if(a!==q.current)return j.current.get(a,function(b){v(b),q.current=a})},[v]);l(function(){s!=null?u(s):g==null&&u(function(){})},[g,s,u]);l(function(){g!=null&&t!=null&&g.messageId!=null&&w(g.messageId)},[r,g,t,w]);d("Int64Hooks").useEffectInt64(function(){if(a!=null&&s==null&&g!=null&&g.messageId!=null){var b,e=g.messageId;b=(i||(i=d("I64"))).to_int32((b=p)!=null?b:(i||(i=d("I64"))).neg_one);if(b!==-1&&(b===15||b===16))return;c("promiseDone")(r.runInTransaction(function(b){return c("LSMessagePointQueryStoredProcedure")(c("LSFactory")(b),{messageId:e,threadKey:a.threadKey,threadType:a.threadType})},"readwrite",void 0,void 0,f.id+":146"))}},[r,g,s,o,p,a]);return{messageElementRefs:j,messageRange:t,visibleMessage:(e=g)!=null?e:void 0}}g["default"]=a}),98);
__d("useMWLSIsViewerThreadAdminUsingThreadKey",["MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c;function a(a){var b=j(8),e=d("MWPActor.react").useActor(),g=(h||(h=c("useReStore")))(),i;b[0]!==g.tables.participants||b[1]!==a||b[2]!==e?(i=function(){return d("ReQL").fromTableAscending(g.tables.participants).getKeyRange(a,e)},b[0]=g.tables.participants,b[1]=a,b[2]=e,b[3]=i):i=b[3];var k;b[4]!==g||b[5]!==e||b[6]!==a?(k=[g,e,a],b[4]=g,b[5]=e,b[6]=a,b[7]=k):k=b[7];b=d("ReQLSuspense").useFirst(i,k,f.id+":24");return(i=b==null?void 0:b.isAdmin)!=null?i:!1}g["default"]=a}),98);
__d("useMWV2ConversationScrollerRefs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.useRef,j=b.c;function a(){var a=j(2),b=i(null),c;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c={type:"Bottom"},a[0]=c):c=a[0];c=i(c);a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b={scrollerRef:b,scrollPositionRef:c},a[1]=b):b=a[1];c=b;return c}g["default"]=a}),98);
__d("MWThreadUtilHooks",["LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWLSThread","MWPActor.react","ReQL","ReQLSuspense","gkx","react","useMWCurrentVisibleMessage","useMWLSIsViewerThreadAdminUsingThreadKey","useMWV2ConversationScrollerRefs","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c;function k(a){var b=j(12),e=c("useMWV2ConversationScrollerRefs")();e=c("useMWCurrentVisibleMessage")(a,e.scrollerRef);e=e.messageRange;e=(e=e==null?void 0:e.isLoadingBefore)!=null?e:!1;var g=a.threadKey,i=(h||(h=c("useReStore")))();b[0]!==i.tables.messages||b[1]!==g?(a=function(){return d("ReQL").fromTableDescending(i.tables.messages).getKeyRange(g).filter(function(a){return!a.isAdminMessage})},b[0]=i.tables.messages,b[1]=g,b[2]=a):a=b[2];var k;b[3]!==i||b[4]!==g?(k=[i,g],b[3]=i,b[4]=g,b[5]=k):k=b[5];a=d("ReQLSuspense").useFirst(a,k,f.id+":38");b[6]!==i.tables.attachments||b[7]!==g?(k=function(){return d("ReQL").fromTableDescending(i.tables.attachments).getKeyRange(g)},b[6]=i.tables.attachments,b[7]=g,b[8]=k):k=b[8];var l;b[9]!==i||b[10]!==g?(l=[i,g],b[9]=i,b[10]=g,b[11]=l):l=b[11];b=d("ReQLSuspense").useFirst(k,l,f.id+":47");k=a!=null||b!=null;return!(k||e)}function l(a){var b=j(2),c=k(a);if(!c)return!1;b[0]!==a.threadType?(c=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType),b[0]=a.threadType,b[1]=c):c=b[1];return c}function a(a){var b=j(2),c=k(a);a=d("MWLSThread").useThread(a.threadKey,m);if(!c)return!1;b[0]!==a?(c=d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a),b[0]=a,b[1]=c):c=b[1];return c}function m(a){return a.threadSubtype}function b(a){var b=j(3),e=l(a);a=c("useMWLSIsViewerThreadAdminUsingThreadKey")(a.threadKey);var f;b[0]!==e||b[1]!==a?(f=(d("MWPActor.react").isAPPlus()||c("gkx")("3378"))&&e&&a,b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g.useMWIsThreadWithZeroMessage=k;g.useMWIsFBBroadcastChannelWithZeroMessage=l;g.useMWIsIGBroadcastChannelWithZeroMessage=a;g.useMWIsAdminAndFBBroadcastChannelWithZeroMessage=b}),98);
__d("useIsAdmodOnboardingEnabledForThread.react",["LSThreadBitOffset","MWLSThread","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("MWLSThread").useThread(a,h);return c("gkx")("24034")&&Boolean(a)}function h(a){return d("LSThreadBitOffset").has(199,a)}g.useIsAdmodOnboardingEnabledForThread=a}),98);
__d("usePageType",["I64","ReQL","ReQLSuspense","gkx","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).c;function a(a){var b=k(6),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.contacts||b[1]!==a?(g=function(){var b;return d("ReQL").fromTableAscending(e.tables.contacts,["pageType"]).getKeyRange((b=a)!=null?b:(i||(i=d("I64"))).zero)},b[0]=e.tables.contacts,b[1]=a,b[2]=g):g=b[2];var j;b[3]!==e||b[4]!==a?(j=[e,a],b[3]=e,b[4]=a,b[5]=j):j=b[5];b=d("ReQLSuspense").useFirst(g,j,f.id+":24");if(!c("gkx")("23425"))return;return(b==null?void 0:b.pageType)!=null?b.pageType:void 0}g["default"]=a}),98);
__d("MWContextBanner.react",["fbt","BaseView.react","CometPlaceholder.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSPageType","LSThreadBitOffset","LSThreadTitle.react","LSVerificationBadge.react","MAWThreadCutover","MWCMThreadTypes.react","MWContextBannerChannelActivationPrompt.react","MWContextBannerEndToEndEncryptedBanner.react","MWContextBannerNullstateDescription.react","MWEditMessageOverlay.react","MWPWebWorkerDisconnectedBanner.react","MWThreadPicture.react","MWThreadUtilHooks","MWXText.react","ReQL","ReQLSuspense","cr:1607","cr:5777","cr:7232","gkx","isFeatureLimitEnabled","react","stylex","useIsAdmodOnboardingEnabledForThread.react","useIsReadOnlyFeatureLimitedWithThreadType","useMWPEditMessageDeemphasizer","usePageType","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=(k||(k=d("react"))).c,o=k,p={container:{backgroundColor:"x1eb86dx",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingTop:"x1cnzs8",$$css:!0}};function q(a){var e=n(5),f=a.isBusinessSupport,g=a.isReadOnlyFeatureLimited;a=a.thread;var h=d("useIsAdmodOnboardingEnabledForThread.react").useIsAdmodOnboardingEnabledForThread(a.threadKey),i=d("MWThreadUtilHooks").useMWIsAdminAndFBBroadcastChannelWithZeroMessage(a);if(g||f)return null;if(h&&b("cr:7232")!=null){e[0]!==a?(g=o.jsx(b("cr:7232"),{thread:a}),e[0]=a,e[1]=g):g=e[1];return g}if(d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&(l||(l=d("I64"))).gt(a.authorityLevel,(m||(m=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").SERVER_PARTIAL))&&b("cr:5777")!=null)if(i){e[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=o.jsx(c("MWContextBannerChannelActivationPrompt.react"),{}),e[2]=f):f=e[2];return f}else{e[3]!==a?(h=o.jsx(b("cr:5777"),{thread:a}),e[3]=a,e[4]=h):h=e[4];return h}return null}function a(a){var e=n(64),g=a.threadKey;a=a.threadType;var k=c("useIsReadOnlyFeatureLimitedWithThreadType")(a),s=d("MAWThreadCutover").useIsCutoverSecureThread(g),t=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(a);a=d("MWCMThreadTypes.react").isJoinedCMThread(a);var u=c("useMWPEditMessageDeemphasizer")(),v=(i||(i=c("useReStore")))(),w;e[0]!==v.tables.threads||e[1]!==g?(w=function(){return d("ReQL").fromTableAscending(v.tables.threads,["authorityLevel","isCustomThreadPicture","needsAdminApprovalForNewParticipant","nullstateDescriptionText1","nullstateDescriptionText2","nullstateDescriptionText3","nullstateDescriptionType1","nullstateDescriptionType2","nullstateDescriptionType3","parentThreadKey","threadDescription","threadInviteLink","threadInvitesEnabledV2","threadKey","threadName","threadPictureUrl","threadPictureUrlExpirationTimestampMs","threadPictureUrlFallback","threadType","capabilities","capabilities2","capabilities3","capabilities4"]).getKeyRange(g)},e[0]=v.tables.threads,e[1]=g,e[2]=w):w=e[2];var x;e[3]!==v||e[4]!==g?(x=[v,g],e[3]=v,e[4]=g,e[5]=x):x=e[5];w=d("ReQLSuspense").useFirst(w,x,f.id+":130");x=c("usePageType")(w==null?void 0:w.threadKey);if(w==null)return null;var y=d("LSThreadBitOffset").has(47,w);if(y)return null;y=w.nullstateDescriptionText1;var z=w.nullstateDescriptionText2,A=w.nullstateDescriptionText3,B=w.nullstateDescriptionType1,C=w.nullstateDescriptionType2,D=w.nullstateDescriptionType3,E;e[6]!==w.parentThreadKey?(E=(l||(l=d("I64"))).equal(w.parentThreadKey,(m||(m=d("LSIntEnum"))).ofNumber(-18)),e[6]=w.parentThreadKey,e[7]=E):E=e[7];E=E;var F;e[8]!==w.threadType?(F=d("LSMessagingThreadTypeUtil").isArmadilloSecure(w.threadType),e[8]=w.threadType,e[9]=F):F=e[9];F=F;var G;e[10]!==k||e[11]!==F?(G=k&&(!F||c("isFeatureLimitEnabled")()),e[10]=k,e[11]=F,e[12]=G):G=e[12];k=G;e[13]===Symbol["for"]("react.memo_cache_sentinel")?(G="xxymvpz",e[13]=G):G=e[13];e[14]!==w.threadKey?(G=o.jsx("span",{className:G,children:o.jsx(c("CometPlaceholder.react"),{fallback:null,children:o.jsx(c("LSVerificationBadge.react"),{size:"large",threadKey:w.threadKey})})}),e[14]=w.threadKey,e[15]=G):G=e[15];G=G;var H;e[16]!==w?(H=o.jsx(c("LSThreadTitle.react"),{thread:w,wrapOutput:r}),e[16]=w,e[17]=H):H=e[17];H=H;var I;e[18]!==u?(I=(j||(j=c("stylex")))(p.container,u),e[18]=u,e[19]=I):I=e[19];e[20]===Symbol["for"]("react.memo_cache_sentinel")?(u="x78zum5 xl56j7k xod5an3",e[20]=u):u=e[20];e[21]!==w.threadKey?(u=o.jsx("div",{className:u,children:o.jsx(c("MWThreadPicture.react"),{badgeSize:14,photoSize:60,threadKey:w.threadKey})}),e[21]=w.threadKey,e[22]=u):u=e[22];var J;e[23]===Symbol["for"]("react.memo_cache_sentinel")?(J="xod5an3",e[23]=J):J=e[23];t=!t&&!a&&!c("gkx")("24081")&&G;e[24]!==H||e[25]!==t?(a=o.jsx("div",{className:J,children:o.jsxs(c("MWXText.react"),{align:"center",numberOfLines:1,type:"headlineEmphasized3",children:[H,t]})}),e[24]=H,e[25]=t,e[26]=a):a=e[26];e[27]!==x?(G=x!=null&&(l||(l=d("I64"))).equal(x,(m||(m=d("LSIntEnum"))).ofNumber(c("LSPageType").AI))?o.jsx("div",{className:"xod5an3",children:o.jsx(c("MWXText.react"),{align:"center",color:"primary",type:"body4",children:h._("__JHASH__5MDaoXA0f1Z__JHASH__")})}):null,e[27]=x,e[28]=G):G=e[28];e[29]!==y||e[30]!==B?(J=y!=null&&B!=null?o.jsx(c("MWContextBannerNullstateDescription.react"),{kind:B,text:y}):null,e[29]=y,e[30]=B,e[31]=J):J=e[31];e[32]!==z||e[33]!==C?(H=z!=null&&C!=null?o.jsx(c("MWContextBannerNullstateDescription.react"),{kind:C,text:z}):null,e[32]=z,e[33]=C,e[34]=H):H=e[34];e[35]!==A||e[36]!==D?(t=A!=null&&D!=null?o.jsx(c("MWContextBannerNullstateDescription.react"),{kind:D,text:A}):null,e[35]=A,e[36]=D,e[37]=t):t=e[37];e[38]!==g?(x=b("cr:1607")!=null&&o.jsx(b("cr:1607"),{threadKey:g}),e[38]=g,e[39]=x):x=e[39];e[40]!==E||e[41]!==k||e[42]!==w?(y=o.jsx(q,{isBusinessSupport:E,isReadOnlyFeatureLimited:k,thread:w}),e[40]=E,e[41]=k,e[42]=w,e[43]=y):y=e[43];e[44]!==F||e[45]!==s?(B=F&&!s?o.jsx(c("MWContextBannerEndToEndEncryptedBanner.react"),{}):null,e[44]=F,e[45]=s,e[46]=B):B=e[46];e[47]!==F?(z=F&&c("MWPWebWorkerDisconnectedBanner.react")?o.jsx(c("MWPWebWorkerDisconnectedBanner.react"),{}):null,e[47]=F,e[48]=z):z=e[48];e[49]!==I||e[50]!==u||e[51]!==a||e[52]!==G||e[53]!==J||e[54]!==H||e[55]!==t||e[56]!==x||e[57]!==y||e[58]!==B||e[59]!==z?(C=o.jsxs("div",{className:I,"data-testid":void 0,children:[u,a,G,J,H,t,x,y,B,z]}),e[49]=I,e[50]=u,e[51]=a,e[52]=G,e[53]=J,e[54]=H,e[55]=t,e[56]=x,e[57]=y,e[58]=B,e[59]=z,e[60]=C):C=e[60];e[61]===Symbol["for"]("react.memo_cache_sentinel")?(A=o.jsx(c("MWEditMessageOverlay.react"),{}),e[61]=A):A=e[61];e[62]!==C?(D=o.jsxs(c("BaseView.react"),{children:[C,A]}),e[62]=C,e[63]=D):D=e[63];return D}function r(a,b){return b}g["default"]=a}),226);
__d("useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB",["I64","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).c;function a(a){var b=k(14),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.occamadillo_most_recent_message_per_thread||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.occamadillo_most_recent_message_per_thread).getKeyRange(a)},b[0]=e.tables.occamadillo_most_recent_message_per_thread,b[1]=a,b[2]=g):g=b[2];var j;b[3]!==e||b[4]!==a?(j=[e,a],b[3]=e,b[4]=a,b[5]=j):j=b[5];g=d("ReQLSuspense").useFirst(g,j,f.id+":27");b[6]!==e.tables.threads||b[7]!==a?(j=function(){return d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(a)},b[6]=e.tables.threads,b[7]=a,b[8]=j):j=b[8];var l;b[9]!==e||b[10]!==a?(l=[e,a],b[9]=e,b[10]=a,b[11]=l):l=b[11];j=d("ReQLSuspense").useArray(j,l,f.id+":35");if((g==null?void 0:g.timestampMs)==null){b[12]!==j?(l=(i||(i=d("I64"))).div(j[0].lastActivityTimestampMs,i.of_float(1e3)),b[12]=j,b[13]=l):l=b[13];return l}return g==null?void 0:g.timestampMs}g["default"]=a}),98);
__d("MAWMessageList.react",["BaseTheme.react","CometErrorBoundary.react","CometPageletWithDiv.react","CometRelay","CometScreenReaderText.react","EBAPI","FBLogger","I64","LSMessagingThreadTypeUtil","MAWLoadingStateOutstandingUIReadyOfflineQueueSelector","MAWMessageListRow.react","MAWMiActOnActThreadReady","MWBaseTheme","MWBlockingProtectionContext.react","MWContextBanner.react","MWInboxThreadMessagesSpinner.react","MWJumpToMostRecentMessageButton.react","MWPActor.react","MWPMessageListColumn.react","MWPMessageListFocusTable.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWV2ChatErrorBubble.react","MWV2MessageRowSimple.react","WAJids","asyncToGeneratorRuntime","cr:3907","cr:7486","cr:8795","gkx","mwpMessageIsReply","react","useAsyncReStore","useMAWOfflineQueueLoadingIndicator","useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB","useMWMessageRowTheme","useMWPAriaLabelForMessageListGrid","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j,m=l.useEffect,n=l.useId,o=l.useState,p=l.c;function q(a){return k.jsx(c("MWJumpToMostRecentMessageButton.react"),{onPress:a})}q.displayName=q.name+" [from "+f.id+"]";function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield a);a=(yield d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,b,"getChatJid"));b=(yield c("EBAPI").messageMetadataQuery({direction:"after",fetchPolicy:"store-or-network",numberOfMessages:1,referenceTimestamp:null,threadId:d("WAJids").threadIdForChatJid(a.chatJid)}));return b.value?b.value.messages:[]});return s.apply(this,arguments)}function a(a){var b=p(11),e=a.theme,f=a.threadKey;a=a.threadType;e=e===void 0?d("MWBaseTheme").empty:e;var g=d("MWPTypingIndicators.react").useTypingParticipants(f),h=d("MWPTypingIndicators.react").useAccessibilityText(g);if(g.length>0){b[0]!==h?(g=k.jsx("div",{"aria-live":"polite",children:k.jsx(c("CometScreenReaderText.react"),{text:h})}),b[0]=h,b[1]=g):g=b[1];b[2]!==f||b[3]!==a?(h=k.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:f,threadType:a}),b[2]=f,b[3]=a,b[4]=h):h=b[4];b[5]!==g||b[6]!==h?(f=k.jsx(c("MWV2MessageRowSimple.react"),{children:k.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:[g,h]})}),b[5]=g,b[6]=h,b[7]=f):f=b[7];b[8]!==e||b[9]!==f?(a=k.jsx(c("BaseTheme.react"),{config:e,children:f}),b[8]=e,b[9]=f,b[10]=a):a=b[10];return a}else return null}var t=d("withCometPlaceholder").withCometPlaceholder(a);l=k.forwardRef(e);function e(a,e){var f=p(51),g=a.cutoverOpenThread,j=a.entryPoint,l=a.onScrollToBottom,s=a.thread;a=(h||(h=c("useReStore")))();var v=c("useAsyncReStore")(),w=d("MWPActor.react").useActor(),x=c("useMWPAriaLabelForMessageListGrid")(s),y=c("useMWMessageRowTheme")(),z=o(""),A=z[0];z=z[1];var B=n(),C=d("CometRelay").useRelayEnvironment(),D;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(D=[],f[0]=D):D=f[0];D=o(D);var E=D[0],F=D[1];f[1]!==v||f[2]!==s.threadKey?(D=function(){c("gkx")("6827")&&r(v,s.threadKey).then(function(a){return F(a)})["catch"](function(a){return c("FBLogger")("messenger_e2ee_web").catching(a).warn("Unable to get last EB message timestamp")})},f[1]=v,f[2]=s.threadKey,f[3]=D):D=f[3];var G;f[4]!==v||f[5]!==C||f[6]!==s.threadKey?(G=[v,C,s.threadKey],f[4]=v,f[5]=C,f[6]=s.threadKey,f[7]=G):G=f[7];m(D,G);var H;H=(i||(i=d("I64"))).zero;C=c("useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB")(s.threadKey);if(c("gkx")("6827"))E.length>0&&E[0].sortOrderMs!=null&&(H=(i||(i=d("I64"))).of_string(E[0].sortOrderMs));else{H=(D=C)!=null?D:(i||(i=d("I64"))).zero}var I=b("cr:8795")(a,s.threadKey,s.threadType);G=c("useMAWOfflineQueueLoadingIndicator")(!1,s,d("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector").outstandingUIReadyOfflineQueueSelector);f[8]!==s.threadType?(E=d("LSMessagingThreadTypeUtil").isArmadilloSecure(s.threadType),f[8]=s.threadType,f[9]=E):E=f[9];var J=E;f[10]!==J||f[11]!==I?(C=function(a,b,c,d){J&&I(a,b,c,d)},f[10]=J,f[11]=I,f[12]=C):C=f[12];f[13]!==y||f[14]!==s.threadKey||f[15]!==s.threadType?(D=function(){return k.jsx(t,{theme:y,threadKey:s.threadKey,threadType:s.threadType})},f[13]=y,f[14]=s.threadKey,f[15]=s.threadType,f[16]=D):D=f[16];f[17]!==s.threadKey||f[18]!==s.threadType?(a=function(){return k.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrowJustified,{children:[k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),k.jsx(c("MWContextBanner.react"),{threadKey:s.threadKey,threadType:s.threadType})]})},f[17]=s.threadKey,f[18]=s.threadType,f[19]=a):a=f[19];E=H;var K;f[20]!==w||f[21]!==E||f[22]!==A||f[23]!==s?(K=function(a){var b=a.domElementRef,e=a.message,f=a.nextMessage,g=a.prevMessage;a=a.rowIndexFromBottom;var h=c("mwpMessageIsReply")(e),j=(i||(i=d("I64"))).equal(e.senderId,w);return k.jsx(c("CometErrorBoundary.react"),{fallback:function(){return k.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:j,isReply:h})},children:k.jsx(c("MAWMessageListRow.react"),{domElementRef:b,lastEbMessageTime:H,modal:A,row:{message:e,nextMessage:f,prevMessage:g},rowIndexFromBottom:a,thread:s})})},f[20]=w,f[21]=E,f[22]=A,f[23]=s,f[24]=K):K=f[24];f[25]!==j||f[26]!==C||f[27]!==l||f[28]!==e||f[29]!==D||f[30]!==a||f[31]!==K||f[32]!==g||f[33]!==G||f[34]!==s?(E=k.jsx(b("cr:7486"),{entryPoint:j,onPageLoaded:C,onScrollToBottom:l,pageSize:c("gkx")("23432")?3:15,ref:e,renderFooter:D,renderHeader:a,renderJumpToMostRecentMessageButton:q,renderLoadingAnimation:u,renderRow:K,secondaryThread:g,shouldPausePageLoadTracking:G,thread:s}),f[25]=j,f[26]=C,f[27]=l,f[28]=e,f[29]=D,f[30]=a,f[31]=K,f[32]=g,f[33]=G,f[34]=s,f[35]=E):E=f[35];j=E;f[36]===Symbol["for"]("react.memo_cache_sentinel")?(C="x78zum5 xdt5ytf x1iyjqo2 x5yr21d",f[36]=C):C=f[36];f[37]===Symbol["for"]("react.memo_cache_sentinel")?(l="x78zum5 xdt5ytf x1iyjqo2 x5yr21d",f[37]=l):l=f[37];f[38]!==j||f[39]!==B?(e=b("cr:3907")==null?j:k.jsx(b("cr:3907"),{id:B,children:j}),f[38]=j,f[39]=B,f[40]=e):e=f[40];f[41]!==x||f[42]!==A||f[43]!==e?(D=k.jsx(c("MWBlockingProtectionContext.react").Provider,{children:k.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:x,modal:A,setModal:z,children:e})}),f[41]=x,f[42]=A,f[43]=e,f[44]=D):D=f[44];f[45]!==s||f[46]!==D?(a=k.jsx(d("CometPageletWithDiv.react").Placeholder,{className:l,fallback:null,name:"MWV2MessageList",children:k.jsx(d("MWPThreadCapabilitiesContext").Provider,{thread:s,children:D})}),f[45]=s,f[46]=D,f[47]=a):a=f[47];f[48]!==B||f[49]!==a?(K=k.jsx("div",{className:C,"data-testid":void 0,id:B,children:a}),f[48]=B,f[49]=a,f[50]=K):K=f[50];return K}function u(){return k.jsx(c("MWInboxThreadMessagesSpinner.react"),{})}u.displayName=u.name+" [from "+f.id+"]";a=l;g["default"]=a}),98);
__d("MWPOneToOneThreadBlockedContext.react",["I64","Int64Hooks","LSContactBlockedByViewerStatus","LSIntEnum","MWV2OneToOneThreadBlockedContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||(h=d("react"))).c,l=h;function a(a){var b=k(7),e=a.children,f=a.participants,g=a.thread,h;b[0]!==g.threadType||b[1]!==f?(a=function(){if(!((i||(i=d("I64"))).equal(g.threadType,(j||(j=d("LSIntEnum"))).ofNumber(1))||(i||(i=d("I64"))).equal(g.threadType,(j||(j=d("LSIntEnum"))).ofNumber(15))))return!1;var a={contents:!1};f.forEach(function(b,e,f){if(!(i||(i=d("I64"))).equal(b[1].blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))){a.contents=!0;return}});return a.contents},h=[g.threadType,f],b[0]=g.threadType,b[1]=f,b[2]=a,b[3]=h):(a=b[2],h=b[3]);a=d("Int64Hooks").useMemoInt64(a,h);b[4]!==a||b[5]!==e?(h=l.jsx(d("MWV2OneToOneThreadBlockedContext.react").MWV2OneToOneThreadBlockedContext,{blocked:a,children:e}),b[4]=a,b[5]=e,b[6]=h):h=b[6];return h}g["default"]=a}),98);
__d("MWV2SeenHead.react",["GenderConst","I64","LSIntEnum","MWMessageDeliveryStatus","getLSMediaContactProfilePictureUrl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){var b,e=a[0];a=a[1];return{gender:c("GenderConst").NOT_A_PERSON,id:(h||(h=d("I64"))).to_string(a.id),imageSrc:c("getLSMediaContactProfilePictureUrl")(a),name:(b=e.nickname)!=null?b:a.name,timestamp:h.to_float(e.readActionTimestampMs)}}function a(a,b){var c={contents:(h||(h=d("I64"))).zero};a.forEach(function(a,e,f){e=a[0];if(!(h||(h=d("I64"))).equal(e.contactId,b)&&(h||(h=d("I64"))).gt(e.deliveredWatermarkTimestampMs,c.contents)){c.contents=e.deliveredWatermarkTimestampMs;return}});return c.contents}function b(a){return new Set([(h||(h=d("I64"))).to_string(a)])}function e(a,b,c,e,f,g){var k=[];b.forEach(function(b,e,f){if(c.has(e)||a.isAdminMessage)return;if(!(h||(h=d("I64"))).equal(a.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(2)))return;f=b[0];var l=(h||(h=d("I64"))).equal(a.senderId,f.contactId);f=h.le(a.timestampMs,f.readWatermarkTimestampMs);if(l||f){k.push(j(b));if(!g){c.add(e);return}else return}});var l=k.length===0&&c.size===1;if(k.length<=0)if((h||(h=d("I64"))).equal(a.senderId,f))return d("MWMessageDeliveryStatus").getDeliveryStatusForMessageSentByYou(a,e,l);else return{type:"NoneStatus"};if(!g)if(k.length>1)return{heads:k,type:"MultipleSeenHeads"};else return{head:k[0],type:"SingleSeenHead"};f=k.length===b.size-1;return{delivered:f,heads:k,type:"DeliveredAndRead"}}g.calculateMaxDeliveredTimestamp=a;g.makeExistingSeenHeads=b;g.deliveryStatusForMessage=e}),98);
__d("MWPBaseMessageList_DEPRECATED",["BaseHeadingContextWrapper.react","CometHideableComponentExperiment.react","LSMessagingThreadTypeUtil","MWPActor.react","MWPMessageAuthor.react","MWPOneToOneThreadBlockedContext.react","MWV2SeenHead.react","gkx","justknobx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={backgroundColor:{backgroundColor:"x1eb86dx",$$css:!0}};function a(a){var b=i(10),e=a.children,f=a.messages,g=a.participants,h=a.renderRow;a=a.thread;var l=d("MWPActor.react").useActor(),m;if(b[0]!==g||b[1]!==l||b[2]!==a||b[3]!==f||b[4]!==h||b[5]!==e){m=Symbol["for"]("react.early_return_sentinel");bb0:{var n=d("MWV2SeenHead.react").calculateMaxDeliveredTimestamp(g,l),o=d("MWV2SeenHead.react").makeExistingSeenHeads(l),p=d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),q=[];for(var r=f.length-1|0;r>=0;--r){var s=r===0?void 0:f[r-1|0],t=r>=(f.length-1|0)?void 0:f[r+1|0],u=f[r],v=d("MWV2SeenHead.react").deliveryStatusForMessage(u,g,o,n,l,p);q.push(j.jsx(c("CometHideableComponentExperiment.react"),{callingSurface:"thread_view",disableHiding:!0,unmountXStyle:k.backgroundColor,children:j.jsx(d("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:u.senderId,threadKey:u.threadKey,children:h({message:u,nextMessage:t,prevMessage:s,rowIndexFromBottom:c("gkx")("7810")?f.length-1-r:0,status:v})})},c("justknobx")._("2310")?u.offlineThreadingId:u.messageId))}if(q.length===0){m=null;break bb0}else{b[7]===Symbol["for"]("react.memo_cache_sentinel")?(t="x1ja2u2z",b[7]=t):t=b[7];s=j.jsx(c("MWPOneToOneThreadBlockedContext.react"),{participants:g,thread:a,children:e(q.reverse())});b[8]!==s?(v=j.jsx(c("BaseHeadingContextWrapper.react"),{children:j.jsx("div",{className:t,children:s})}),b[8]=s,b[9]=v):v=b[9];m=v;break bb0}}b[0]=g;b[1]=l;b[2]=a;b[3]=f;b[4]=h;b[5]=e;b[6]=m}else m=b[6];if(m!==Symbol["for"]("react.early_return_sentinel"))return m}g["default"]=a}),98);
__d("MAWMessageList_DEPRECATED.react",["BaseTheme.react","CometPageletWithDiv.react","CometScreenReaderText.react","I64","Int64Hooks","MAWMessageListRow.react","MWBaseTheme","MWBlockingProtectionContext.react","MWPBaseMessageList_DEPRECATED","MWPMessageListColumn.react","MWPMessageListFocusTable.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWV2MessageRowSimple.react","ReQL","ReQLSuspense","cr:3907","react","useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB","useMWMessageRowTheme","useMWPAriaLabelForMessageListGrid","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i,m=l.useEffect,n=l.useId,o=l.useState,p=l.c;function q(a,b){var c=p(9),e;c[0]!==b.tables.participants||c[1]!==b.tables.contacts||c[2]!==a.threadKey?(e=function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.tables.contacts)).map(function(a){var b=a[0];a=a[1];return[(j||(j=d("I64"))).to_string(a.id),[b,a]]})},c[0]=b.tables.participants,c[1]=b.tables.contacts,c[2]=a.threadKey,c[3]=e):e=c[3];var g;c[4]!==b||c[5]!==a.threadKey?(g=[b,a.threadKey],c[4]=b,c[5]=a.threadKey,c[6]=g):g=c[6];e=d("ReQLSuspense").useArray(e,g,f.id+":76");c[7]!==e?(g=new Map(e),c[7]=e,c[8]=g):g=c[8];return g}function r(a,b){var c=p(4),d,e;c[0]!==a||c[1]!==b?(d=function(){var c;if((a==null?void 0:(c=a.scrollPositionRef.current)==null?void 0:c.type)==="Bottom"&&b.length>0){c=a.scrollerRef.current;c==null?void 0:c.scrollToBottom()}},e=[b,a],c[0]=a,c[1]=b,c[2]=d,c[3]=e):(d=c[2],e=c[3]);m(d,e)}function a(a){var b=p(11),e=a.scrollerRefs,f=a.theme,g=a.threadKey;a=a.threadType;f=f===void 0?d("MWBaseTheme").empty:f;var h=d("MWPTypingIndicators.react").useTypingParticipants(g),i=d("MWPTypingIndicators.react").useAccessibilityText(h);r(e,h);if(h.length>0){b[0]!==i?(e=k.jsx("div",{"aria-live":"polite",children:k.jsx(c("CometScreenReaderText.react"),{text:i})}),b[0]=i,b[1]=e):e=b[1];b[2]!==g||b[3]!==a?(h=k.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:g,threadType:a}),b[2]=g,b[3]=a,b[4]=h):h=b[4];b[5]!==e||b[6]!==h?(i=k.jsx(c("MWV2MessageRowSimple.react"),{children:k.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:[e,h]})}),b[5]=e,b[6]=h,b[7]=i):i=b[7];b[8]!==f||b[9]!==i?(g=k.jsx(c("BaseTheme.react"),{config:f,children:i}),b[8]=f,b[9]=i,b[10]=g):g=b[10];return g}else return null}var s=d("withCometPlaceholder").withCometPlaceholder(a);function e(a){var e=p(22),f=a.messageElementRefs,g=a.messages,i=a.scrollerRefs,j=a.thread;a=(h||(h=c("useReStore")))();a=q(j,a);var l=c("useMWPAriaLabelForMessageListGrid")(j),m=c("useMWMessageRowTheme")(),r=o(""),t=r[0],u=r[1],v=n(),w;e[0]!==j.threadType?(r=function(){return j.threadType},w=[j.threadType],e[0]=j.threadType,e[1]=r,e[2]=w):(r=e[1],w=e[2]);var x=d("Int64Hooks").useMemoInt64(r,w),y=c("useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB")(j.threadKey);e[3]!==f||e[4]!==y||e[5]!==t||e[6]!==j?(r=function(a){var b=a.message,d=a.nextMessage,e=a.prevMessage;a=a.rowIndexFromBottom;return k.jsx(c("MAWMessageListRow.react"),{domElementRef:f.set(b.messageId),lastEbMessageTime:y,modal:t,row:{message:b,nextMessage:d,prevMessage:e},rowIndexFromBottom:a,thread:j})},e[3]=f,e[4]=y,e[5]=t,e[6]=j,e[7]=r):r=e[7];e[8]!==i||e[9]!==m||e[10]!==j||e[11]!==x||e[12]!==v||e[13]!==l||e[14]!==t?(w=function(a){a=k.jsxs(k.Fragment,{children:[a,k.jsx(s,{scrollerRefs:i,theme:m,threadKey:j.threadKey,threadType:x})]});return k.jsx("div",{"data-testid":void 0,id:v,children:k.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWV2MessageList",children:k.jsx(d("MWPThreadCapabilitiesContext").Provider,{thread:j,children:k.jsx(c("MWBlockingProtectionContext.react").Provider,{children:k.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:l,modal:t,setModal:u,children:b("cr:3907")==null?a:k.jsx(b("cr:3907"),{id:v,children:a})})})})})})},e[8]=i,e[9]=m,e[10]=j,e[11]=x,e[12]=v,e[13]=l,e[14]=t,e[15]=w):w=e[15];var z;e[16]!==g||e[17]!==a||e[18]!==r||e[19]!==j||e[20]!==w?(z=k.jsx(c("MWPBaseMessageList_DEPRECATED"),{messages:g,participants:a,renderRow:r,thread:j,children:w}),e[16]=g,e[17]=a,e[18]=r,e[19]=j,e[20]=w,e[21]=z):z=e[21];return z}g["default"]=e}),98);
__d("MWV2AttachmentErrorPlaceholder.react",["fbt","MWXAspectRatioContainer.react","MWXIconCautionTriangle","MWXIconStrict.react","MWXMessageBubbleCornerStyles.react","MWXTooltip.react","gkx","react","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={content:{alignItems:"x6s0dn4",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},dark:{backgroundColor:"xhzw6zf",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function a(a){var b=k(18),e=a.connectBottom,f=a.connectTop,g=a.detailedUserFacingErrorMessage,j=a.hasAppAttribution,n=a.height,o=a.outgoing,p=a.width,q=a.xstyle,r=c("useCurrentDisplayMode")();n=(a=n)!=null?a:100;p=(a=p)!=null?a:200;a=o===!0?"right":"left";o=j===!0?"bottom":"none";b[0]!==a||b[1]!==e||b[2]!==f||b[3]!==o?(j=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:a,connectBottom:e,connectTop:f,flatten:o}),b[0]=a,b[1]=e,b[2]=f,b[3]=o,b[4]=j):j=b[4];var s=j;b[5]!==g?(a=g!=null&&c("gkx")("5619")?g:h._("__JHASH__k6bhcm2tjqK__JHASH__"),b[5]=g,b[6]=a):a=b[6];b[7]!==r||b[8]!==s||b[9]!==q?(e=function(a){return l.jsx("div",{className:(i||(i=c("stylex")))([a,m.content,r==="dark"?m.dark:m.light,s,q]),"data-testid":void 0,children:l.jsx(c("MWXIconStrict.react"),{color:"primary",icon:c("MWXIconCautionTriangle"),size:20})})},b[7]=r,b[8]=s,b[9]=q,b[10]=e):e=b[10];b[11]!==n||b[12]!==p||b[13]!==e?(f=l.jsx(c("MWXAspectRatioContainer.react"),{height:n,maxHeight:200,maxWidth:480,width:p,children:e}),b[11]=n,b[12]=p,b[13]=e,b[14]=f):f=b[14];b[15]!==a||b[16]!==f?(o=l.jsx(c("MWXTooltip.react"),{tooltip:a,children:f}),b[15]=a,b[16]=f,b[17]=o):o=b[17];return o}g["default"]=a}),226);
__d("MAWSecureAudioAttachmentContent.react",["CometHeroHoldTrigger.react","CometPlaceholder.react","MWAudioPlayer.react","MWPAudioPlayerUtils","MWV2AttachmentErrorPlaceholder.react","MWV2AttachmentLoadingPlaceholder.react","mwpMessageIsReply","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.c;function a(a){var b=k(42),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,h=a.getPlayableUrl,l=a.mediaRenderQpl,m=a.message,n=a.outgoing,o=d("MWPAudioPlayerUtils").useCalculatePlayerWidth(),p=d("MWPAudioPlayerUtils").useCalculatePlayerHeight(d("MWPAudioPlayerUtils").UseCase.PLAYER),q;b[0]!==g.hasMedia||b[1]!==l?(a=function(){g.hasMedia===!0&&(l==null?void 0:l.addPoint("render-audio-attachment"))},q=[g.hasMedia,l],b[0]=g.hasMedia,b[1]=l,b[2]=a,b[3]=q):(a=b[2],q=b[3]);j(a,q);if(g.hasMedia===!1){b[4]!==e||b[5]!==f||b[6]!==p||b[7]!==l||b[8]!==n||b[9]!==o?(a=i.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:e,connectTop:f,descriptionForLogging:"MAWSecureAudioAttachmentContent.NoMedia",height:p,mediaRenderQpl:l,outgoing:n,width:o}),b[4]=e,b[5]=f,b[6]=p,b[7]=l,b[8]=n,b[9]=o,b[10]=a):a=b[10];b[11]===Symbol["for"]("react.memo_cache_sentinel")?(q=i.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureAudioAttachmentContent.NoMedia",hold:!0}),b[11]=q):q=b[11];b[12]!==a?(q=i.jsxs(i.Fragment,{children:[a,q]}),b[12]=a,b[13]=q):q=b[13];return q}b[14]!==e||b[15]!==f||b[16]!==p||b[17]!==l||b[18]!==n||b[19]!==o?(a=i.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:e,connectTop:f,descriptionForLogging:"MAWSecureAudioAttachmentContent.Suspense",height:p,mediaRenderQpl:l,outgoing:n,width:o}),b[14]=e,b[15]=f,b[16]=p,b[17]=l,b[18]=n,b[19]=o,b[20]=a):a=b[20];b[21]!==m?(q=c("mwpMessageIsReply")(m),b[21]=m,b[22]=q):q=b[22];var r;b[23]!==e||b[24]!==f||b[25]!==p||b[26]!==n||b[27]!==o?(r=function(){return i.jsx(c("MWV2AttachmentErrorPlaceholder.react"),{connectBottom:e,connectTop:f,height:p,outgoing:n,width:o})},b[23]=e,b[24]=f,b[25]=p,b[26]=n,b[27]=o,b[28]=r):r=b[28];var s;b[29]!==g||b[30]!==e||b[31]!==f||b[32]!==h||b[33]!==q||b[34]!==l||b[35]!==m||b[36]!==n||b[37]!==r?(s=i.jsx(c("MWAudioPlayer.react"),{attachment:g,connectBottom:e,connectTop:f,getPlayableUrl:h,isReply:q,isSecure:!0,mediaRenderQpl:l,message:m,outgoing:n,renderUnsupportedAttachment:r}),b[29]=g,b[30]=e,b[31]=f,b[32]=h,b[33]=q,b[34]=l,b[35]=m,b[36]=n,b[37]=r,b[38]=s):s=b[38];b[39]!==a||b[40]!==s?(h=i.jsx(c("CometPlaceholder.react"),{fallback:a,name:"MAWSecureAudioAttachmentContent.Suspense",children:s}),b[39]=a,b[40]=s,b[41]=h):h=b[41];return h}g["default"]=a}),98);
__d("MAWSecureFileAttachmentContent.react",["CometHeroHoldTrigger.react","CometPlaceholder.react","MAWChatFile.react","MWV2AttachmentErrorPlaceholder.react","MWV2AttachmentLoadingPlaceholder.react","MWXMessageBubble.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.c,l=60,m=250,n={bubble:{paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0}};function a(a){var b=k(34),d=a.connectBottom,e=a.connectTop,f=a.dbAttachment,g=a.getFileUrl,h=a.mediaRenderQpl,o=a.outgoing,p;b[0]!==f.hasMedia||b[1]!==h?(a=function(){f.hasMedia===!0&&(h==null?void 0:h.addPoint("render-file-attachment"))},p=[f.hasMedia,h],b[0]=f.hasMedia,b[1]=h,b[2]=a,b[3]=p):(a=b[2],p=b[3]);j(a,p);if(f.hasMedia===!1){b[4]!==d||b[5]!==e||b[6]!==h||b[7]!==o?(a=i.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:d,connectTop:e,descriptionForLogging:"MAWSecureFileAttachmentContent.NoMedia",height:l,mediaRenderQpl:h,outgoing:o,width:m}),b[4]=d,b[5]=e,b[6]=h,b[7]=o,b[8]=a):a=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(p=i.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureFileAttachmentContent.NoMedia",hold:!0}),b[9]=p):p=b[9];b[10]!==a?(p=i.jsxs(i.Fragment,{children:[a,p]}),b[10]=a,b[11]=p):p=b[11];return p}b[12]!==d||b[13]!==e||b[14]!==h||b[15]!==o?(a=i.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:d,connectTop:e,descriptionForLogging:"MAWSecureFileAttachmentContent.Suspense",height:l,mediaRenderQpl:h,outgoing:o,width:m}),b[12]=d,b[13]=e,b[14]=h,b[15]=o,b[16]=a):a=b[16];p=o?"right":"left";var q;b[17]!==d||b[18]!==e||b[19]!==o?(q=function(){return i.jsx(c("MWV2AttachmentErrorPlaceholder.react"),{connectBottom:d,connectTop:e,height:l,outgoing:o,width:m})},b[17]=d,b[18]=e,b[19]=o,b[20]=q):q=b[20];var r;b[21]!==f||b[22]!==g||b[23]!==h||b[24]!==q?(r=i.jsx(c("MAWChatFile.react"),{file:f,getFileUrl:g,mediaRenderQpl:h,renderUnsupportedAttachment:q}),b[21]=f,b[22]=g,b[23]=h,b[24]=q,b[25]=r):r=b[25];b[26]!==p||b[27]!==d||b[28]!==e||b[29]!==r?(g=i.jsx(c("MWXMessageBubble.react"),{align:p,color:"incoming",connectBottom:d,connectTop:e,xstyle:n.bubble,children:r}),b[26]=p,b[27]=d,b[28]=e,b[29]=r,b[30]=g):g=b[30];b[31]!==a||b[32]!==g?(q=i.jsx(c("CometPlaceholder.react"),{fallback:a,name:"MAWSecureFileAttachmentContent.Suspense",children:g}),b[31]=a,b[32]=g,b[33]=q):q=b[33];return q}g["default"]=a}),98);
__d("MAWSecureImageAttachmentContent.react",["CometHeroHoldTrigger.react","CometPlaceholder.react","MWLSThreadDisplayContext","MWMessageListImageSizingUtils","MWV2AttachmentErrorPlaceholder.react","MWV2AttachmentLoadingPlaceholder.react","MWV2ChatImage.react","justknobx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.c;function a(a){var b,e=k(55),f=a.connectBottom,g=a.connectTop,h=a.dbAttachment,l=a.getPreviewUrl,m=a.isGroupedImage,n=a.mediaRenderQpl,o=a.message,p=a.outgoing,q=a.previewHeight;a=a.previewWidth;var r=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();b=(b=r)!=null?b:void 0;var s;e[0]!==b||e[1]!==m?(s=d("MWMessageListImageSizingUtils").getMaxPreviewHeightAndWidth(!0,b,m),e[0]=b,e[1]=m,e[2]=s):s=e[2];b=s;s=b.maxHeight;b=b.maxWidth;var t;e[3]!==o||e[4]!==h||e[5]!==n?(t=function(){o!=null&&(h==null?void 0:h.hasMedia)===!0&&(n==null?void 0:n.addPoint("render-image-attachment"))},e[3]=o,e[4]=h,e[5]=n,e[6]=t):t=e[6];var u=h==null?void 0:h.hasMedia,v;e[7]!==u||e[8]!==n||e[9]!==o?(v=[u,n,o],e[7]=u,e[8]=n,e[9]=o,e[10]=v):v=e[10];j(t,v);if(o==null||h==null||h.hasMedia===!1){u=(h==null?void 0:h.attributionAppName)!=null;e[11]!==f||e[12]!==g||e[13]!==u||e[14]!==q||e[15]!==s||e[16]!==b||e[17]!==n||e[18]!==p||e[19]!==a?(t=i.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:f,connectTop:g,descriptionForLogging:"MAWSecureImageAttachmentContent.NoMedia",hasAppAttribution:u,height:q,maxHeight:s,maxWidth:b,mediaRenderQpl:n,outgoing:p,width:a}),e[11]=f,e[12]=g,e[13]=u,e[14]=q,e[15]=s,e[16]=b,e[17]=n,e[18]=p,e[19]=a,e[20]=t):t=e[20];e[21]===Symbol["for"]("react.memo_cache_sentinel")?(v=i.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureImageAttachmentContent.NoMedia",hold:!0}),e[21]=v):v=e[21];e[22]!==t?(u=i.jsxs(i.Fragment,{children:[t,v]}),e[22]=t,e[23]=u):u=e[23];return u}v=(h==null?void 0:h.attributionAppName)!=null;e[24]!==f||e[25]!==g||e[26]!==v||e[27]!==q||e[28]!==s||e[29]!==b||e[30]!==n||e[31]!==p||e[32]!==a?(t=i.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:f,connectTop:g,descriptionForLogging:"MAWSecureImageAttachmentContent.Suspense",hasAppAttribution:v,height:q,maxHeight:s,maxWidth:b,mediaRenderQpl:n,outgoing:p,width:a}),e[24]=f,e[25]=g,e[26]=v,e[27]=q,e[28]=s,e[29]=b,e[30]=n,e[31]=p,e[32]=a,e[33]=t):t=e[33];e[34]!==r||e[35]!==f||e[36]!==g||e[37]!==h.attributionAppName||e[38]!==p?(u=function(){var a=r==="ChatTab"?c("justknobx")._("2442"):c("justknobx")._("2444");return i.jsx(c("MWV2AttachmentErrorPlaceholder.react"),{connectBottom:f,connectTop:g,hasAppAttribution:h.attributionAppName!=null,height:a,outgoing:p,width:a})},e[34]=r,e[35]=f,e[36]=g,e[37]=h.attributionAppName,e[38]=p,e[39]=u):u=e[39];e[40]!==h||e[41]!==f||e[42]!==g||e[43]!==l||e[44]!==m||e[45]!==s||e[46]!==b||e[47]!==n||e[48]!==o||e[49]!==p||e[50]!==u?(v=i.jsx(c("MWV2ChatImage.react"),{attachment:h,connectBottom:f,connectTop:g,getPreviewUrl:l,isGroupedImage:m,isSecure:!0,maxHeight:s,maxWidth:b,mediaRenderQpl:n,message:o,navigateToRouteForMediaViewer:!1,outgoing:p,renderUnsupportedAttachment:u}),e[40]=h,e[41]=f,e[42]=g,e[43]=l,e[44]=m,e[45]=s,e[46]=b,e[47]=n,e[48]=o,e[49]=p,e[50]=u,e[51]=v):v=e[51];e[52]!==t||e[53]!==v?(q=i.jsx(c("CometPlaceholder.react"),{fallback:t,name:"MAWSecureImageAttachmentContent.Suspense",children:v}),e[52]=t,e[53]=v,e[54]=q):q=e[54];return q}g["default"]=a}),98);
__d("MAWSecureStickerAttachmentContent.react",["CometHeroHoldTrigger.react","CometPlaceholder.react","MWV2AttachmentErrorPlaceholder.react","MWV2AttachmentLoadingPlaceholder.react","MWV2Sticker.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.c;function a(a){var b=k(38),d=a.connectBottom,e=a.connectTop,f=a.dbAttachment,g=a.getPreviewUrl,h=a.mediaRenderQpl,l=a.outgoing,m=a.previewHeight,n=a.previewWidth,o;b[0]!==f.hasMedia||b[1]!==h?(a=function(){f.hasMedia===!0&&(h==null?void 0:h.addPoint("render-sticker-attachment"))},o=[f.hasMedia,h],b[0]=f.hasMedia,b[1]=h,b[2]=a,b[3]=o):(a=b[2],o=b[3]);j(a,o);if(f.hasMedia===!1){a=f.attributionAppName!=null;b[4]!==d||b[5]!==e||b[6]!==a||b[7]!==m||b[8]!==h||b[9]!==l||b[10]!==n?(o=i.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:d,connectTop:e,descriptionForLogging:"MAWSecureStickerAttachmentContent.NoMedia",hasAppAttribution:a,height:m,mediaRenderQpl:h,outgoing:l,width:n}),b[4]=d,b[5]=e,b[6]=a,b[7]=m,b[8]=h,b[9]=l,b[10]=n,b[11]=o):o=b[11];b[12]===Symbol["for"]("react.memo_cache_sentinel")?(a=i.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureStickerAttachmentContent.NoMedia",hold:!0}),b[12]=a):a=b[12];b[13]!==o?(a=i.jsxs(i.Fragment,{children:[o,a]}),b[13]=o,b[14]=a):a=b[14];return a}o=f.attributionAppName!=null;b[15]!==d||b[16]!==e||b[17]!==o||b[18]!==m||b[19]!==h||b[20]!==l||b[21]!==n?(a=i.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:d,connectTop:e,descriptionForLogging:"MAWSecureStickerAttachmentContent.Suspense",hasAppAttribution:o,height:m,mediaRenderQpl:h,outgoing:l,width:n}),b[15]=d,b[16]=e,b[17]=o,b[18]=m,b[19]=h,b[20]=l,b[21]=n,b[22]=a):a=b[22];b[23]!==d||b[24]!==e||b[25]!==f.attributionAppName||b[26]!==m||b[27]!==l||b[28]!==n?(o=function(){return i.jsx(c("MWV2AttachmentErrorPlaceholder.react"),{connectBottom:d,connectTop:e,hasAppAttribution:f.attributionAppName!=null,height:m,outgoing:l,width:n})},b[23]=d,b[24]=e,b[25]=f.attributionAppName,b[26]=m,b[27]=l,b[28]=n,b[29]=o):o=b[29];var p;b[30]!==f||b[31]!==g||b[32]!==h||b[33]!==o?(p=i.jsx(c("MWV2Sticker.react"),{attachment:f,getPreviewUrl:g,mediaRenderQpl:h,renderUnsupportedAttachment:o}),b[30]=f,b[31]=g,b[32]=h,b[33]=o,b[34]=p):p=b[34];b[35]!==a||b[36]!==p?(g=i.jsx(c("CometPlaceholder.react"),{fallback:a,name:"MAWSecureStickerAttachmentContent.Suspense",children:p}),b[35]=a,b[36]=p,b[37]=g):g=b[37];return g}g["default"]=a}),98);
__d("useSecureThreadDetailGetDevices",["I64","LSAuthorityLevel","LSIntEnum","ReQL","ReQLSuspense","WABridgedAPI","WAJids","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");var k=b.useEffect,l=b.useRef,m=b.c;function a(a,b){var e=m(11),g;e[0]!==b.tables.participants||e[1]!==b.tables.contacts||e[2]!==a.threadKey?(g=function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.tables.participants,["contactId"]).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.tables.contacts)).map(function(a){var b=a[0];a=a[1];b=b.contactId;return(i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))?d("WAJids").toMsgrUserJid((i||(i=d("I64"))).to_string(b)):null}).filter(Boolean)},e[0]=b.tables.participants,e[1]=b.tables.contacts,e[2]=a.threadKey,e[3]=g):g=e[3];var h;e[4]!==b||e[5]!==a.threadKey?(h=[b,a.threadKey],e[4]=b,e[5]=a.threadKey,e[6]=h):h=e[6];var n=d("ReQLSuspense").useArray(g,h,f.id+":30");e[7]===Symbol["for"]("react.memo_cache_sentinel")?(g=new Set(),e[7]=g):g=e[7];var o=l(g);e[8]!==n?(h=function(){var a=o.current.size!==n.length||!n.every(function(a){return o.current.has(a)});if(!a&&n.length>2)return;a=new Set(n);o.current=a;c("promiseDone")(c("WABridgedAPI").getDevices({ignoreDhash:!1,reason:"details-participants-changed",users:a}))},g=[n],e[8]=n,e[9]=h,e[10]=g):(h=e[9],g=e[10]);k(h,g)}g["default"]=a}),98);
__d("MAWSecureThreadDetail.react",["CometPlaceholder.react","ComponentMountUnmountSubspanLogger.react","E2EEMessagingLinkContext.react","I64","LSAuthorityLevel","LSIntEnum","MAWMessageList.react","cr:7127","cr:9776","react","useReStore","useSecureThreadDetailGetDevices"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));f=k;var m=f.useState,n=f.c;function a(a,b){}var o=(f=b("cr:7127"))!=null?f:a;function e(a){var e=n(17),f=a.cutoverOpenThread,g=a.entryPoint,k=a.messageListRef;a=a.thread;var p=(h||(h=c("useReStore")))();c("useSecureThreadDetailGetDevices")(a,p);var q=m(!0),r=q[0],s=q[1];e[0]!==f?(q=f!=null&&(i||(i=d("I64"))).equal(f.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),e[0]=f,e[1]=q):q=e[1];q=q;o(p,a.threadKey);e[2]!==q||e[3]!==r?(p=b("cr:9776")!=null&&q&&l.jsx(b("cr:9776"),{isShown:!r}),e[2]=q,e[3]=r,e[4]=p):p=e[4];e[5]!==p?(q=l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWCutoverEncryptedBackupsBanner",children:p}),e[5]=p,e[6]=q):q=e[6];e[7]===Symbol["for"]("react.memo_cache_sentinel")?(r=l.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MAWSecureThreadDetail"}),e[7]=r):r=e[7];e[8]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(a){return s(a)},e[8]=p):p=e[8];e[9]!==f||e[10]!==g||e[11]!==k||e[12]!==a?(r=l.jsxs(d("E2EEMessagingLinkContext.react").E2EEMessagingLinkProvider,{isSecure:!0,children:[r,l.jsx(c("MAWMessageList.react"),{cutoverOpenThread:f,entryPoint:g,onScrollToBottom:p,ref:k,thread:a})]}),e[9]=f,e[10]=g,e[11]=k,e[12]=a,e[13]=r):r=e[13];e[14]!==q||e[15]!==r?(p=l.jsxs(l.Fragment,{children:[q,r]}),e[14]=q,e[15]=r,e[16]=p):p=e[16];return p}g["default"]=e}),98);
__d("isEventSupported",["fbjs/lib/ExecutionEnvironment"],(function(a,b,c,d,e,f,g){"use strict";var h;c("fbjs/lib/ExecutionEnvironment").canUseDOM&&(h=document.implementation&&document.implementation.hasFeature("","")!==!0);function a(a,b){if(!c("fbjs/lib/ExecutionEnvironment").canUseDOM||b===!0&&!("addEventListener"in document))return!1;b="on"+a;var d=b in document;if(!d){var e=document.createElement("div");e.setAttribute(b,"return;");d=typeof e.getAttribute(b)==="function"}!d&&h&&a==="wheel"&&(d=document.implementation.hasFeature("Events.wheel","3.0"));return d}g["default"]=a}),98);
__d("MWChatConversationScroller.react",["BaseScrollableAreaContext","CometThrottle","ExecutionEnvironment","MWXScrollableAreaStyles","emptyFunction","isEventSupported","react","stylex","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useContext,n=b.useEffect,o=b.useImperativeHandle,p=b.useLayoutEffect,q=b.useMemo,r=b.useRef;function s(a,b){a=a!=null?a:20;if(b==null)return!1;else return b.scrollTop+b.clientHeight>=b.scrollHeight-a}function t(a,b){a=a!=null?a:20;if(b==null)return!1;else return b.scrollTop<=a}var u={contained:{contain:"x16qrkmw",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x1odjw0f",overscrollBehavior:"xish69e",$$css:!0}},v=(h||(h=c("ExecutionEnvironment"))).canUseDOM?document.body.style.overscrollBehavior==null&&((e=document.body)==null?void 0:e.style.scrollBoundaryBehavior)==null:!1;d=k.forwardRef(a);function a(a,b){var d=a.boundingClientRectRef,e=a.children,f=a.dispatch,g=a.hasMoreAfter,h=a.onScroll,j=h===void 0?c("emptyFunction"):h,w=a.scrollPositionRef,x=r(f),y=r(null),z=l(function(a){y.current=a;if(d!=null){d.current=a!=null?a.getBoundingClientRect():void 0;return}},[d]);n(function(){x.current=f});var A=function(a,b){b=y.current;if(b!=null){b.scrollTop=a;return}},B=function(a){a===void 0&&(a=!1);var b=y.current;if(b!=null)return A(b.scrollHeight,a)},C=function(a,b){var c=y.current;if(c!=null)return A(c.scrollHeight-(a+c.clientHeight),b)},D=r(!1);D.current=g;var E=function(){var a=w.current,b=y.current;b=b!=null?b.scrollHeight-(b.scrollTop+b.clientHeight):void 0;var c=s(void 0,y.current),d=t(void 0,y.current);w.current=c?D.current?{type:"Island"}:{type:"Bottom"}:b!=null?d?{type:"Top",value:b}:{type:"Between",value:b}:{type:"Bottom"};c=w.current;d=0;var e=0;switch(a.type){case"Bottom":d=1;break;case"Top":case"Between":e=2;break;case"Island":break}if(e===2)switch(c.type){case"Top":d=1;break;case"Between":break;case"Bottom":case"Island":x.current("ScrollToBottom");break}if(d===1){e=0;switch(a.type){case"Top":break;case"Bottom":case"Between":e=2;break}e===2&&c.type==="Top"&&x.current("ScrollToTop")}return j(b)},F=function(a){if(v){var b=a.deltaY>0,c=a.deltaY<0;(b&&s(0,y.current)||c&&t(0,y.current))&&a.preventDefault()}return E()},G=function(a){var b=c("isEventSupported")("mousewheel")?"mousewheel":c("isEventSupported")("wheel")?"wheel":"DOMMouseScroll",d=function(b,c){a.addEventListener(b,c,{passive:!0});return function(){return a.removeEventListener(b,c,{passive:!0})}},e=function(){return a.addEventListener(b,F,{passive:!v})},f=function(){return a.removeEventListener(b,F,{passive:!v})},g=d("mouseenter",e),h=d("mouseleave",f);e=c("CometThrottle")(E,50,{trailing:!0});var i=d("scroll",e),j=d("mouseup",E),k=d("mousedown",E);return function(){f();i();g();h();k();return j()}};n(function(){var a=y.current;if(a==null)return;var b=G(a);return function(){return b()}},[]);p(function(){var a=y.current;a!=null&&a.clientHeight>0&&Math.abs(a.clientHeight-a.scrollHeight)<20&&x.current("ContentDoesNotFillContainer")});c("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=w.current;switch(a.type){case"Bottom":B();break;case"Top":C(a.value,!1);break;case"Between":case"Island":break}});c("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=w.current;switch(a.type){case"Bottom":B();break;case"Top":case"Between":C(a.value,!1);break;case"Island":break}},[]);var H=m(c("BaseScrollableAreaContext")),I=q(function(){return{getDOMNode:function(){return y.current}}},[]);h=q(function(){return H.concat([I])},[I,H]);o(b,function(){return{getScroller:function(){return z},isContainerFilled:function(){var a=y.current;if(a==null)return!0;else return!(a.clientHeight>0&&Math.abs(a.clientHeight-a.scrollHeight)<20)},scrollElementIntoViewIfNeeded:function(a){var b=y.current;if(b==null)return;var c=a.getBoundingClientRect();b=b.getBoundingClientRect();c=c.top;b=b.top;if(c<=b){a.scrollIntoView();return}},scrollToBottom:function(){w.current={type:"Bottom"};return B()},scrollToElement:function(a,b){var c=y.current;if(c==null)return;a.scrollIntoView();a=a.getBoundingClientRect();var d=c.getBoundingClientRect();a=a.top;d=d.top;if(a<=d){c.scrollBy(0,-b|0);return E()}},scrollToPosition:C}},[]);return k.jsx(c("BaseScrollableAreaContext").Provider,{children:k.jsx("div",{className:(i||(i=c("stylex")))(u.root,u.contained,c("MWXScrollableAreaStyles").themed),"data-release-focus-from":"CLICK",ref:z,tabIndex:-1,children:e}),value:h})}a.displayName=a.name+" [from "+f.id+"]";b=d;g["default"]=b}),98);
__d("MWV2MessageScroller.react",["LSIntEnum","LSMailboxMessagesRangeQueryDirection","MWChatConversationScroller.react","emptyFunction","react","useMWMarkThreadAsReadWhenNewMessagesArrive"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useCallback;function a(a){var b=a.children,e=a.fetchMore,f=a.hasMoreAfter,g=a.hasMoreBefore,h=a.markThreadAsRead,l=a.onScroll;l=l===void 0?c("emptyFunction"):l;var m=a.scrollerRefs;a=a.thread;h=h;var n=k(function(){var a;return((a=m.scrollPositionRef.current)==null?void 0:a.type)==="Bottom"},[m]),o=k(function(){return!1}),p=c("useMWMarkThreadAsReadWhenNewMessagesArrive")(a,h,n,o);return j.jsx(c("MWChatConversationScroller.react"),{dispatch:function(a){switch(a){case"ContentDoesNotFillContainer":if(g)return e((i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE));else return;case"ScrollToBottom":if(f)return e((i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER));else return p();case"ScrollToTop":return e((i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE))}},hasMoreAfter:f,onScroll:l,ref:m.scrollerRef,scrollPositionRef:m.scrollPositionRef,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useFetchCutoverMessages",["I64","InteractionTracingMetrics","LSIntEnum","LSMailboxMessagesRangeQueryDirection","MAWFetchMoreMessages","MAWStateContext.react","MWPFetchMessagesPageV2","ReQL","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useCallback,m=b.useContext;function a(a,b,e,f,g){var k=(h||(h=c("useReStore")))(),n=m(d("MAWStateContext.react").MAWStateContext),o=n.dispatch,p=d("MAWFetchMoreMessages").useSecureDataStorage();return l(function(h){h=(i||(i=d("I64"))).equal(h,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER))?"after":"before";if(e==null)return;c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"fetch_messages_page_start","AppTiming")});c("promiseDone")(c("MWPFetchMessagesPageV2")(k,g,h,d("ReQL").key(e.threadKey,e.minTimestampMs,e.minMessageId),a.threadType,f==null?null:d("ReQL").key(f.threadKey,f.minTimestampMs,f.minMessageId),b==null?void 0:b.threadType,p,o).then(function(){c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"fetch_messages_page_end","AppTiming")})}))},[b==null?void 0:b.threadType,k,o,f,g,p,a.threadType,e])}g["default"]=a}),98);
__d("useMWChatLoadMoreItemsIncrementally",["I64","LSIntEnum","LSMailboxMessagesRangeQueryDirection","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");b.useCallback;b.useMemo;var k=b.useRef,l=b.useState,m=b.c,n={contents:void 0};function o(){if(n.contents==null){var a;n.contents=((a=window.document.documentElement)==null?void 0:a.style.overflowAnchor)!=null}return(a=n.contents)!=null?a:!1}function a(a,b,e,f,g,h){var n=m(23);a=a!=null?a:!1;var p=b!=null?b:!0;n[0]!==e?(b=e!=null?e:{type:"Bottom"},n[0]=e,n[1]=b):b=n[1];e=b;b=a||!o();var q=f.length,r;if(n[2]!==e.type||n[3]!==e.value){bb0:switch(e.type){case"Top":case"Between":r=e.value>=200;break bb0;case"Bottom":case"Island":r=!1}n[2]=e.type;n[3]=e.value;n[4]=r}else r=n[4];a=r;n[5]!==a||n[6]!==q||n[7]!==p?(e=function(){if(r)return q;return p?window.screen.availHeight<1200?20:40:10},n[5]=a,n[6]=q,n[7]=p,n[8]=e):e=n[8];a=l(e);e=a[0];var s=a[1];n[9]!==e||n[10]!==f?(a=f.slice(-e),n[9]=e,n[10]=f,n[11]=a):a=n[11];a=a;a=a;var t=k(e),u;n[12]!==q||n[13]!==g?(u=function(a){if(!(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE)))throw c("unrecoverableViolation")("Message fetch direction must be 'before'","maw_db");if(t.current+15<=q){t.current=t.current+15;return s(function(){return t.current})}else{g((j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE));if(t.current<q+15){t.current=q+15;return s(function(){return t.current})}}},n[12]=q,n[13]=g,n[14]=u):u=n[14];u=u;if(b){n[15]!==f||n[16]!==g||n[17]!==h?(b=[f,g,h],n[15]=f,n[16]=g,n[17]=h,n[18]=b):b=n[18];return b}f=h||e<q;n[19]!==a||n[20]!==u||n[21]!==f?(b=[a,u,f],n[19]=a,n[20]=u,n[21]=f,n[22]=b):b=n[22];return b}g["default"]=a}),98);
__d("MAWSecureThreadDetail_DEPRECATED.react",["CometHeroHoldTrigger.react","CometPageletWithDiv.react","CometPlaceholder.react","ComponentMountUnmountSubspanLogger.react","E2EEMessagingLinkContext.react","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWLoadingStateOutstandingUIReadyOfflineQueueSelector","MAWMessageList_DEPRECATED.react","MWContextBanner.react","MWInboxThreadMessagesSpinner.react","MWPMessageListColumn.react","MWV2MessageScroller.react","MessageForIntegrityCheck","ReQL","ReQLSuspense","cr:8795","cr:9776","emptyFunction","gkx","logMessengerWebFalcoEvent","react","useFetchCutoverMessages","useMAWMarkThreadAsRead","useMAWOfflineQueueLoadingIndicator","useMWChatLoadMoreItemsIncrementally","useMWCurrentVisibleMessage","useMWV2ConversationScrollerRefs","useObserveMessagePageLoad","useReStore","useSecureThreadDetailGetDevices"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));e=i;var m=e.useCallback,n=e.useImperativeHandle,o=e.useMemo,p=e.useState,q=e.c,r=10,s=10,t=10,u=30;function v(a,b){var c=(k||(k=d("I64"))).compare(a.primarySortKey,b.primarySortKey);if(c!==0)return c;c=k.compare((c=a.secondarySortKey)!=null?c:(k||(k=d("I64"))).zero,(c=b.secondarySortKey)!=null?c:(k||(k=d("I64"))).zero);return c!==0?c:k.compare(a.timestampMs,b.timestampMs)}function w(a,b){var e=q(12),g=(h||(h=c("useReStore")))(),i;e[0]!==g.tables.messages||e[1]!==b.threadKey||e[2]!==b.authorityLevel||e[3]!==b.threadType||e[4]!==a?(i=function(){var e=d("ReQL").fromTableAscending(g.tables.messages.index("messageDisplayOrder")).getKeyRange(b.threadKey);if(a!=null)return e.bounds({gte:d("ReQL").key(a.minTimestampMs),lte:d("ReQL").key(a.maxTimestampMs)});else if((k||(k=d("I64"))).lt(b.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))||d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.threadType))return e;return d("ReQL").empty()},e[0]=g.tables.messages,e[1]=b.threadKey,e[2]=b.authorityLevel,e[3]=b.threadType,e[4]=a,e[5]=i):i=e[5];var l;e[6]!==g||e[7]!==a||e[8]!==b.authorityLevel||e[9]!==b.threadKey||e[10]!==b.threadType?(l=[g,a,b.authorityLevel,b.threadKey,b.threadType],e[6]=g,e[7]=a,e[8]=b.authorityLevel,e[9]=b.threadKey,e[10]=b.threadType,e[11]=l):l=e[11];return d("ReQLSuspense").useArray(i,l,f.id+":103")}function x(a,b){var e=q(5),g=(h||(h=c("useReStore")))(),i,l;e[0]!==b||e[1]!==g||e[2]!==a?(i=function(){if(b==null)return d("ReQL").empty();var e=d("ReQL").fromTableAscending(g.tables.messages).getKeyRange(b.threadKey);if(a!=null)return d("ReQL").fromTableAscending(g.tables.messages).getKeyRange(b.threadKey).bounds({gte:d("ReQL").key(a.minTimestampMs),lte:d("ReQL").key(a.maxTimestampMs)});else if((k||(k=d("I64"))).lt(b.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))||d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.threadType))return e;return d("ReQL").empty()},l=[g,b,a],e[0]=b,e[1]=g,e[2]=a,e[3]=i,e[4]=l):(i=e[3],l=e[4]);return d("ReQLSuspense").useArray(i,l,f.id+":137")}function y(a,b){var c=(k||(k=d("I64"))).compare(a.primarySortKey,b.primarySortKey);if(c!==0)return c;c=a.secondarySortKey;var e=b.secondarySortKey;if(c==null)if(e!=null)return-1;else return(k||(k=d("I64"))).compare(a.timestampMs,b.timestampMs);if(e==null)return 1;c=k.compare(c,e);return c!==0?c:k.compare(a.timestampMs,b.timestampMs)}function z(a,d){var e=(h||(h=c("useReStore")))();return b("cr:8795")(e,a,d)}function A(a,b,e,f,g){var h=w(a,e),i=z(e.threadKey,e.threadType),j=c("useMAWOfflineQueueLoadingIndicator")(!1,e,d("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector").outstandingUIReadyOfflineQueueSelector);d("useObserveMessagePageLoad").useObserveMessagePageLoad(h.map(function(a){return d("MessageForIntegrityCheck").prepMessageForIntegrityCheck(a)}).filter(Boolean),s,i,j,!1);var l=x(b,f);d("Int64Hooks").useEffectInt64(function(){if(f!=null&&l.length===0){var a=f.threadKey,b=f.threadType;c("logMessengerWebFalcoEvent")({threadKey:a,threadType:b},"no_open_messages_in_cutover_thread",g,{cutoverThreadKey:(k||(k=d("I64"))).to_string(e.threadKey),reason:"no_messages_fetched_for_open"})}},[g,l.length,f,e.threadKey]);return o(function(){if(a!=null&&!a.hasMoreBefore)return l.sort(y).concat(h.sort(v));else return h.sort(v)},[a,h,l])}function a(a){var e,f=a.cutoverOpenThread,g=a.entryPoint,i=a.messageListRef,j=a.openThreadLoadingHoldReason;a=a.thread;var k=c("useMWV2ConversationScrollerRefs")(),o=(h||(h=c("useReStore")))(),q=m(function(){var a;return((a=k.scrollPositionRef.current)==null?void 0:a.value)===void 0&&((a=k.scrollPositionRef.current)==null?void 0:a.type)==="Bottom"},[k]),s=c("useMWCurrentVisibleMessage")(a,k.scrollerRef),v=s.messageRange,w=c("useMWCurrentVisibleMessage")(f,k.scrollerRef);w=w.messageRange;var x=c("useFetchCutoverMessages")(a,f,v,w,c("gkx")("2454")&&g==="thread_details"?u:t);e=(e=v==null?void 0:v.hasMoreAfter)!=null?e:!1;var y=p(!1),z=y[0],B=y[1];x=c("useMWChatLoadMoreItemsIncrementally")(e,void 0,void 0,A(v,w,a,f,g),x,(y=v==null?void 0:v.hasMoreBefore)!=null?y:!1);y=x[0];var C=x[1];x=x[2];c("useSecureThreadDetailGetDevices")(a,o);n(i,function(){return{getScrollAreaElement:c("emptyFunction"),jumpToMostRecentMessage:c("emptyFunction"),restoreScrollPosition:function(){var a=k.scrollerRef.current,b=k.scrollPositionRef.current;if(a!=null&&b!=null)switch(b.type){case"Bottom":a.scrollToBottom();break;case"Top":case"Between":a.scrollToPosition(b.value,!1);break;case"Island":break}}}},[k.scrollPositionRef,k.scrollerRef]);o=null;y.length<r&&(v==null?o="visibleSecureMessageRange-null":v.isLoadingBefore?o="isSecureMessagesLoadingBefore":j!=null?o=j:f!=null&&w==null?o="visibleOpenMessageRange-null":f!=null&&(w==null?void 0:w.isLoadingBefore)&&(o="visibleOpenMessageRangeLoadingBefore"));i=j!=null||f!=null&&(w==null||w.hasMoreBefore);return l.jsxs(l.Fragment,{children:[l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWCutoverEncryptedBackupsBanner",children:b("cr:9776")!=null&&f&&l.jsx(b("cr:9776"),{isShown:z})}),l.jsxs(d("E2EEMessagingLinkContext.react").E2EEMessagingLinkProvider,{isSecure:!0,children:[l.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MAWSecureThreadDetail"}),l.jsxs(c("MWV2MessageScroller.react"),{fetchMore:C,hasMoreAfter:e,hasMoreBefore:x,markThreadAsRead:c("useMAWMarkThreadAsRead")(a,g),onScroll:function(){B(!q())},scrollerRefs:k,thread:a,children:[l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),l.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWLoadingMessages-"+((v=o)!=null?v:"null"),hold:o!=null}),x||i?l.jsx(c("MWInboxThreadMessagesSpinner.react"),{vcIgnore:o==null}):l.jsx(c("MWContextBanner.react"),{threadKey:a.threadKey,threadType:a.threadType}),l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10})]}),l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:null}),l.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MAWMessageList",children:l.jsx(c("MAWMessageList_DEPRECATED.react"),{messageElementRefs:s.messageElementRefs.current,messages:y,scrollerRefs:k,thread:a})}),e?l.jsx(c("MWInboxThreadMessagesSpinner.react"),{}):null]})]})]})}a.displayName=a.name+" [from "+f.id+"]";e=l.memo(a);g.MAWSecureThreadDetail_DEPRECATED=e}),98);
__d("MWFailChatTabOpenQPLEvent",["MWGetChatTabOpenQPLEventTrace"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("MWGetChatTabOpenQPLEventTrace")(a,function(a){a.failTrace(b,!0)})}g["default"]=a}),98);
__d("updateEphemeralDuration",["JSResourceForInteraction","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g,h){var i=d("WATimeUtils").millisTime();return c("JSResourceForInteraction")("MAWEphemeralSettingsUpdate").__setRef("updateEphemeralDuration").load().then(function(a){return a.updateEphemeralSettings(b,i,e,h)}).then(function(a){f();return!0})["catch"](function(a){g();return!1})}g["default"]=a}),98);
__d("useMAWMaybeResetEphemeralSettings",["DateConsts","Int64Hooks","MAWEphemeralGatingUtil","MAWGetEphemeralSettings","MAWMiActOnActThreadReady","Promise","WALoggerDeferred","promiseDone","react","updateEphemeralDuration","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[reset ephemeral settings]: fail to reset settings for chatJid ",", previous settings was ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[reset ephemeral settings]: success to reset settings for chatJid ",", previous settings was ",""]);k=function(){return a};return a}e=i||d("react");var l=e.useRef,m=e.c,n=0;function a(a){var b=m(4),e=c("useAsyncReStore")(),f=l(null),g,h;b[0]!==a||b[1]!==e?(g=function(){(f.current==null||f.current!==a)&&(f.current=a,d("MAWEphemeralGatingUtil").isResetEphemeralSettingsEnabled()&&c("promiseDone")(e,function(b){return c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(b.tables,a,"useMAWResetEphemeralSettings",function(b,c){return o(a,c)}))}))},h=[a,e],b[0]=a,b[1]=e,b[2]=g,b[3]=h):(g=b[2],h=b[3]);d("Int64Hooks").useEffectInt64(g,h)}function o(a,e){var f=d("MAWEphemeralGatingUtil").getExpirationOptions();return e!=null?d("MAWGetEphemeralSettings").getEphemeralSetting(e,a).then(function(b){b&&b.ephemeralExpirationInSec>0&&b.ephemeralExpirationInSec<d("DateConsts").SEC_PER_DAY&&!f.includes(b.ephemeralExpirationInSec)&&c("promiseDone")(c("updateEphemeralDuration")(e,n,!0,function(){void d("WALoggerDeferred").LOG(k(),e,b.ephemeralExpirationInSec)},function(){void d("WALoggerDeferred").LOG(j(),e,b.ephemeralExpirationInSec)},a))}):(h||(h=b("Promise"))).resolve()}g["default"]=a}),98);
__d("MAWSecureThreadDetailWrapper.react",["CometErrorBoundary.react","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSInitiateThreadMigrationStoredProcedure","LSIntEnum","MAWSecureThreadDetail_DEPRECATED.react","MAWThreadCutover","MWEnsureCutoverOpenThreadExists","MWFailChatTabOpenQPLEvent","MemoryUtils","QPLUserFlow","WAHex","cr:1009","cr:1957","cr:3200","justknobx","logMessengerWebFalcoEvent","qpl","react","useAsyncReStore","useEmptyFunction","useMAWMaybeResetEphemeralSettings"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));e=h;e.useCallback;var l=e.useEffect,m=e.useRef,n=e.useState,o=e.c,p=(e=b("cr:3200"))!=null?e:c("useEmptyFunction");function q(a,b){var e=o(23),f;e[0]!==a?(f=(i||(i=d("I64"))).to_int32(a),e[0]=a,e[1]=f):f=e[1];var g=f,h;e[2]!==b||e[3]!==a||e[4]!==g?(f=function(){c("QPLUserFlow").start(c("qpl")._(25306607,"1883"),{annotations:{string:{entryPoint:b,thread_id:(i||(i=d("I64"))).to_string(a)}},instanceKey:g})},h=[b,g,a],e[2]=b,e[3]=a,e[4]=g,e[5]=f,e[6]=h):(f=e[5],h=e[6]);d("Int64Hooks").useEffectInt64(f,h);e[7]!==g?(f=function(a){c("QPLUserFlow").addPoint(c("qpl")._(25306607,"1883"),a,{instanceKey:g})},e[7]=g,e[8]=f):f=e[8];h=f;e[9]!==g?(f=function(a){c("QPLUserFlow").endSuccess(c("qpl")._(25306607,"1883"),{annotations:{string:{is_cutover:String(a)}},instanceKey:g})},e[9]=g,e[10]=f):f=e[10];f=f;var j;e[11]!==g?(j=function(a){c("QPLUserFlow").addAnnotations(c("qpl")._(25306607,"1883"),{string:a},{instanceKey:g})},e[11]=g,e[12]=j):j=e[12];j=j;var k;e[13]!==g?(k=function(a){c("QPLUserFlow").addAnnotations(c("qpl")._(25306607,"1883"),{"int":a},{instanceKey:g})},e[13]=g,e[14]=k):k=e[14];k=k;var l;e[15]!==g?(l=function(a,b){c("QPLUserFlow").endFailure(c("qpl")._(25306607,"1883"),a,{annotations:{string:{is_cutover:String(b)}},instanceKey:g})},e[15]=g,e[16]=l):l=e[16];l=l;var m;e[17]!==j||e[18]!==k||e[19]!==h||e[20]!==l||e[21]!==f?(m={addQplAnnotations:j,addQPLAnnotationsInt:k,addQplPoint:h,qplEndFailure:l,qplEndSuccess:f},e[17]=j,e[18]=k,e[19]=h,e[20]=l,e[21]=f,e[22]=m):m=e[22];return m}function r(a,b){if(a==null)return"not_cutover_thread";return b!=null?a.showOpenMessageHistory===!1?"dual_thread_cutover":"show":"loading"}function a(a){var e=o(56),g=a.entryPoint,h=a.messageListRef,t=a.thread;a=q(t.threadKey,g);var u=a.addQplAnnotations,v=a.addQPLAnnotationsInt,w=a.addQplPoint,x=a.qplEndFailure,y=a.qplEndSuccess;c("useMAWMaybeResetEphemeralSettings")(t.threadKey);p(t.threadKey);var z=m("");e[0]!==u||e[1]!==y||e[2]!==x?(a=function(a){switch(a){case"loading":return;case"show":u({showOpenHistory:"show"});y(!0);return;case"not_cutover_thread":y(!1);return;case"dual_thread_cutover":y(!1);return;case"error":x(z.current,!0);return;default:throw c("FBLogger")("messenger_web_entrypoints").mustfixThrow("[MiActMapping] Unreachable showOpenMsgHistoryState: %s",a)}},e[0]=u,e[1]=y,e[2]=x,e[3]=a):a=e[3];var A=a,B=c("useAsyncReStore")();e[4]!==B?(a=function(a,b){return B.then(function(e){return e.runInTransaction(function(e){return c("LSInitiateThreadMigrationStoredProcedure")(c("LSFactory")(e),{armadilloThreadKey:b,openMessageThreadKey:a,shouldCopyMessages:!1,traceId:d("WAHex").randomHex(8)})},"readwrite",void 0,void 0,f.id+":250")})},e[4]=B,e[5]=a):a=e[5];var C=a,D=d("MAWThreadCutover").useGetCutoverMapping(t.threadKey),E=d("MAWThreadCutover").useCutoverOpenThread(t.threadKey);d("MWEnsureCutoverOpenThreadExists").useMWEnsureCutoverOpenThreadExists(t.threadKey);e[6]!==D||e[7]!==E?(a=r(D,E),e[6]=D,e[7]=E,e[8]=a):a=e[8];a=n(a);var F=a[0],G=a[1],H;e[9]!==A||e[10]!==F||e[11]!==D||e[12]!==E?(a=function(){A(F);if(F==="show"||F==="dual_thread_cutover")return;if(D==null)return;if(E==null)return G("loading");else if(D.showOpenMessageHistory!==!1)return G("show");else return G("dual_thread_cutover")},H=[D,E,A,F],e[9]=A,e[10]=F,e[11]=D,e[12]=E,e[13]=a,e[14]=H):(a=e[13],H=e[14]);d("Int64Hooks").useEffectInt64(a,H);var I=m(!1);e[15]!==t.authorityLevel?(a=(i||(i=d("I64"))).ge(t.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),e[15]=t.authorityLevel,e[16]=a):a=e[16];H=a;e[17]!==H?(a=H&&c("justknobx")._("2274")?k.jsx(b("cr:1009"),{}):null,e[17]=H,e[18]=a):a=e[18];H=a;e[19]!==D||e[20]!==w||e[21]!==v||e[22]!==u||e[23]!==C||e[24]!==x?(a=function(){if((D==null?void 0:D.armadilloThreadId)==null||(D==null?void 0:D.openThreadId)==null)return;if(I.current===!0)return;I.current=!0;w("thread_migration_initiating_start");var a=d("MemoryUtils").getCurrentMemory();a=a.usedJSHeapSize;v({usedJSHeapSizeStart:a});u();C(D.openThreadId,D.armadilloThreadId).then(function(){I.current=!1;w("thread_migration_initiating_end");var a=d("MemoryUtils").getCurrentMemory();a=a.usedJSHeapSize;v({usedJSHeapSizeEnd:a})})["catch"](function(a){I.current=!1,z.current="fail_to_init_thread_migration",G("error"),c("FBLogger")("messenger_web_entrypoints").catching(a).mustfix("fail_to_init_thread_migration"),x(z.current,!0)})},e[19]=D,e[20]=w,e[21]=v,e[22]=u,e[23]=C,e[24]=x,e[25]=a):a=e[25];var J=D==null?void 0:D.armadilloThreadId,K=D==null?void 0:D.openThreadId,L;e[26]!==v||e[27]!==u||e[28]!==w||e[29]!==J||e[30]!==K||e[31]!==C||e[32]!==x||e[33]!==y?(L=[v,u,w,J,K,C,x,y],e[26]=v,e[27]=u,e[28]=w,e[29]=J,e[30]=K,e[31]=C,e[32]=x,e[33]=y,e[34]=L):L=e[34];l(a,L);var M=E!=null;e[35]!==t.threadKey||e[36]!==t.threadType||e[37]!==g||e[38]!==D||e[39]!==M||e[40]!==F||e[41]!==A?(J=function(){var a;if(z.current==="")return;c("logMessengerWebFalcoEvent")({threadKey:t.threadKey,threadType:t.threadType},"no_open_messages_in_cutover_thread",g,{cutoverThreadKey:(i||(i=d("I64"))).to_string((a=D==null?void 0:D.openThreadId)!=null?a:(i||(i=d("I64"))).neg_one),hasCutoverOpenThread:M.toString(),reason:z.current,showOpenMsgHistoryState:F});A(F)},K=[D,g,F,M,t.threadKey,t.threadType,A],e[35]=t.threadKey,e[36]=t.threadType,e[37]=g,e[38]=D,e[39]=M,e[40]=F,e[41]=A,e[42]=J,e[43]=K):(J=e[42],K=e[43]);d("Int64Hooks").useEffectInt64(J,K);e[44]!==F||e[45]!==E||e[46]!==g||e[47]!==h||e[48]!==t?(a=b("cr:1957")!=null?k.jsx(b("cr:1957"),{cutoverOpenThread:F==="show"?E:void 0,entryPoint:g,messageListRef:h,thread:t}):k.jsx(d("MAWSecureThreadDetail_DEPRECATED.react").MAWSecureThreadDetail_DEPRECATED,{cutoverOpenThread:F==="show"?E:void 0,entryPoint:g,messageListRef:h,openThreadLoadingHoldReason:F==="loading"?"loadingOpenThread":null,thread:t}),e[44]=F,e[45]=E,e[46]=g,e[47]=h,e[48]=t,e[49]=a):a=e[49];e[50]!==H||e[51]!==a?(L=k.jsxs(k.Fragment,{children:[H,a]}),e[50]=H,e[51]=a,e[52]=L):L=e[52];e[53]!==t.threadKey||e[54]!==L?(J=k.jsx(s,{message:"Error while loading secure thread messages",threadKey:t.threadKey,children:L}),e[53]=t.threadKey,e[54]=L,e[55]=J):J=e[55];return J}function s(a){var b=o(6),d=a.children,e=a.message,f=a.threadKey;b[0]!==f||b[1]!==e?(a=function(a){c("MWFailChatTabOpenQPLEvent")(f,a.toString()),c("FBLogger")("messenger_web_entrypoints").catching(a).mustfix(e+": %s",a.toString())},b[0]=f,b[1]=e,b[2]=a):a=b[2];var g;b[3]!==a||b[4]!==d?(g=k.jsx(c("CometErrorBoundary.react"),{fallback:t,onError:a,children:d}),b[3]=a,b[4]=d,b[5]=g):g=b[5];return g}function t(){return null}g["default"]=a}),98);
__d("MAWSecureVideoAttachmentContent.react",["CometHeroHoldTrigger.react","CometPlaceholder.react","I64","LSAuthorityLevel","LSIntEnum","MWV2AttachmentErrorPlaceholder.react","MWV2AttachmentLoadingPlaceholder.react","MWV2ChatVideo.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));b=h;var l=b.useEffect,m=b.c;function a(a){var b=m(42),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,h=a.getPlayableUrl,n=a.mediaRenderQpl,o=a.message,p=a.outgoing,q=a.previewHeight,r=a.previewWidth,s;b[0]!==g.hasMedia||b[1]!==n?(a=function(){g.hasMedia===!0&&(n==null?void 0:n.addPoint("render-video-attachment"))},s=[g.hasMedia,n],b[0]=g.hasMedia,b[1]=n,b[2]=a,b[3]=s):(a=b[2],s=b[3]);l(a,s);if(g.hasMedia===!1){a=g.attributionAppName!=null;b[4]!==e||b[5]!==f||b[6]!==a||b[7]!==q||b[8]!==n||b[9]!==p||b[10]!==r?(s=k.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:e,connectTop:f,descriptionForLogging:"MAWSecureVideoAttachmentContent.NoMedia",hasAppAttribution:a,height:q,mediaRenderQpl:n,outgoing:p,width:r}),b[4]=e,b[5]=f,b[6]=a,b[7]=q,b[8]=n,b[9]=p,b[10]=r,b[11]=s):s=b[11];b[12]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureVideoAttachmentContent.NoMedia",hold:!0}),b[12]=a):a=b[12];b[13]!==s?(a=k.jsxs(k.Fragment,{children:[s,a]}),b[13]=s,b[14]=a):a=b[14];return a}s=g.attributionAppName!=null;b[15]!==e||b[16]!==f||b[17]!==s||b[18]!==q||b[19]!==n||b[20]!==p||b[21]!==r?(a=k.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:e,connectTop:f,descriptionForLogging:"MAWSecureVideoAttachmentContent.Suspense",hasAppAttribution:s,height:q,mediaRenderQpl:n,outgoing:p,width:r}),b[15]=e,b[16]=f,b[17]=s,b[18]=q,b[19]=n,b[20]=p,b[21]=r,b[22]=a):a=b[22];s=(i||(i=d("I64"))).le(o.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))||c("gkx")("7350")?"off":void 0;var t;b[23]!==e||b[24]!==f||b[25]!==g.attributionAppName||b[26]!==q||b[27]!==p||b[28]!==r?(t=function(a,b){return k.jsx(c("MWV2AttachmentErrorPlaceholder.react"),{connectBottom:e,connectTop:f,detailedUserFacingErrorMessage:(a=b)!=null?a:void 0,hasAppAttribution:g.attributionAppName!=null,height:q,outgoing:p,width:r})},b[23]=e,b[24]=f,b[25]=g.attributionAppName,b[26]=q,b[27]=p,b[28]=r,b[29]=t):t=b[29];var u;b[30]!==g||b[31]!==s||b[32]!==f||b[33]!==h||b[34]!==n||b[35]!==o||b[36]!==p||b[37]!==t?(u=k.jsx(c("MWV2ChatVideo.react"),{attachment:g,autoPlaySetting:s,connectTop:f,getPlayableUrl:h,isSecure:!0,loops:!c("gkx")("7350"),mediaRenderQpl:n,message:o,navigateToRouteForMediaViewer:!1,outgoing:p,renderUnsupportedAttachment:t}),b[30]=g,b[31]=s,b[32]=f,b[33]=h,b[34]=n,b[35]=o,b[36]=p,b[37]=t,b[38]=u):u=b[38];b[39]!==a||b[40]!==u?(s=k.jsx(c("CometPlaceholder.react"),{fallback:a,name:"MAWSecureVideoAttachmentContent.Suspense",children:u}),b[39]=a,b[40]=u,b[41]=s):s=b[41];return s}g["default"]=a}),98);
__d("MW3PBotCommandsPill.react",["fbt","JSResourceForInteraction","MWXPressable.react","MWXText.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m=c("JSResourceForInteraction")("MW3PBotCommandsDialog.react").__setRef("MW3PBotCommandsPill.react"),n={commandsPill:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",paddingTop:"x1yrsyyn",paddingBottom:"x10b6aqq",paddingStart:"x1sln4lm",paddingEnd:"x1iji9kk",paddingLeft:null,paddingRight:null,$$css:!0}};function a(a){var b=k(17),e=a.threadKey,g=(i||(i=c("useReStore")))();b[0]!==g.tables.custom_thread_commands||b[1]!==e?(a=function(){return d("ReQL").fromTableAscending(g.tables.custom_thread_commands.index("rank")).getKeyRange(e).filter(function(a){return!a.isOpenPersistentMenu})},b[0]=g.tables.custom_thread_commands,b[1]=e,b[2]=a):a=b[2];var j;b[3]!==g||b[4]!==e?(j=[g,e],b[3]=g,b[4]=e,b[5]=j):j=b[5];var o=d("ReQLSuspense").useArray(a,j,f.id+":46");a=c("useMWXLazyDialog")(m);var p=a[0];if(o.length===0)return null;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(j="x78zum5 xl56j7k xyamay9 x1l90r2v",b[6]=j):j=b[6];b[7]!==p||b[8]!==o?(a=function(){return p({commands:o})},b[7]=p,b[8]=o,b[9]=a):a=b[9];var q;b[10]!==o.length?(q=h._("__JHASH__ey53XOJ4uK9__JHASH__",[h._plural(o.length,"number")]),b[10]=o.length,b[11]=q):q=b[11];var r;b[12]!==q?(r=l.jsx(c("MWXText.react"),{align:"center",type:"headline4",children:q}),b[12]=q,b[13]=r):r=b[13];b[14]!==a||b[15]!==r?(q=l.jsx("div",{className:j,children:l.jsx(c("MWXPressable.react"),{onPress:a,overlayRadius:"inherit",xstyle:n.commandsPill,children:r})}),b[14]=a,b[15]=r,b[16]=q):q=b[16];return q}g["default"]=a}),226);
__d("MWXIconFriendGenericAdd",["MWXSvgIcon","SVGIcon","cr:9160","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9160")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWAddMemberToGroupCircleButton.react",["MWXCircleButton.react","MWXIconFriendGenericAdd","MessengerWebUXLogger","react","useMWAddParticipantDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(9),d=a.label,e=a.testid,f=a.threadKey,g=a.threadType,h=c("useMWAddParticipantDialog")(f,g),k=c("MessengerWebUXLogger").useInteractionLogger();b[0]!==h||b[1]!==k||b[2]!==f||b[3]!==g?(a=function(){h(),k==null?void 0:k({eventName:"open_add_members_dialog",threadKey:f,threadType:g})},b[0]=h,b[1]=k,b[2]=f,b[3]=g,b[4]=a):a=b[4];a=a;var l;b[5]!==d||b[6]!==a||b[7]!==e?(l=j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconFriendGenericAdd"),label:d,onPress:a,size:36,testid:void 0}),b[5]=d,b[6]=a,b[7]=e,b[8]=l):l=b[8];return l}g["default"]=a}),98);
__d("MWCMAutoJoinNotifNUX.react",["fbt","CometContextualMessage.react","CometErrorBoundary.react","CometPlaceholder.react","JSResourceForInteraction","LSCommunityBitOffset","MWInboxPersistedUIState","MWXButtonGroup.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useRef,m=b.useState,n=b.c,o=c("JSResourceForInteraction")("LSMuteThreadDialog.react").__setRef("MWCMAutoJoinNotifNUX.react");function p(a){var b=a.thread;a=c("useMWXLazyDialog")(o);var e=a[0];a=m(!1);var f=a[0],g=a[1];a=d("MWInboxPersistedUIState").usePersistedUIState(0,"__MWCMAutoJoinNotifNuxBanner.showBanner__");var i=a[0],j=a[1];a=l(i);var n=l(!1);i=c("useVisibilityObserver")({onVisible:function(){n.current||(n.current=!0,j(function(a){return a+1}))}});return a.current<3&&!f?k.jsx("div",{className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm",ref:i,children:k.jsx(c("CometContextualMessage.react"),{addOnPrimary:k.jsx(c("MWXButtonGroup.react"),{align:"justify",paddingHorizontal:12,primary:{label:h._("__JHASH__7NhHq3FFyid__JHASH__"),onPress:function(){e({threadKey:b.threadKey},function(){})},padding:"wide",type:"secondary"}}),body:h._("__JHASH__y4SjVH1sWqP__JHASH__"),headline:h._("__JHASH__Y1eNmRtGK12__JHASH__",[h._param("param",b.threadName)]),level:4,onClose:function(){g(!0)}})}):null}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=n(11),e=a.thread,g=(i||(i=c("useReStore")))();b[0]!==g.tables.community_folders||b[1]!==e.parentThreadKey?(a=function(){return d("ReQL").fromTableAscending(g.tables.community_folders).getKeyRange(e.parentThreadKey)},b[0]=g.tables.community_folders,b[1]=e.parentThreadKey,b[2]=a):a=b[2];var h;b[3]!==g||b[4]!==e.parentThreadKey?(h=[g,e.parentThreadKey],b[3]=g,b[4]=e.parentThreadKey,b[5]=h):h=b[5];a=d("ReQLSuspense").useFirst(a,h,f.id+":126");if(a){b[6]!==a?(h=d("LSCommunityBitOffset").has(39,a),b[6]=a,b[7]=h):h=b[7];a=h;b[8]!==a||b[9]!==e?(h=a?k.jsx(p,{thread:e}):null,b[8]=a,b[9]=e,b[10]=h):h=b[10];return h}else return null}function a(a){var b=n(2);a=a.thread;var d;b[0]!==a?(d=k.jsx(c("CometErrorBoundary.react"),{children:k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(q,{thread:a})})}),b[0]=a,b[1]=d):d=b[1];return d}g["default"]=a}),226);
__d("MWChannelInviteDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWChannelInviteDialog.react").__setRef("MWChannelInviteDialog.entrypoint")};g["default"]=a}),98);
__d("MWPChatConnectionStatusCard.react",["fbt","I64","LSIntEnum","LSInternetConnectionState","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=(l||(l=d("react"))).c,n=l;function o(a){var b=m(4),c=a.connectionStatus;a=a.renderWrapper;if(c==="Connected")return null;else if(c==="Disconnected"){var d;b[0]!==a?(d=a(h._("__JHASH__vs4VWaH-KyB__JHASH__")),b[0]=a,b[1]=d):d=b[1];return d}else if(c==="Connecting"){b[2]!==a?(d=a(h._("__JHASH__t43xAFuvvRz__JHASH__")),b[2]=a,b[3]=d):d=b[3];return d}else return null}function a(a){var b=m(7);a=a.renderWrapper;var e=(i||(i=c("useReStore")))(),g;b[0]!==e.tables.connectivity_status?(g=function(){return d("ReQL").fromTableDescending(e.tables.connectivity_status).map(function(a){return(j||(j=d("I64"))).equal(a.internetConnectionState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED))?"Connected":"Disconnected"})},b[0]=e.tables.connectivity_status,b[1]=g):g=b[1];var h;b[2]!==e?(h=[e],b[2]=e,b[3]=h):h=b[3];g=d("ReQLSuspense").useFirst(g,h,f.id+":54");g=(h=g)!=null?h:"Connected";b[4]!==g||b[5]!==a?(h=n.jsx(o,{connectionStatus:g,renderWrapper:a}),b[4]=g,b[5]=a,b[6]=h):h=b[6];return h}g["default"]=a}),226);
__d("MWChatConnectionStatusCard.react",["MWPChatConnectionStatusCard.react","MWXText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function k(a){return j.jsx("div",{className:"x5p7y74 x1562eck x1q0q8m5 xso031l x1lliihq xds687c x17qophe xz9dl7a xsag5q8 x10l6tqk x2b8uid x13vifvy x1vjfegm",children:j.jsx(c("MWXText.react"),{type:"meta4",children:a})})}k.displayName=k.name+" [from "+f.id+"]";function a(){var a=i(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("MWPChatConnectionStatusCard.react"),{renderWrapper:k}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("MWChatInthreadBannerIcon.react",["MWXIconStrict.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3);a=a.icon;if(a==null)return null;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d="x6s0dn4 x4tc44c x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k x1yrsyyn xsyo7zv x10b6aqq x16hj40l",b[0]=d):d=b[0];b[1]!==a.icon?(d=j.jsx("div",{className:d,children:j.jsx(c("MWXIconStrict.react"),{color:"white",icon:a.icon,size:12})}),b[1]=a.icon,b[2]=d):d=b[2];return d}g["default"]=a}),98);
__d("MWChatInthreadIconParser.react",["MWPXMAIconParser","MWXIconFriendGenericAdd","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case"friend-woman-add":return c("MWXIconFriendGenericAdd");default:c("recoverableViolation")("Unknown XMA Icon: "+a,"messenger_web_sharing");return}}function a(a){a=d("MWPXMAIconParser").parse(a);if(a==null)return;if(typeof a==="string")return a;var b=a.color;a=a.icon;a=h(a);if(a!=null)return{color:b,icon:a}}g.parse=a}),98);
__d("MWChatInThreadBanner.react",["CometProfilePhoto.react","FDSButton.react","MWChatInthreadBannerIcon.react","MWChatInthreadIconParser.react","MWLSThreadDisplayContext","MWXIconChevronRight","MWXIconStrict.react","MWXLink.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXTextPairing.react","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={grow:{flexGrow:"x1iyjqo2",$$css:!0},linkBanner:{width:"xh8yej3",$$css:!0}};function l(a){var b=i(16),d=a.action;a=a.button;var e=a.ctaTitle;switch(d.type){case"link":var f;b[0]!==d.url?(f={url:d.url},b[0]=d.url,b[1]=f):f=b[1];var g;b[2]!==e||b[3]!==f?(g=j.jsx(c("MWXRowItem.react"),{xstyle:k.grow,children:j.jsx(c("FDSButton.react"),{label:e,linkProps:f,type:"secondary"})}),b[2]=e,b[3]=f,b[4]=g):g=b[4];return g;case"action":b[5]!==e||b[6]!==d.onPress||b[7]!==d.contextRef?(f=j.jsx(c("MWXRowItem.react"),{xstyle:k.grow,children:j.jsx(c("FDSButton.react"),{label:e,onPress:d.onPress,ref:d.contextRef,type:"secondary"})}),b[5]=e,b[6]=d.onPress,b[7]=d.contextRef,b[8]=f):f=b[8];return f;case"popover":if(b[9]!==e||b[10]!==d){b[12]!==e?(g=function(a,b){return j.jsx(c("FDSButton.react"),{label:e,onPress:function(){return b()},ref:a,type:"secondary"})},b[12]=e,b[13]=g):g=b[13];f=d.popoverTrigger(g);b[9]=e;b[10]=d;b[11]=f}else f=b[11];b[14]!==f?(g=j.jsx(c("MWXRowItem.react"),{xstyle:k.grow,children:f}),b[14]=f,b[15]=g):g=b[15];return g;case"unimplemented":c("recoverableViolation")("In thread banner cta not implemented, CTA type: "+a.ctaType+" CTA Title: "+a.ctaTitle,"messenger_web_sharing");return null}}function a(a){var b,e=i(63),f=a.banner,g=a.ctaParser;a=a.impressionRef;if(e[0]!==f.banner.iconUrl){var h;h=d("MWChatInthreadIconParser.react").parse((h=f.banner.iconUrl)!=null?h:"");e[0]=f.banner.iconUrl;e[1]=h}else h=e[1];h=h;var n=f.banner.chevronCtaType!=null,o=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();o=o==="Inbox";var p;e[2]!==h?(p=h!=null?typeof h==="string"?j.jsx(c("MWXRowItem.react"),{expanding:!1,children:j.jsx("div",{className:"x11i5rnm",children:j.jsx(c("CometProfilePhoto.react"),{shape:"circle",size:24,source:{uri:h}})})}):j.jsx(c("MWXRowItem.react"),{expanding:!1,children:j.jsx("div",{className:[k.grow,"x78zum5 xdt5ytf x1iyjqo2 xl56j7k"],children:j.jsx(c("MWChatInthreadBannerIcon.react"),{icon:h})})}):null,e[2]=h,e[3]=p):p=e[3];h=p;e[4]!==f.banner.heading||e[5]!==f.banner.cta1Title?(p=f.banner.heading!=null?j.jsx(c("MWXRowItem.react"),{expanding:!0,children:j.jsx("span",{className:"x1yrsyyn x10b6aqq",children:j.jsxs(c("MWXText.react"),{type:"meta3",children:[f.banner.heading," ",j.jsx(c("MWXText.react"),{color:"blueLink",type:"meta3",children:j.jsx(c("MWXLink.react"),{href:"https://www.facebook.com/help/869846945085345?ref=ipl",target:"_blank",children:f.banner.cta1Title})})]})})}):null,e[4]=f.banner.heading,e[5]=f.banner.cta1Title,e[6]=p):p=e[6];p=p;b=((b=f.banner.titleSectionOne)!=null?b:"")+((b=f.banner.titleSectionTwo)!=null?b:"");var q;e[7]!==b||e[8]!==f.banner.heading?(q=j.jsx(c("MWXRowItem.react"),{expanding:!0,children:j.jsx(c("MWXTextPairing.react"),{body:b,bodyLineLimit:1,level:4,meta:f.banner.heading,metaLineLimit:1,metaLocation:"above"})}),e[7]=b,e[8]=f.banner.heading,e[9]=q):q=e[9];b=q;e[10]!==f.banner.infoLabel?(q=f.banner.infoLabel!=null?j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXText.react"),{type:"meta1",children:j.jsx("span",{className:"x1qhmfi1 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x6ikm8r x10wlt62 x4p5aij x150jy0e x1j85h84 x1e558r4 xlyipyv xuxw1ft",children:f.banner.infoLabel})})}):null,e[10]=f.banner.infoLabel,e[11]=q):q=e[11];q=q;var r=f.leftButton,s=f.rightButton,t;if(r!=null&&s!=null){var u;e[12]!==g||e[13]!==f||e[14]!==r?(u=g(f,r),e[12]=g,e[13]=f,e[14]=r,e[15]=u):u=e[15];var v;e[16]!==u||e[17]!==r?(v=j.jsx(l,{action:u,button:r}),e[16]=u,e[17]=r,e[18]=v):v=e[18];e[19]!==g||e[20]!==f||e[21]!==s?(u=g(f,s),e[19]=g,e[20]=f,e[21]=s,e[22]=u):u=e[22];var w;e[23]!==u||e[24]!==s?(w=j.jsx(l,{action:u,button:s}),e[23]=u,e[24]=s,e[25]=w):w=e[25];e[26]!==v||e[27]!==w?(u=j.jsxs(c("MWXRow.react"),{paddingTop:8,spacing:4,wrap:"forward",children:[v,w]}),e[26]=v,e[27]=w,e[28]=u):u=e[28];t=u}else{w=(v=r)!=null?v:s;if(w!=null){e[29]!==g||e[30]!==f||e[31]!==w?(u=g(f,w),e[29]=g,e[30]=f,e[31]=w,e[32]=u):u=e[32];e[33]!==u||e[34]!==w?(r=j.jsx(c("MWXRow.react"),{paddingTop:8,children:j.jsx(l,{action:u,button:w})}),e[33]=u,e[34]=w,e[35]=r):r=e[35];t=r}}e[36]!==n?(v=n?j.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:j.jsx(c("MWXIconStrict.react"),{icon:c("MWXIconChevronRight"),size:12})}):null,e[36]=n,e[37]=v):v=e[37];s=v;e[38]===Symbol["for"]("react.memo_cache_sentinel")?(u="x1a8lsjc xh8yej3",e[38]=u):u=e[38];w=f.banner.cta1Type==="fbvr_dma_learn_more"?p:b;e[39]!==h||e[40]!==w||e[41]!==q||e[42]!==s?(r=j.jsxs(c("MWXRow.react"),{paddingTop:10,children:[h,w,q,s]}),e[39]=h,e[40]=w,e[41]=q,e[42]=s,e[43]=r):r=e[43];e[44]!==r||e[45]!==t?(n=j.jsxs("div",{className:u,children:[r,t]}),e[44]=r,e[45]=t,e[46]=n):n=e[46];var x=n,y;if(e[47]!==f||e[48]!==g||e[49]!==x){v=f.bannerAction!=null?g(f,f.bannerAction):void 0;if(v!=null)bb0:switch(v.type){case"link":y=j.jsx(c("MWXPressable.react"),{expanding:!0,linkProps:{target:"_blank",url:v.url},xstyle:m,children:x});break bb0;case"action":y=j.jsx(c("MWXPressable.react"),{expanding:!0,onPress:v.onPress,ref:v.contextRef,children:x});break bb0;case"popover":e[51]!==x?(p=function(a,b){return j.jsx(c("MWXPressable.react"),{expanding:!0,onPress:function(){return b()},ref:a,children:x})},e[51]=x,e[52]=p):p=e[52];y=v.popoverTrigger(p);break bb0;case"unimplemented":w=(h=(b=f.bannerAction)==null?void 0:b.ctaType)!=null?h:"";w!=="member_requests_view"&&c("recoverableViolation")("In thread banner cta not implemented: "+w,"messenger_web_ia");y=x}else y=x;e[47]=f;e[48]=g;e[49]=x;e[50]=y}else y=e[50];e[53]===Symbol["for"]("react.memo_cache_sentinel")?(q="xfpmyvw x1n2onr6",e[53]=q):q=e[53];e[54]!==o?(s=o?j.jsx("div",{className:"xwwskcc x1q0q8m5 xso031l"}):null,e[54]=o,e[55]=s):s=e[55];e[56]===Symbol["for"]("react.memo_cache_sentinel")?(u="x80vd3b x1q0q8m5 xso031l",e[56]=u):u=e[56];e[57]!==y?(r=j.jsx("div",{className:u,"data-testid":void 0,children:y}),e[57]=y,e[58]=r):r=e[58];e[59]!==a||e[60]!==s||e[61]!==r?(n=j.jsxs("div",{className:q,ref:a,children:[s,r]}),e[59]=a,e[60]=s,e[61]=r,e[62]=n):n=e[62];return n}function m(){return[k.linkBanner]}g["default"]=a}),98);
__d("MWChatUnsendNUX.react",["cr:2884","cr:4186","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var c=i(5);a=a.senderUnsendNUXEnabled;var d;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=b("cr:2884")==null?null:j.jsx(b("cr:2884"),{}),c[0]=d):d=c[0];var e;c[1]!==a?(e=b("cr:4186")!=null&&a?j.jsx(b("cr:4186"),{}):null,c[1]=a,c[2]=e):e=c[2];c[3]!==e?(a=j.jsxs(j.Fragment,{children:[d,e]}),c[3]=e,c[4]=a):a=c[4];return a}g["default"]=a}),98);
__d("MWChatUnsendNUXReceiverBanner.react",["fbt","ix","FDSButton.react","FDSSkittleIcon.react","JSResourceForInteraction","MDSRow.react","MDSRowItem.react","MWXText.react","fbicon","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).c,l=j,m=c("JSResourceForInteraction")("MWChatUnsendNUXInterstitialDialog.react").__setRef("MWChatUnsendNUXReceiverBanner.react"),n={button:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},imageRow:{paddingTop:"x1nn3v0j",$$css:!0}};function a(a){var b=k(19),e=a.onDismiss,f=a.onView;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("__JHASH__7PesNdiLm6N__JHASH__"),b[0]=a):a=b[0];a=a;var g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._("__JHASH__jjSY-Fh1rGw__JHASH__"),b[1]=g):g=b[1];g=g;var j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j={},b[2]=j):j=b[2];var o=j;j=c("useMWXLazyDialog")(m);var p=j[0];b[3]!==p?(j=function(){return p(o,function(){})},b[3]=p,b[4]=j):j=b[4];var q=j;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(j="xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm",b[5]=j):j=b[5];var r;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(r=l.jsx(c("MDSRowItem.react"),{xstyle:n.imageRow,children:l.jsx(c("FDSSkittleIcon.react"),{color:"gray",icon:d("fbicon")._(i("685851"),16),size:36})}),b[6]=r):r=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("MDSRow.react"),{paddingHorizontal:0,paddingTop:0,children:l.jsx(c("MDSRowItem.react"),{children:l.jsx(c("MWXText.react"),{color:"primary",type:"headline4",children:a})})}),b[7]=a):a=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(r=l.jsxs(c("MDSRow.react"),{paddingHorizontal:12,paddingTop:12,children:[r,l.jsxs(c("MDSRowItem.react"),{expanding:!0,children:[a,l.jsx(c("MDSRow.react"),{paddingHorizontal:0,paddingTop:8,children:l.jsx(c("MDSRowItem.react"),{children:l.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:g})})})]})]}),b[8]=r):r=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("__JHASH__W_KwwnBzw9K__JHASH__"),b[9]=a):a=b[9];b[10]!==q||b[11]!==f?(g=l.jsx(c("MDSRowItem.react"),{xstyle:n.button,children:l.jsx(c("FDSButton.react"),{label:a,onPress:function(){q();return f()},type:"secondary"})}),b[10]=q,b[11]=f,b[12]=g):g=b[12];b[13]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("__JHASH__CqytfJoYvSJ__JHASH__"),b[13]=a):a=b[13];b[14]!==e?(a=l.jsx(c("MDSRowItem.react"),{xstyle:n.button,children:l.jsx(c("FDSButton.react"),{label:a,onPress:e,type:"secondary"})}),b[14]=e,b[15]=a):a=b[15];b[16]!==g||b[17]!==a?(e=l.jsxs("div",{className:j,children:[r,l.jsxs(c("MDSRow.react"),{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:[g,a]})]}),b[16]=g,b[17]=a,b[18]=e):e=b[18];return e}g["default"]=a}),226);
__d("isMessageUnsentInLastTenSeconds",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return Date.now()-(h||(h=d("I64"))).to_float((a=a.unsentTimestampMs)!=null?a:(h||(h=d("I64"))).zero)<=1e4}g["default"]=a}),98);
__d("useMessengerUnsendNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4823686477743600"}),null);
__d("useMessengerUnsendNUXQuery.graphql",["useMessengerUnsendNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c=[{kind:"Variable",name:"nux_id",variableName:"id"}],d={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("useMessengerUnsendNUXQuery_facebookRelayOperation"),metadata:{},name:"useMessengerUnsendNUXQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useMessengerUnsendNUX",["CometDismissFBNuxMutation","CometLogImpressionFBNuxMutation","CometRelay","RelayHooks","promiseDone","react","useMessengerUnsendNUXQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");e.useCallback;var j=e.c,k=h!==void 0?h:h=b("useMessengerUnsendNUXQuery.graphql");function a(a){var b=j(13),e=d("RelayHooks").useRelayEnvironment(),f;b[0]!==e||b[1]!==a?(f=function(b){c("promiseDone")(d("CometRelay").fetchQuery(e,k,{id:a}).toPromise(),function(a){a=(a=a==null?void 0:(a=a.nux)==null?void 0:a.should_show)!=null?a:!1;b(a)},null)},b[0]=e,b[1]=a,b[2]=f):f=b[2];f=f;var g;b[3]!==e||b[4]!==a?(g=function(){d("CometDismissFBNuxMutation").commit(e,a)},b[3]=e,b[4]=a,b[5]=g):g=b[5];g=g;var h;b[6]!==e||b[7]!==a?(h=function(){d("CometLogImpressionFBNuxMutation").commit(e,a)},b[6]=e,b[7]=a,b[8]=h):h=b[8];h=h;var i;b[9]!==f||b[10]!==g||b[11]!==h?(i=[f,g,h],b[9]=f,b[10]=g,b[11]=h,b[12]=i):i=b[12];return i}g["default"]=a}),98);
__d("MWChatUnsendNUXReceiver.react",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MWChatUnsendNUXReceiverBanner.react","MWLSThread","MWPActor.react","MWThreadKey.react","ReQL","isMessageUnsentInLastTenSeconds","react","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useRef,m=b.useState,n=b.c;function a(){var a=n(16),b=d("MWPActor.react").useActor(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),f=d("MWLSThread").useThread(e,o);f=f!=null&&d("LSMessagingThreadTypeUtil").isDiscoverableChannel(f);var g=(h||(h=c("useReStore")))(),j=m(!1),p=j[0],q=j[1],r=l(!1),s=l(!1),t=l();j=c("useMessengerUnsendNUX")(8568);var u=j[0],v=j[1],w=j[2];a[0]===Symbol["for"]("react.memo_cache_sentinel")?(j=function(){var a=t.current;if(a!=null){a();t.current=void 0;return}},a[0]=j):j=a[0];var x=j;a[1]!==v?(j=function(){s.current=!0;v();x();return q(!1)},a[1]=v,a[2]=j):j=a[2];j=j;var y;a[3]!==p||a[4]!==u?(y=function(a){var b=!p&&!r.current;if(b&&c("isMessageUnsentInLastTenSeconds")(a)){r.current=!0;return u(function(a){r.current=!1;if(a)return q(!0);else{x();s.current=!0;return}})}},a[3]=p,a[4]=u,a[5]=y):y=a[5];var z=y,A;a[6]!==g||a[7]!==e||a[8]!==b||a[9]!==z||a[10]!==p||a[11]!==w?(y=function(){if(s.current)return;t.current=d("ReQL").fromTableAscending(g.tables.messages).getKeyRange(e).filter(function(a){if(a.isUnsent)return!(i||(i=d("I64"))).equal(a.senderId,b);else return!1}).subscribe(function(a,b){b.operation!=="delete"&&z(b.value)});return function(){x();if(p&&!s.current)return w()}},A=[g,b,p,w,z,e,x],a[6]=g,a[7]=e,a[8]=b,a[9]=z,a[10]=p,a[11]=w,a[12]=y,a[13]=A):(y=a[12],A=a[13]);d("Int64Hooks").useEffectInt64(y,A);if(p&&!f){a[14]!==j?(y=k.jsx(c("MWChatUnsendNUXReceiverBanner.react"),{onDismiss:j,onView:j}),a[14]=j,a[15]=y):y=a[15];return y}else return null}function o(a){return a.threadType}g["default"]=a}),98);
__d("MWChatUnsendNUXSender.react",["I64","JSResourceForInteraction","MWPActor.react","MWThreadKey.react","ReQL","isMessageUnsentInLastTenSeconds","react","useMWXLazyDialog","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");var k=b.useCallback,l=b.useEffect,m=b.useRef;function a(){var a=d("MWPActor.react").useActor(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),e=(h||(h=c("useReStore")))(),f=m(!1),g=m(!1),j=m(!1),n=m(),o=c("useMessengerUnsendNUX")(8598),p=o[0],q=o[1],r=k(function(){var a=n.current;if(a!=null){a();n.current=void 0;return}},[]),s=k(function(){if(!j.current){j.current=!0;r();return q()}},[]);o=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatUnsendNUXSenderDialog.react").__setRef("MWChatUnsendNUXSender.react"));var t=o[0],u=k(function(a){var b=!f.current&&!g.current;if(b&&c("isMessageUnsentInLastTenSeconds")(a)){f.current=!0;return p(function(a){f.current=!1,a?(t({onView:s},function(){}),g.current=!0):(r(),j.current=!0)})}},[a,r]);l(function(){n.current=d("ReQL").fromTableAscending(e.tables.messages).getKeyRange(b).filter(function(b){return b.isUnsent&&(i||(i=d("I64"))).equal(b.senderId,a)}).subscribe(function(a,b){b.operation!=="delete"&&u(b.value)});return r},[b,u,r]);return null}g["default"]=a}),98);
__d("MWChatXACSunsettingBanner.react",["fbt","ix","MWXButton.react","MWXImage.react","MWXRow.react","MWXRowItem.react","MWXText.react","goURIOnWindow","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).c,l=j,m="https://www.facebook.com/help/messenger-app/619453488713104?ref=learn_more",n={button:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},imageRow:{paddingTop:"x1nn3v0j",$$css:!0}};function a(){var a=k(7),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._("__JHASH__TDoMKgQOS58__JHASH__"),a[0]=b):b=a[0];b=b;var d;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(d=h._("__JHASH__9PUf24O7tfB__JHASH__"),a[1]=d):d=a[1];d=d;var e;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e="xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm",a[2]=e):e=a[2];var f;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=l.jsx(c("MWXRowItem.react"),{xstyle:n.imageRow,children:l.jsx(c("MWXImage.react"),{src:i("331359")})}),a[3]=f):f=a[3];a[4]===Symbol["for"]("react.memo_cache_sentinel")?(b=l.jsx(c("MWXRow.react"),{paddingHorizontal:0,paddingTop:0,children:l.jsx(c("MWXRowItem.react"),{children:l.jsx(c("MWXText.react"),{color:"primary",type:"headline4",children:b})})}),a[4]=b):b=a[4];a[5]===Symbol["for"]("react.memo_cache_sentinel")?(f=l.jsxs(c("MWXRow.react"),{paddingHorizontal:12,paddingTop:12,children:[f,l.jsxs(c("MWXRowItem.react"),{expanding:!0,children:[b,l.jsx(c("MWXRow.react"),{paddingHorizontal:0,paddingTop:8,children:l.jsx(c("MWXRowItem.react"),{children:l.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:d})})})]})]}),a[5]=f):f=a[5];a[6]===Symbol["for"]("react.memo_cache_sentinel")?(b=l.jsxs("div",{className:e,children:[f,l.jsx(c("MWXRow.react"),{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:l.jsx(c("MWXRowItem.react"),{xstyle:n.button,children:l.jsx(c("MWXButton.react"),{label:h._("__JHASH__W_KwwnBzw9K__JHASH__"),onPress:o,type:"primary"})})})]}),a[6]=b):b=a[6];return b}function o(){c("goURIOnWindow")(window.open("","_blank"),m)}g["default"]=a}),226);
__d("MWContextBannerQuickActionsEditChatInfo.react",["MWXCircleButton.react","react","useMWCMEditChatInfoDialogEntrypoint"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(6),d=a.icon,e=a.label;a=a.threadKey;var f=c("useMWCMEditChatInfoDialogEntrypoint")(a);b[0]!==f?(a=function(){return f()},b[0]=f,b[1]=a):a=b[1];var g;b[2]!==d||b[3]!==e||b[4]!==a?(g=j.jsx(c("MWXCircleButton.react"),{icon:d,label:e,onPress:a,size:36}),b[2]=d,b[3]=e,b[4]=a,b[5]=g):g=b[5];return g}g["default"]=a}),98);
__d("MWCopyLinkPublicChatQuickAction.react",["fbt","MWPBumpEntityKey","MWVerticalRhythm","MWXCircleButton.react","MWXIconLink","MWXText.react","cometPushToast","react","useCopyText"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.c,l=h._("__JHASH__6ygymPD56Yw__JHASH__"),m=h._("__JHASH__NNt0oNKP6tq__JHASH__");function a(a){var b=k(11);a=a.threadInviteLink;var e;b[0]!==a?(e={value:a},b[0]=a,b[1]=e):e=b[1];a=c("useCopyText")(e);a[0];a[1];var f=a[2];b[2]!==f?(e=function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","copy_link"),f(),d("cometPushToast").cometPushSimpleToast(m)},b[2]=f,b[3]=e):e=b[3];a=e;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(e="x6s0dn4 x78zum5 xdt5ytf x187xtus",b[4]=e):e=b[4];var g;b[5]!==a?(g=j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconLink"),label:l,onPress:a,size:36}),b[5]=a,b[6]=g):g=b[6];var h;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("MWVerticalRhythm"),{height:8}),h=j.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:l}),b[7]=a,b[8]=h):(a=b[7],h=b[8]);b[9]!==g?(e=j.jsxs("li",{className:e,children:[g,a,h]}),b[9]=g,b[10]=e):e=b[10];return e}g["default"]=a}),226);
__d("MWEditThreadNameDialogTrigger.react",["JSResourceForInteraction","promiseDone","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;i||(i=d("react"));var j=i.useRef,k=c("JSResourceForInteraction")("MWV2ThreadNameDialog.react").__setRef("MWEditThreadNameDialogTrigger.react");function a(a){var b=a.children,d=a.threadKey;a=j(null);var e=(h||(h=c("useReStore")))(),f=c("useMWXLazyDialog")(k),g=f[0];f=function(){c("promiseDone")(e.tables.threads.get(d),function(a){if(a==null)return;g({thread:a})})};return b(f,a)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWShareThreadQuickActionButton.react",["fbt","MWXCircleButton.react","MWXColumnItem.react","MWXIconShare","MWXText.react","MWXTooltip.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l=h._("__JHASH__zzzD0_ypABg__JHASH__");function a(a){var b=j(5);a=a.onPress;var d;b[0]!==a?(d=k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconShare"),label:l,onPress:a,size:36})}),b[0]=a,b[1]=d):d=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx(c("MWXColumnItem.react"),{paddingTop:8,children:k.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:l})}),b[2]=a):a=b[2];b[3]!==d?(a=k.jsxs(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:l,children:[d,a]}),b[3]=d,b[4]=a):a=b[4];return a}g["default"]=a}),226);
__d("MWSharePublicChatQuickAction.react",["ChannelShareDialogLoggingContext","MWChannelInviteDialog.entrypoint","MWShareThreadQuickActionButton.react","react","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(5),d=a.thread;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];a=c("useMWXEntryPointDialog")(c("MWChannelInviteDialog.entrypoint"),a);var e=a[0];b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a="x6s0dn4 x78zum5 xdt5ytf x187xtus",b[1]=a):a=b[1];b[2]!==e||b[3]!==d?(a=j.jsx("li",{className:a,children:j.jsx(c("MWShareThreadQuickActionButton.react"),{onPress:function(){e({channelThread:d,loggingContext:c("ChannelShareDialogLoggingContext").CONTEXT_BANNER_QUICK_ACTION})}})}),b[2]=e,b[3]=d,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("MWContextBannerQuickActions.react",["fbt","CommunityMessagingEnableState","I64","LSCommunityBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWAddMemberToGroupCircleButton.react","MWCMBulkInviteDialog.entrypoint","MWCMShortLinkShare.react","MWCMThreadTypes.react","MWContextBannerQuickActionsEditChatInfo.react","MWCopyLinkPublicChatQuickAction.react","MWEditChannelDialogTrigger.react","MWEditThreadNameDialogTrigger.react","MWGroupLimitContainer.react","MWInboxInfoMembersSectionStorageKey","MWInboxPersistedUIState","MWLSGroupMembershipDialog.entrypoint","MWPBumpEntityKey","MWSharePublicChatQuickAction.react","MWVerticalRhythm","MWXCircleButton.react","MWXIconFriendGenericAdd","MWXIconGroup","MWXIconLink","MWXIconPencil","MWXText.react","MessengerWebUXLogger","WebUXLoggingSurfaceContextProvider","canMWAddMemberToGroupThread","emptyFunction","isFeatureLimitEnabled","justknobx","mwCMIsAnyCMThread","mwCMisStandAloneCommunity","promiseDone","react","useCommunityFolder","useCommunityMembers","useIsReadOnlyFeatureLimitedWithThreadType","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;var m=b.useMemo,n=b.useRef,o=b.c,p=h._("__JHASH__4Z6iwQf0KqP__JHASH__"),q=h._("__JHASH__a3y4zGfm_2Z__JHASH__");function r(a){var b=a.thread;a=n(null);var e=c("useCommunityFolder")(b),f=c("mwCMIsAnyCMThread")(b.threadType),g=c("mwCMisStandAloneCommunity")(e==null?void 0:e.communityType),i=d("MWCMThreadTypes.react").isBroadcastThread(b.threadType),o=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(b.threadType),r=d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.threadType);r=c("useIsReadOnlyFeatureLimitedWithThreadType")(b.threadType)&&(!r||c("isFeatureLimitEnabled")());var s=d("useCommunityMembers").useClearMemberList(),t=m(function(){if(e!=null&&f)return[e.enableState,d("LSThreadBitOffset").has(120,b),d("LSCommunityBitOffset").has(17,e),e.fbGroupId];else return[void 0,!1,!1,(j||(j=d("I64"))).zero]},[f,e,b]),u=t[0],v=t[1];t=t[2];u=f&&(j||(j=d("I64"))).equal((u=u)!=null?u:(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").ENABLED),(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").DISABLE_REQUESTED));var w=d("MWInboxPersistedUIState").usePersistedUIState(!1,d("MWInboxInfoMembersSectionStorageKey").storageKey),x=w[0];w=c("useMWXEntryPointDialog")(c("MWCMBulkInviteDialog.entrypoint"),{});var y=w[0];w=c("useMWXEntryPointDialog")(c("MWLSGroupMembershipDialog.entrypoint"),{groupID:(j||(j=d("I64"))).to_string((w=e==null?void 0:e.fbGroupId)!=null?w:(j||(j=d("I64"))).zero)});var z=w[0];w=m(function(){return[f?h._("__JHASH__6ygymPD56Yw__JHASH__"):h._("__JHASH__5q5wieIjbh7__JHASH__"),f?h._("__JHASH__um66LGyp2bC__JHASH__"):h._("__JHASH___jI2RJo8mJV__JHASH__"),e!=null&&i?h._("__JHASH__1cAdDa3Rt1T__JHASH__"):h._("__JHASH__1Av2Yy1o2_Y__JHASH__")]},[i,f,e]);var A=w[0],B=w[1];w=w[2];var C=d("LSThreadBitOffset").has(60,b),D=d("LSThreadBitOffset").has(81,b);r=c("canMWAddMemberToGroupThread")(b,r);var E=d("LSThreadBitOffset").has(26,b),F=d("LSThreadBitOffset").has(108,b),G=C&&D,H=c("MessengerWebUXLogger").useInteractionLogger();return l.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_context_banner",children:l.jsxs("ul",{className:"x6s0dn4 x78zum5 xl56j7k xsag5q8 x1y1aw1k",children:[f&&!u?v?l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconFriendGenericAdd"),label:p,onPress:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","quick_actions_direct_invite");return y({fbThreadId:(j||(j=d("I64"))).to_string(b.threadKey),parentSurface:"thread_view",source:"invite_button",surface:"thread_view"},c("emptyFunction"))},size:36}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:p})]}):l.jsx(c("MWCMShortLinkShare.react"),{thread:b,children:function(a,b){return l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconLink"),label:A,onPress:b,size:36}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:A})]})}}):null,!f&&o&&F&&(j||(j=d("I64"))).equal(b.threadInvitesEnabledV2,(k||(k=d("LSIntEnum"))).ofNumber(1))?l.jsxs(l.Fragment,{children:[b.threadInviteLink!=null&&l.jsx(c("MWSharePublicChatQuickAction.react"),{thread:b}),b.threadInviteLink!=null&&l.jsx(c("MWCopyLinkPublicChatQuickAction.react"),{threadInviteLink:b.threadInviteLink})]}):null,!f&&r?l.jsx(c("MWGroupLimitContainer.react"),{groupLimitReachedContent:null,thread:b,children:l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWAddMemberToGroupCircleButton.react"),{label:A,threadKey:b.threadKey,threadType:b.threadType}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:A})]})}):null,o&&G?l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWEditChannelDialogTrigger.react"),{threadKey:b.threadKey,children:function(a,b){return l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconPencil"),label:q,onPress:function(){return a()},ref:b,size:36})}}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:q})]}):null,!f&&C&&!G?l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWEditThreadNameDialogTrigger.react"),{threadKey:b.threadKey,children:function(a,d){return l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconPencil"),label:B,onPress:function(){a(),H==null?void 0:H({eventName:"open_edit_thread_name_dialog",threadKey:b.threadKey,threadType:b.threadType})},ref:d,size:36})}}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:B})]}):null,f&&D&&!u&&t&&!g?l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWContextBannerQuickActionsEditChatInfo.react"),{icon:c("MWXIconPencil"),label:q,threadKey:b.threadKey}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:q})]}):c("justknobx")._("1116")?null:E?l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconGroup"),label:w,onPress:function(){return z({folder:e},function(){f&&!x&&c("promiseDone")(s())})},ref:a,size:36}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:w})]}):null]})})}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=o(2),c;b[0]!==a?(c=l.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_context_banner",children:l.jsx(r,babelHelpers["extends"]({},a))}),b[0]=a,b[1]=c):c=b[1];return c}g["default"]=a}),226);
__d("MWEBRestoreInThreadScrollPersistentBanner.react",["fbt","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWXLink.react","MWXText.react","QPLUserFlow","promiseDone","react","requireDeferred","useLabyrinthLogging","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useRef,m=b.c,n=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEBRestoreInThreadScrollPersistentBanner.react");function a(){var a=m(17),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={},a[0]=b):b=a[0];b=c("useMWXEntryPointDialog")(c("MAWEncryptedBackupsRestoreDialog.entrypoint"),b);var e=b[0];b=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var f=b.startFlow,g=(i||(i=c("useReStore")))(),j=l(!1),o=c("MWChatEncryptedBackupsQPLSource.enum").IN_THREAD_SCROLL_PERSISTENT_BANNER;a[1]!==g||a[2]!==f?(b=function(a){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:g,onFetch:function(b){var e=b.ebsmWiped,g=b.firstUpsellTime,h=b.hasEbKeysLocally,i=b.hasEBSM,k=b.hasPDB,l=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;f({additionalAnnotations:{eb_session_identifier:g,ebsm_wiped:e,has_eb_keys_locally:h,has_ebsm:i,has_pdb:k,has_user_restored_before:l,has_user_restored_before_temp:b,restore_upsell_first_impression_time:g},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:o});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a);j.current===!1&&(j.current=!0,c("promiseDone")(n.load(),function(a){return a(h)}))}})},a[1]=g,a[2]=f,a[3]=b):b=a[3];var p=b;a[4]!==p?(b={onVisible:function(){p("RESTORE_IN_THREAD_PERSISTENT_BANNER_IMPRESSION")}},a[4]=p,a[5]=b):b=a[5];b=c("useVisibilityObserver")(b);var q;a[6]===Symbol["for"]("react.memo_cache_sentinel")?(q="xfpmyvw x80vd3b x1q0q8m5 xso031l xt0psk2 x1o1nzlu x10b6aqq x889kno x10l6tqk x1wo2wf3 xh8yej3 x1vjfegm",a[6]=q):q=a[6];var r;a[7]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._("__JHASH__4WMqcKoHbeS__JHASH__"),a[7]=r):r=a[7];var s;a[8]!==p||a[9]!==e?(s=function(){p("RESTORE_IN_THREAD_PERSISTENT_BANNER_CTA_CLICKED"),e({source:o})},a[8]=p,a[9]=e,a[10]=s):s=a[10];var t;a[11]===Symbol["for"]("react.memo_cache_sentinel")?(t=k.jsx("div",{style:{color:"var(--mwp-header-button-color)",display:"inline"},children:h._("__JHASH__KfRv84gajDv__JHASH__")}),a[11]=t):t=a[11];a[12]!==s?(r=k.jsxs(c("MWXText.react"),{align:"center",color:"secondary",numberOfLines:2,type:"meta4",children:[r," ",k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:k.jsx(c("MWXLink.react"),{onClick:s,target:"_blank",testid:void 0,weight_DEPRECATED:"semibold",children:t})})]}),a[12]=s,a[13]=r):r=a[13];a[14]!==b||a[15]!==r?(t=k.jsx("div",{className:q,ref:b,children:r}),a[14]=b,a[15]=r,a[16]=t):t=a[16];return t}g["default"]=a}),226);
__d("MWEBRestoreInThreadScrollPersistentBannerWrapper.react",["MWEBEntrypointsKillswitch.enum","MWEBRestoreInThreadScrollPersistentBanner.react","react","useCometRouterState","useMWEBBackupState","useMWEBGetUpsellState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(){var a=i(2),b=c("useCometRouterState")();b=b==null?void 0:b.main.route.tabKey;var d;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(d={entrypoint:c("MWEBEntrypointsKillswitch.enum").IN_THREAD_SCROLL_BANNER},a[0]=d):d=a[0];d=c("useMWEBBackupState")(d);var e=c("useMWEBGetUpsellState")();e=e.isRestoreUpsellsDismissed;if(b!=="messenger"&&d===4&&e===!1){a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("MWEBRestoreInThreadScrollPersistentBanner.react"),{}),a[1]=b):b=a[1];return b}return null}g["default"]=a}),98);
__d("MWEBRestoreInThreadScrollPersistentBannerWrapperWithEBCheck.react",["cr:9932"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:9932")}),98);
__d("MWXIconChevronDown",["MWXSvgIcon","SVGIcon","cr:9086","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9086")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconPushpin",["MWXSvgIcon","SVGIcon","cr:9265","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9265")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMWFetchMessageByPinnedMessageId",["FBLogger","I64","LSFactory","LSMessagePointQueryStoredProcedure","LSMessagingThreadTypeUtil","MAWThreadCutover","ReQL","ReQLSuspense","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(i||d("react")).c;function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var g;g=(j||(j=d("I64"))).to_int32((g=b.syncGroup)!=null?g:(j||(j=d("I64"))).neg_one);if(g!==-1&&g===95){c("FBLogger")("messenger_web_messaging").mustfix("useMWFetchMessageByPinnedMessageId: incorrect call to MPQ with secure mailbox");return}yield a.runInTransaction(function(a){return c("LSMessagePointQueryStoredProcedure")(c("LSFactory")(a),{messageId:e,threadKey:b.threadKey,threadType:b.threadType})},"readwrite",void 0,void 0,f.id+":53")});return m.apply(this,arguments)}function a(a){var b=k(22),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.threads||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.threads,["threadType"]).getKeyRange(a)},b[0]=e.tables.threads,b[1]=a,b[2]=g):g=b[2];var i;b[3]!==e||b[4]!==a?(i=[e,a],b[3]=e,b[4]=a,b[5]=i):i=b[5];g=d("ReQLSuspense").useFirst(g,i,f.id+":66");i=d("MAWThreadCutover").useGetCutoverOpenThreadKey(a);var j=i!=null,m=i||a;i=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(i);var o;b[6]!==g?(o=g!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(g.threadType),b[6]=g,b[7]=o):o=b[7];g=o;var p=g&&(!j||i);b[8]!==e.tables.threads||b[9]!==m?(o=function(){return d("ReQL").fromTableDescending(e.tables.threads,["threadKey","threadType","syncGroup"]).getKeyRange(m)},b[8]=e.tables.threads,b[9]=m,b[10]=o):o=b[10];b[11]!==e||b[12]!==m?(g=[e,m],b[11]=e,b[12]=m,b[13]=g):g=b[13];var q=d("ReQLSuspense").useFirst(o,g,f.id+":86");b[14]!==p||b[15]!==e||b[16]!==m||b[17]!==q?(j=function(){return p?d("ReQL").empty():d("ReQL").fromTableDescending(e.tables.msg_pinned_messages_v2.index("pinnedMessageDisplayOrder")).getKeyRange(m).map(function(a){a=a.messageId;var b=d("ReQLSuspense").first(d("ReQL").fromTableDescending(e.tables.messages.index("messageId")).getKeyRange(a),f.id+":105");q!=null&&b==null&&c("promiseDone")(l(e,q,a));return{message:b,pinnedMessageId:a}})},i=[e,m,p,q],b[14]=p,b[15]=e,b[16]=m,b[17]=q,b[18]=j,b[19]=i):(j=b[18],i=b[19]);o=d("ReQLSuspense").useArray(j,i,f.id+":96");b[20]!==o?(g=o.map(n),b[20]=o,b[21]=g):g=b[21];return g}function n(a){return a.message}g["default"]=a}),98);
__d("useMWJumpToMessageWrapper",["useMWJumpToMessage"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWJumpToMessage")(a.source)}g["default"]=a}),98);
__d("MWInboxPinnedMessagesBanner.react",["fbt","BaseMiddot.react","CometErrorBoundary.react","CometPageletWithDiv.react","FBLogger","I64","JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","MWBroadcastChannelLoggingShapes","MWLSThreadDisplayContext","MWLogBroadcastChannelFalcoEvent","MWPActor.react","MWUnvaultedText","MWXColumn.react","MWXColumnItem.react","MWXIconChevronDown","MWXIconForListCell.react","MWXIconPushpin","MWXIconStrict.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","ReQL","ReQLSuspense","cr:7535","isMWBumpMessage","react","useMWFetchMessageByPinnedMessageId","useMWJumpToMessageWrapper","useMWXLazyDialog","useReStore","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react")),n=j,o=n.useMemo,p=n.c;function a(a){a=p(1);var b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=[],a[0]=b):b=a[0];return b}var q=(n=b("cr:7535"))!=null?n:a,r={pinnedMessagesWrapper:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},pinnedMessagesWrapperChatTabs:{borderBottomColor:"x80vd3b",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0},pinnedMessagesWrapperInbox:{borderTopColor:"x1pdss0j",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},row:{height:"x10wjd1d",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",$$css:!0},rowText:{height:"xlup9mm",$$css:!0}},s=c("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWInboxPinnedMessagesBanner.react");function t(a,b,e){var f=a==null?void 0:a.text,g=b&&a!=null?(k||(k=d("I64"))).equal(e,a.threadKey):!1;b=o(function(){var b;return new Set(g?(b=a==null?void 0:(b=a.mentionIds)==null?void 0:b.split==null?void 0:b.split(","))!=null?b:[]:[])},[g,a==null?void 0:a.mentionIds]);f=d("MWUnvaultedText").getMWUnvaultedText(g,f);b=(b=(b=d("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(f,[],b))==null?void 0:b.textWithSubstitutions)!=null?b:f;e=(e=d("useStringWithSubstitutions").useStringWithSubstitutions(f,e))!=null?e:f;f=c("isMWBumpMessage")(a);return f?e:b}function u(a){if(a==null)return"";if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(2)))return h._("__JHASH__xgjHlv2kQPY__JHASH__");else if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(4)))return h._("__JHASH__X9DncealQbJ__JHASH__");else if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(4096))||(k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(134217728)))return h._("__JHASH__rZqTMZ7dJmB__JHASH__");else if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(16384)))return h._("__JHASH__qqvxkP_nlPB__JHASH__");else if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(64)))return h._("__JHASH__BbHS9IlclMk__JHASH__");return h._("__JHASH__KsTQ68TZNpQ__JHASH__")}function v(a){c("FBLogger")("messenger_web_pinned_messages").catching(a).mustfix("uncaught exception in MWInboxPinnedMessagesBanner.react. Error:%s",a.message)}function e(a){var b=p(2);a=a.thread;var e;b[0]!==a?(e=m.jsx(c("CometErrorBoundary.react"),{fallback:w,onError:v,children:m.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWPinnedMessagesBanner",children:m.jsx(x,{thread:a})})}),b[0]=a,b[1]=e):e=b[1];return e}function w(){return null}function x(a){var b=p(55),e=a.thread;a=c("useMWXLazyDialog")(s);var g=a[0],j=(i||(i=c("useReStore")))();a=c("useMWFetchMessageByPinnedMessageId")(e.threadKey);var l=q(e.threadKey);if(b[0]!==l||b[1]!==a){var n=l.concat(a),o=[];n=n.reduce(y,o);b[0]=l;b[1]=a;b[2]=n}else n=b[2];var v=n;o=d("MWPActor.react").useActor();b[3]===Symbol["for"]("react.memo_cache_sentinel")?(l={source:"Pinned"},b[3]=l):l=b[3];var w=c("useMWJumpToMessageWrapper")(l),x=(v==null?void 0:v.length)>0?v[0]:null;b[4]!==x||b[5]!==j?(a=function(){return(x==null?void 0:x.senderId)!=null?d("ReQL").fromTableAscending(j.tables.contacts).getKeyRange(x.senderId):d("ReQL").empty()},b[4]=x,b[5]=j,b[6]=a):a=b[6];n=x==null?void 0:x.senderId;b[7]!==n||b[8]!==j?(l=[n,j],b[7]=n,b[8]=j,b[9]=l):l=b[9];n=d("ReQLSuspense").useFirst(a,l,f.id+":250");b[10]!==e.threadType?(a=d("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType),b[10]=e.threadType,b[11]=a):a=b[11];l=a;a=t(x,l,e.threadKey);b[12]!==a||b[13]!==x?(l=a!=null&&a!==""?a:u(x),b[12]=a,b[13]=x,b[14]=l):l=b[14];a=l;l=a;a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="Inbox";if(v.length===0)return null;var z;b[15]!==e.threadKey||b[16]!==e.threadType?(z={eventName:"open_view_pinned_messages_dialog",threadKey:e.threadKey,threadType:e.threadType},b[15]=e.threadKey,b[16]=e.threadType,b[17]=z):z=b[17];z=z;var A;b[18]!==e.threadType?(A=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(e.threadType),b[18]=e.threadType,b[19]=A):A=b[19];var B=A;if(b[20]!==x||b[21]!==o||b[22]!==(n==null?void 0:n.name)){A=(x==null?void 0:x.senderId)!=null&&(k||(k=d("I64"))).equal(o,x.senderId)?"You":(A=n==null?void 0:n.name)!=null?A:"";b[20]=x;b[21]=o;b[22]=n==null?void 0:n.name;b[23]=A}else A=b[23];o=A;b[24]!==B||b[25]!==l?(n=B?h._("__JHASH__uKLUxuQU_CD__JHASH__",[h._param("lastPinnedMessage",l)]):h._("__JHASH__YIRbXxGdt3C__JHASH__",[h._param("lastPinnedMessage",l)]),b[24]=B,b[25]=l,b[26]=n):n=b[26];b[27]!==v||b[28]!==w||b[29]!==g||b[30]!==e.threadKey||b[31]!==B?(A=function(){if(v.length===1){var a=v[0];a!=null&&a.messageId!=null&&a.timestampMs!=null&&w(a.messageId,a.timestampMs)}else g({threadKey:e.threadKey});B&&d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent(babelHelpers["extends"]({},d("MWBroadcastChannelLoggingShapes").VIEW_PINNED_MESSAGES_FROM_THREAD_VIEW_BANNER,{clientExtras:{isDialogOpened:(v.length>1).toString()},threadFbid:e.threadKey}))},b[27]=v,b[28]=w,b[29]=g,b[30]=e.threadKey,b[31]=B,b[32]=A):A=b[32];a=a?r.pinnedMessagesWrapperInbox:r.pinnedMessagesWrapperChatTabs;var C;b[33]!==a?(C=[r.pinnedMessagesWrapper,a],b[33]=a,b[34]=C):C=b[34];b[35]===Symbol["for"]("react.memo_cache_sentinel")?(a=m.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:m.jsx(c("MWXIconForListCell.react"),{color:"secondary",icon:c("MWXIconPushpin"),size:"medium"})}),b[35]=a):a=b[35];var D;b[36]!==B||b[37]!==o?(D=m.jsx(c("MWXColumnItem.react"),{verticalAlign:"center",xstyle:r.rowText,children:m.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"meta3",children:B?h._("__JHASH__Dezv4EV21yi__JHASH__",[h._param("channel_creator_name",o),h._param("middot",m.jsx(c("BaseMiddot.react"),{}))]):h._("__JHASH__5htmo3zfvNj__JHASH__",[h._param("message_sender_name",o)])})}),b[36]=B,b[37]=o,b[38]=D):D=b[38];b[39]!==l?(o=m.jsx(c("MWXColumnItem.react"),{verticalAlign:"center",xstyle:r.rowText,children:m.jsx(c("MWXText.react"),{numberOfLines:1,type:"bodyLink4",children:l})}),b[39]=l,b[40]=o):o=b[40];b[41]!==D||b[42]!==o?(l=m.jsx(c("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",children:m.jsxs(c("MWXColumn.react"),{children:[D,o]})}),b[41]=D,b[42]=o,b[43]=l):l=b[43];b[44]!==v.length?(D=v.length>1&&m.jsx(c("MWXRowItem.react"),{children:m.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWXIconChevronDown"),size:16})}),b[44]=v.length,b[45]=D):D=b[45];b[46]!==l||b[47]!==D?(o=m.jsxs(c("MWXRow.react"),{expanding:!0,paddingHorizontal:8,paddingVertical:0,verticalAlign:"center",xstyle:r.row,children:[a,l,D]}),b[46]=l,b[47]=D,b[48]=o):o=b[48];b[49]!==n||b[50]!==z||b[51]!==A||b[52]!==C||b[53]!==o?(a=m.jsx(c("MWXPressable.react"),{"aria-label":n,display:"inline",expanding:!0,loggingEvent:z,onPress:A,overlayDisabled:!0,overlayFocusRingPosition:"inset",testid:void 0,xstyle:C,children:o}),b[49]=n,b[50]=z,b[51]=A,b[52]=C,b[53]=o,b[54]=a):a=b[54];return a}function y(a,b){return b!=null?[].concat(a,[b]):a}g["default"]=e}),226);
__d("useInThreadBannerWithCta",["I64","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(i||d("react")).c,l=function(a,b){return b!=null?a.get((j||(j=d("I64"))).to_string(b)):null};function m(a,b,c){return{banner:a,bannerAction:l(b,a.bannerCtaId),leftButton:l(b,a.cta1Id),overflowMenuActions:(c!=null?[c.cta1Id,c.cta2Id,c.cta3Id,c.cta4Id,c.cta5Id]:[]).map(function(a){return l(b,a)}).filter(Boolean),rightButton:l(b,a.cta2Id)}}function a(a,b){var e=k(18),g=(h||(h=c("useReStore")))(),i;e[0]!==g.tables.in_thread_banner_overflow_menu||e[1]!==b||e[2]!==a.bannerId?(i=function(){return d("ReQL").fromTableAscending(g.tables.in_thread_banner_overflow_menu).getKeyRange(b,a.bannerId)},e[0]=g.tables.in_thread_banner_overflow_menu,e[1]=b,e[2]=a.bannerId,e[3]=i):i=e[3];var l;e[4]!==g||e[5]!==b||e[6]!==a.bannerId?(l=[g,b,a.bannerId],e[4]=g,e[5]=b,e[6]=a.bannerId,e[7]=l):l=e[7];i=d("ReQLSuspense").useFirst(i,l,f.id+":67");e[8]!==g.tables.in_thread_banner_ctas||e[9]!==a.bannerId?(l=function(){return d("ReQL").fromTableAscending(g.tables.in_thread_banner_ctas).getKeyRange(a.bannerId).map(function(a){return[(j||(j=d("I64"))).to_string(a.ctaId),a]})},e[8]=g.tables.in_thread_banner_ctas,e[9]=a.bannerId,e[10]=l):l=e[10];var n;e[11]!==g||e[12]!==a.bannerId?(n=[g,a.bannerId],e[11]=g,e[12]=a.bannerId,e[13]=n):n=e[13];l=d("ReQLSuspense").useArray(l,n,f.id+":74");if(e[14]!==l||e[15]!==a||e[16]!==i){n=new Map(l);n=m(a,n,i);e[14]=l;e[15]=a;e[16]=i;e[17]=n}else n=e[17];return n}g.createBanner=m;g.useInThreadBannerWithCta=a}),98);
__d("useMWLSEnsureAdContextExists",["LSFactory","LSRequestAdContextFromThreadKeyStoredProcedure","MWThreadKey.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useEffect,k=b.c;function a(){var a=k(4),b=(h||(h=c("useReStore")))(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g,i;a[0]!==b||a[1]!==e?(g=function(){c("promiseDone")(b.runInTransaction(function(a){return c("LSRequestAdContextFromThreadKeyStoredProcedure")(c("LSFactory")(a),{threadKey:e})},"readwrite",void 0,void 0,f.id+":24"))},i=[e,b],a[0]=b,a[1]=e,a[2]=g,a[3]=i):(g=a[2],i=a[3]);j(g,i)}g["default"]=a}),98);
__d("useMWLSEnsureInThreadBannerExists",["LSFactory","LSFetchBannersStoredProcedure","MWThreadKey.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useEffect,k=b.c;function a(){var a=k(4),b=(h||(h=c("useReStore")))(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g,i;a[0]!==b||a[1]!==e?(g=function(){var a=b.runInTransaction(function(a){return c("LSFetchBannersStoredProcedure")(c("LSFactory")(a),{threadKey:e})},"readwrite",void 0,void 0,f.id+":23");c("promiseDone")(a)},i=[e,b],a[0]=b,a[1]=e,a[2]=g,a[3]=i):(g=a[2],i=a[3]);j(g,i)}g["default"]=a}),98);
__d("useMWCMMemberRequestsCtaParser.react",["GroupsCometChatsEngagementLogger","I64","MWCMMemberRequestsDialog.entrypoint","MWInboxInfoPanelContext.react","MWLSThreadDisplayContext","react","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).c;function a(){var a=j(11),b=d("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext(),e=b.isOnMemberRequestsPageRef,f=b.pushMemberRequestsPage,g=b.setShouldNavToMemberRequests,h=b.setThreadInfoVisible,k=b.threadInfoVisible;b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();var l=b==="ChatTab";a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={},a[0]=b):b=a[0];b=c("useMWXEntryPointDialog")(c("MWCMMemberRequestsDialog.entrypoint"),b);var m=b[0];a[1]!==m?(b=function(a){m({parentSurface:"request_to_join_activity_banner",threadKey:a})},a[1]=m,a[2]=b):b=a[2];var n=b;a[3]!==l||a[4]!==n||a[5]!==e||a[6]!==k||a[7]!==f||a[8]!==g||a[9]!==h?(b=function(a,b){var c=function(){d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{member_join_request_enabled:"1"},event:"request_to_join_banner",source:"request_to_join_activity_banner",surface:"thread_view",thread_id:(i||(i=d("I64"))).to_string(a.banner.threadKey)})};if(b.ctaType!=="cm_thread_member_requests_view")return{type:"unimplemented"};return l?{onPress:function(){c(),n(a.banner.threadKey)},type:"action"}:{onPress:function(){c();if(e.current===!0)return;k===!0?f("request_to_join_activity_banner"):(g(!0),h(!0))},type:"action"}},a[3]=l,a[4]=n,a[5]=e,a[6]=k,a[7]=f,a[8]=g,a[9]=h,a[10]=b):b=a[10];return b}g["default"]=a}),98);
__d("useMWLSAdContextCtaParser",["JSResourceForInteraction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(){var a=i(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=c("JSResourceForInteraction")("MWCTMAdContextDialog.react").__setRef("useMWLSAdContextCtaParser"),a[0]=b):b=a[0];b=c("useMWXLazyDialog")(b);var d=b[0];a[1]!==d?(b=function(a,b){return b.ctaType!=="ads_context"?{type:"unimplemented"}:{onPress:function(){return d({adId:b.ctaId,threadKey:a.banner.threadKey})},type:"action"}},a[1]=d,a[2]=b):b=a[2];return b}g["default"]=a}),98);
__d("useMWLSExecuteInThreadBannerCta",["LSExecuteCTAStoredProcedure","LSFactory","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");b.useCallback;var j=b.c;function a(){var a=j(2),b=(h||(h=c("useReStore")))(),d;a[0]!==b?(d=function(a){c("promiseDone")(b.runInTransaction(function(b){return c("LSExecuteCTAStoredProcedure")(c("LSFactory")(b),{ctaId:a})},"readwrite",void 0,void 0,f.id+":34"))},a[0]=b,a[1]=d):d=a[1];return d}g["default"]=a}),98);
__d("useMWLSMarketplaceServerMutationCta",["LSFactory","LSServerMutationCtaStoredProcedure","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");b.useCallback;var j=b.c;function a(){var a=j(2),b=(h||(h=c("useReStore")))(),d;a[0]!==b?(d=function(a,d){c("promiseDone")(b.runInTransaction(function(b){return c("LSServerMutationCtaStoredProcedure")(c("LSFactory")(b),{marketplaceCtaType:d,threadKey:a})},"readwrite",void 0,void 0,f.id+":28"))},a[0]=b,a[1]=d):d=a[1];return d}g["default"]=a}),98);
__d("useMWLSMarketplaceCtaParser",["CometMarketplaceConfirmMarkAsPaidDialog.entrypoint","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometMarketplaceInboxLabelChatDialog.entrypoint","CometMarketplaceLogger","FBLogger","I64","JSResourceForInteraction","MWPActor.react","MWThreadKey.react","MWXLazyPopoverTrigger.react","ReQL","ReQLSuspense","react","recoverableViolation","useMWLSExecuteInThreadBannerCta","useMWLSMarketplaceServerMutationCta","useMWXEntryPointDialog","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;var l=b.useMemo,m=b.c;e=["marketplace_mark_as_available","marketplace_mark_as_pending","marketplace_mark_as_sold","marketplace_mark_as_sold_scaled","marketplace_mark_as_sold_with_txn_survey","marketplace_mark_as_sold_with_txn_survey_scaled","marketplace_mark_as_sold_with_select_buyer","marketplace_mark_as_sold_with_select_buyer_scaled"];var n=new Set(e);b=new Set(e.concat(["marketplace_rate_buyer","marketplace_scaled_rate_buyer","marketplace_rate_seller","marketplace_scaled_rate_seller","marketplace_report_buyer","marketplace_report_seller","marketplace_see_details","marketplace_request_payment","marketplace_send_payment","marketplace_find_similar","marketplace_more_options","marketplace_p2m_request_payment","marketplace_xma_call_function","marketplace_label_chat","marketplace_mark_as_paid","marketplace_view_profile","marketplace_create_discount","marketplace_server_mutation","marketplace_banner_open_native"]));function o(a){var b=m(8),e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),j;b[0]!==e.tables.participants||b[1]!==a||b[2]!==g?(j=function(){return d("ReQL").fromTableAscending(e.tables.participants,["contactId"]).getKeyRange(a).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,g)}).map(function(a){return(i||(i=d("I64"))).to_string(a.contactId)})},b[0]=e.tables.participants,b[1]=a,b[2]=g,b[3]=j):j=b[3];var k;b[4]!==g||b[5]!==a||b[6]!==e?(k=[g,a,e],b[4]=g,b[5]=a,b[6]=e,b[7]=k):k=b[7];return d("ReQLSuspense").useFirst(j,k,f.id+":81")}function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),b=c("useMWLSMarketplaceServerMutationCta")(),e=c("useMWLSExecuteInThreadBannerCta")(),f=o(a),g=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometFRX_DEPRECATED.react").__setRef("useMWLSMarketplaceCtaParser")),h=g[0],j=(i||(i=d("I64"))).to_string(a);g=c("useMWXEntryPointDialog")(c("CometMarketplaceInboxLabelChatDialog.entrypoint"),{thread_id:j});var m=g[0];a=c("useMWXEntryPointDialog")(c("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint"),{threadId:j});var p=a[0];g=c("useMWXEntryPointDialog")(c("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"),{threadId:j});var q=g[0];return l(function(){var a=function a(g,l){var o=l.ctaId,r=l.ctaType,s=l.deeplinkUrl,t=l.webviewUrl;if(r==="marketplace_see_details"||r==="marketplace_banner_open_native"){var u;u=(u=t)!=null?u:s;if(u!=null)return{type:"link",url:u};c("recoverableViolation")("Marketplace see details cta without url","mp_messaging")}if(r==="marketplace_view_profile"){u=(u=t)!=null?u:s;if(u!=null)return{type:"link",url:u};c("recoverableViolation")("Marketplace view profile cta without url","mp_messaging")}if(r==="marketplace_scaled_rate_seller"&&t!=null)return{type:"link",url:t};if(r==="marketplace_more_options"&&g.overflowMenuActions.length>0)return{popoverTrigger:function(b){return k.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:{ctaParser:function(b){return a(g,b)},menu:g.overflowMenuActions},popoverResource:c("JSResourceForInteraction")("MWLSMarketplacePopoverMenu.react").__setRef("useMWLSMarketplaceCtaParser"),children:b})},type:"popover"};if(r==="marketplace_report_buyer"||r==="marketplace_report_seller"){if(f!=null)return{onPress:function(){return h({entryPoint:"REPORT_BUTTON",id:f,location:r==="marketplace_report_buyer"?"marketplace_messenger_report_buyer":"marketplace_messenger_report_seller"},function(){})},type:"action"};c("recoverableViolation")("Haven't implemented report buyer/seller for threads with more than 1 person","mp_messaging")}if(n.has(r))return{onPress:function(){return e(o)},type:"action"};if(r==="marketplace_label_chat")return{onPress:function(){return m({threadID:j},function(){return e(o)})},type:"action"};if(r==="marketplace_mark_as_paid")return{onPress:function(){return p({threadID:j},function(){return e(o)})},type:"action"};if(r==="marketplace_create_discount")return{onPress:function(){d("CometMarketplaceLogger").logClick("create_discount","messenger_thread_view");return q({},function(){return e(o)})},type:"action"};if(r==="marketplace_server_mutation"){s=l.actionContentBlob;var v="";if(s!=null){t=((u=JSON.parse(s))!=null?u:{}).marketplace_cta_type;typeof t==="string"?v=t:c("FBLogger")("mp_messaging").mustfix("blob marketplace_cta_type is not a valid string type")}return{onPress:function(){return b((i||(i=d("I64"))).of_string(j),v)},type:"action"}}return{type:"unimplemented"}};return a},[e,b,f,h,q,m,p,j])}g.marketplaceCta=b;g.useMWLSMarketplaceCtaParser=a}),98);
__d("useMWLSInThreadBannerCtaParser",["react","useMWCMMemberRequestsCtaParser.react","useMWLSAdContextCtaParser","useMWLSMarketplaceCtaParser"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(){var a=i(4),b=d("useMWLSMarketplaceCtaParser").useMWLSMarketplaceCtaParser(),e=c("useMWLSAdContextCtaParser")(),f=c("useMWCMMemberRequestsCtaParser.react")(),g;a[0]!==b||a[1]!==e||a[2]!==f?(g=function(a,c){var g=c.ctaType;if(d("useMWLSMarketplaceCtaParser").marketplaceCta.has(g))return b(a,c);else if(g==="ads_context")return e(a,c);else if(g==="cm_thread_member_requests_view")return f(a,c);return{type:"unimplemented"}},a[0]=b,a[1]=e,a[2]=f,a[3]=g):g=a[3];return g}g["default"]=a}),98);
__d("MWLSInThreadBannerComponent.react",["GroupsCometChatsEngagementLogger","I64","MWChatInThreadBanner.react","ReQL","ReQLSuspense","react","useInThreadBannerWithCta","useMWLSEnsureAdContextExists","useMWLSEnsureInThreadBannerExists","useMWLSInThreadBannerCtaParser","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).c,l=j;function m(a){var b=k(4),e=a.banner,f=a.impressionRef;a=a.threadKey;e=d("useInThreadBannerWithCta").useInThreadBannerWithCta(e,a);a=c("useMWLSInThreadBannerCtaParser")();var g;b[0]!==e||b[1]!==a||b[2]!==f?(g=l.jsx(c("MWChatInThreadBanner.react"),{banner:e,ctaParser:a,impressionRef:f}),b[0]=e,b[1]=a,b[2]=f,b[3]=g):g=b[3];return g}function a(a){var b=k(13),e=a.threadKey;c("useMWLSEnsureInThreadBannerExists")();c("useMWLSEnsureAdContextExists")();var g=(h||(h=c("useReStore")))();b[0]!==g.tables.in_thread_banner||b[1]!==e?(a=function(){return d("ReQL").fromTableAscending(g.tables.in_thread_banner).getKeyRange(e)},b[0]=g.tables.in_thread_banner,b[1]=e,b[2]=a):a=b[2];var j;b[3]!==g||b[4]!==e?(j=[g,e],b[3]=g,b[4]=e,b[5]=j):j=b[5];var n=d("ReQLSuspense").useFirst(a,j,f.id+":56");a=n==null?void 0:n.cta1Type;j=n==null?void 0:n.cta2Type;var o;b[6]!==n||b[7]!==e?(o={onImpressionStart:function(){(n==null?void 0:n.bannerCtaType)==="cm_thread_member_requests_view"&&d("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:{member_join_request_enabled:"1"},event:"request_to_join_banner",source:"request_to_join_activity_banner",surface:"thread_view",thread_id:(i||(i=d("I64"))).to_string(e)})}},b[6]=n,b[7]=e,b[8]=o):o=b[8];o=c("useSinglePartialViewImpression")(o);if(n==null||a==="proactive_warning_affirmative"||a==="proactive_warning_negative"||j==="proactive_warning_affirmative"||j==="proactive_warning_negative"||a==="ctx_whatsapp_redirect_banner"||j==="ctx_whatsapp_redirect_banner")return null;b[9]!==n||b[10]!==o||b[11]!==e?(a=l.jsx(m,{banner:n,impressionRef:o,threadKey:e}),b[9]=n,b[10]=o,b[11]=e,b[12]=a):a=b[12];return a}g["default"]=a}),98);
__d("MWMDotMeReferrerContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.c,l=e();function a(a){var b=k(3),c=a.children;a=a.referrer;var d;b[0]!==a||b[1]!==c?(d=i.jsx(l.Provider,{value:a,children:c}),b[0]=a,b[1]=c,b[2]=d):d=b[2];return d}function b(){return j(l)}g.MWMDotMeReferrerContextProvider=a;g.useMDotMeReferrer=b}),98);
__d("MWV2ThreadNullstatePill.react",["MWXPressable.react","react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={dark_mode_legible_text_pill:{alignItems:"x6s0dn4",backgroundColor:"xmd5bsh",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x1vnslfi",boxSizing:"x9f619",color:"xi81zsa",display:"x3nfvp2",fontSize:"x6prxxf",fontWeight:"xo1l8bm",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginEnd:"x1emribx",marginBottom:"xjpr12u",marginStart:"x1i64zmx",overflowWrap:"x1mzt3pk",paddingTop:"x123j3cw",paddingBottom:"xs9asl8",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,wordBreak:"x13faqbe",$$css:!0},pill:{alignItems:"x6s0dn4",backgroundColor:"x1eb86dx",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x1vnslfi",boxSizing:"x9f619",color:"xxq4lyh",display:"x3nfvp2",fontSize:"x6prxxf",fontWeight:"xo1l8bm",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginEnd:"x1emribx",marginBottom:"xjpr12u",marginStart:"x1i64zmx",overflowWrap:"x1mzt3pk",paddingTop:"x123j3cw",paddingBottom:"xs9asl8",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,wordBreak:"x13faqbe",$$css:!0}};function a(a){var b=i(6),d=a.children;a=a.onClick;var e=c("useCurrentDisplayMode")()==="dark",f;b[0]!==e?(f=function(){return[e?k.dark_mode_legible_text_pill:k.pill]},b[0]=e,b[1]=f):f=b[1];var g;b[2]!==a||b[3]!==f||b[4]!==d?(g=j.jsx(c("MWXPressable.react"),{onPress:a,overlayDisabled:!0,xstyle:f,children:d}),b[2]=a,b[3]=f,b[4]=d,b[5]=g):g=b[5];return g}g["default"]=a}),98);
__d("useMWV2SendIcebreakerMessage",["I64","Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSNullstateCTAType","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","LsBotComposerQuickReplyTappedFalcoEvent","LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent","LsFalcoEventEntryPoint","MWMDotMeReferrerContext.react","MWPActor.react","MessagePowerUp","MessageSendClickFalcoEvent","gkx","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).c;function a(a,b,e,g){var k=l(9),m=(h||(h=c("useReStore")))(),n=d("MWPActor.react").useActor(),o=d("MWMDotMeReferrerContext.react").useMDotMeReferrer(),p,q;k[0]!==a||k[1]!==e||k[2]!==o||k[3]!==m||k[4]!==g||k[5]!==n||k[6]!==b?(p=function(h,k){var l=d("LSThreadAttributionTypeUtil").getSource(a,e),p=h!=null?(i||(i=d("I64"))).equal(h.ctaType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").GET_STARTED))&&h.ctaId===k.ctaId:!1;h=c("gkx")("6771")&&h!=null&&(i||(i=d("I64"))).equal(h.ctaType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").ICEBREAKER))&&h.ctaId===k.ctaId;var q=p||h?o:void 0;c("promiseDone")(m.runInTransaction(function(e){return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(e),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:(e=g)!=null?e:void 0,mark_read:!0,platform_ref:q,platform_token:k.platformToken,power_up_style:(j||(j=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),source:l}),mailboxType:j.ofNumber(c("LSMailboxType").MESSENGER),senderId:n,text:k.title,threadKey:a,threadType:b})},"readwrite",void 0,void 0,f.id+":76"));var r=(i||(i=d("I64"))).to_string(a);if(p)c("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent").log(function(){return{page:{id:r}}});else{var s=(h=k.ctaIdentifier)!=null?h:"";c("LsBotComposerQuickReplyTappedFalcoEvent").log(function(){return{display:void 0,page:{id:r},quick_reply:{id:s,type:64}}})}c("MessageSendClickFalcoEvent").log(function(){return{message_send_source:{entry_point:d("LsFalcoEventEntryPoint").icebreaker}}})},q=[a,e,o,m,n,b,g],k[0]=a,k[1]=e,k[2]=o,k[3]=m,k[4]=g,k[5]=n,k[6]=b,k[7]=p,k[8]=q):(p=k[7],q=k[8]);return d("Int64Hooks").useCallbackInt64(p,q)}g["default"]=a}),98);
__d("MWPersistentIcebreakers",["I64","Int64Hooks","LsBotComposerQuickReplyDisplayedFalcoEvent","MWV2ThreadNullstatePill.react","ReQL","ReQLSuspense","ServerTime","react","useMWV2SendIcebreakerMessage","useReStore","useStable","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useState,m=b.c;function n(a){var b=m(21),e=a.initiatingSource,f=a.lsSource,g=a.nullstateCtas,h=a.threadKey;a=a.threadType;f=f===void 0?"unknown":f;var i=c("useMWV2SendIcebreakerMessage")(h,a,f,e);b[0]!==g?(a=g.map(o),b[0]=g,b[1]=a):a=b[1];var n=a;f=l(!1);var p=f[0],q=f[1];b[2]!==p||b[3]!==n||b[4]!==h?(e=function(){if(!p&&n.length>0){q(!0);var a=(j||(j=d("I64"))).to_string(h);c("LsBotComposerQuickReplyDisplayedFalcoEvent").log(function(){return{displayed_quick_reply:{item_ids:n,num_items:n.length,type:60},page:{id:a}}})}},a=[p,n,h],b[2]=p,b[3]=n,b[4]=h,b[5]=e,b[6]=a):(e=b[5],a=b[6]);f=d("Int64Hooks").useCallbackInt64(e,a);b[7]!==f?(e={onVisible:f},b[7]=f,b[8]=e):e=b[8];a=c("useVisibilityObserver")(e);b[9]===Symbol["for"]("react.memo_cache_sentinel")?(f="x1n2onr6 xh8yej3 x1eb86dx",b[9]=f):f=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(e="xuk3077 x1eb86dx x78zum5 xdt5ytf xm7lytj",b[10]=e):e=b[10];if(b[11]!==i||b[12]!==g){var r;b[14]!==i?(r=function(a){if(a.ctaType==="nullstate_icebreaker")return k.jsx("li",{className:"xamitd3 xsag5q8 xn6708d x1ye3gou x2b8uid",children:k.jsx(c("MWV2ThreadNullstatePill.react"),{onClick:function(){return i(void 0,a)},children:a.title})},(j||(j=d("I64"))).to_string(a.ctaId));else return null},b[14]=i,b[15]=r):r=b[15];r=g.map(r);b[11]=i;b[12]=g;b[13]=r}else r=b[13];b[16]!==r?(g=k.jsx("ul",{className:e,children:r}),b[16]=r,b[17]=g):g=b[17];b[18]!==a||b[19]!==g?(e=k.jsx("div",{className:f,ref:a,children:g}),b[18]=a,b[19]=g,b[20]=e):e=b[20];return e}function o(a){return a.ctaIdentifier}function a(a){var b=m(8),e=c("useStable")(p),g=(h||(h=c("useReStore")))(),i;b[0]!==g.tables.threads||b[1]!==a.threadKey?(i=function(){return d("ReQL").fromTableAscending(g.tables.threads,["lastActivityTimestampMs"]).getKeyRange(a.threadKey)},b[0]=g.tables.threads,b[1]=a.threadKey,b[2]=i):i=b[2];var l;b[3]!==g||b[4]!==a.threadKey?(l=[g,a.threadKey],b[3]=g,b[4]=a.threadKey,b[5]=l):l=b[5];i=d("ReQLSuspense").useFirst(i,l,f.id+":127");if(i==null)return null;if(a.nullstateCtas.length===0||e-(j||(j=d("I64"))).to_int32(i.lastActivityTimestampMs)<216e5)return null;b[6]!==a?(l=k.jsx(n,babelHelpers["extends"]({},a)),b[6]=a,b[7]=l):l=b[7];return l}function p(){return d("ServerTime").getMillis()}g["default"]=a}),98);
__d("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBanner_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"3bJogu"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionThemesThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionThemesThreadViewBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"3bJogu")'}],storageKey:null}],storageKey:null}],type:"ViewerEligibleQuickPromotionsConnection",abstractKey:null};e.exports=a}),null);
__d("MWQuickPromotionThreadViewBanner.react",["CometQuickPromotionLoggerContext.react","CometRelay","MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql","react","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var e=j(6);a=a.eligiblePromotions;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql"),a);a=a==null?void 0:(a=a.nodes[0])==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={context_surface_id:8783,context_trigger:"messenger_thread_open"},e[0]=f):f=e[0];f=c("useQuickPromotionFalcoEvent")(f);if(a==null)return null;var g;e[1]!==a?(g=k.jsx(d("CometRelay").MatchContainer,{match:a}),e[1]=a,e[2]=g):g=e[2];e[3]!==f||e[4]!==g?(a=k.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:f,children:g}),e[3]=f,e[4]=g,e[5]=a):a=e[5];return a}g["default"]=a}),98);
__d("MWQuickPromotionThreadViewBannerContainerQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"community_id"},{defaultValue:null,kind:"LocalArgument",name:"fb_group_id"},{defaultValue:null,kind:"LocalArgument",name:"thread_id"},{defaultValue:null,kind:"LocalArgument",name:"trigger"}],b=[{kind:"Literal",name:"surface_nux_id",value:10999},{kind:"Variable",name:"trigger",variableName:"trigger"},{fields:[{fields:[{kind:"Variable",name:"community_id",variableName:"community_id"},{kind:"Variable",name:"fb_group_id",variableName:"fb_group_id"},{kind:"Variable",name:"thread_id",variableName:"thread_id"}],kind:"ObjectValue",name:"community_messaging_context"}],kind:"ObjectValue",name:"trigger_context_v2"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWQuickPromotionThreadViewBanner_eligiblePromotions"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"3bJogu"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionThemesThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionThemesThreadViewBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"3bJogu")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"25202797479365985",metadata:{},name:"MWQuickPromotionThreadViewBannerContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWQuickPromotionThreadViewBannerContainer.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","I64","MWCMGetValidId","MWLSThreadDisplayContext","MWQuickPromotionThreadViewBanner.react","MWQuickPromotionThreadViewBannerContainerQuery.graphql","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l="CHAT_TAB_OPEN",m="MESSENGER_THREAD_OPEN";function n(a){switch(a){case"ChatTab":return l;default:return m}}function o(a){var e=a.communityId,f=a.fbGroupId;a=a.threadId;var g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();g=n(g);e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWQuickPromotionThreadViewBannerContainerQuery.graphql"),{community_id:e!=null?(j||(j=d("I64"))).to_string(e):null,fb_group_id:d("MWCMGetValidId").MWCMHasValidFbGroupId(f)?(j||(j=d("I64"))).to_string(f):null,thread_id:(j||(j=d("I64"))).to_string(a),trigger:g});a=e==null?void 0:(f=e.viewer)==null?void 0:f.eligible_promotions;return a==null?null:k.jsx(c("MWQuickPromotionThreadViewBanner.react"),{eligiblePromotions:a})}o.displayName=o.name+" [from "+f.id+"]";function a(a){return k.jsx(c("CometErrorBoundary.react"),{fallback:c("emptyFunction"),children:k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(o,babelHelpers["extends"]({},a))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadNullstateGreetingAndInstruction.react",["fbt","MWPreloadedText","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.c;function a(a){var b=l(13),d=a.nullstate;a=a.nullstateCtas;d=d.welcomeText;var e=k(c("MWPreloadedText")),f,g;b[0]!==d||b[1]!==a?(g=h._("__JHASH__zLWQrS74qZX__JHASH__"),f=d!==g.toString()&&a.length>0,b[0]=d,b[1]=a,b[2]=f,b[3]=g):(f=b[2],g=b[3]);a=f;if(e.text!=null||!a&&d==null)return null;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f="xurb0ha x1sxyh0",b[4]=f):f=b[4];b[5]!==d?(e=d!=null&&j.jsx("div",{className:"x1hhzuzn",children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:d})}),b[5]=d,b[6]=e):e=b[6];b[7]!==a||b[8]!==g?(d=a&&j.jsx("div",{className:"x1hhzuzn",children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:g})}),b[7]=a,b[8]=g,b[9]=d):d=b[9];b[10]!==e||b[11]!==d?(a=j.jsxs("div",{className:f,children:[e,d]}),b[10]=e,b[11]=d,b[12]=a):a=b[12];return a}g["default"]=a}),226);
__d("MWThreadNullstatePrivacyText.react",["fbt","I64","JSResourceForInteraction","LSIntEnum","LSNullstateCTAType","MWPreloadedText","MWXLink.react","MWXText.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","gkx","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;var m=b.useContext,n=b.c;function a(a){var b=n(22),e=a.nullstate,f=a.threadKey;a=a.threadTitle;var g=m(c("MWPreloadedText")),i=e.privacyText,o=e.privacyTextCtaTitle,p=e.privacyTextNonWelcomeScreen,q;b[0]!==a?(q=h._("__JHASH__pMA_7iE0GY1__JHASH__",[h._param("name",a),h._param("= public info link",l.jsx(c("MWXLink.react"),{color_DEPRECATED:"primary",href:"https://www.facebook.com/help/messenger-app/719578818758231",role:"link",target:"_blank",children:l.jsx(c("MWXText.react"),{type:"body4",children:h._("__JHASH__WAqQCKR95Tr__JHASH__")})}))]),b[0]=a,b[1]=q):q=b[1];a=q;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(q=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWThreadNullstatePrivacyText.react"),b[2]=q):q=b[2];q=c("useMWXLazyDialog")(q);var r=q[0];b[3]!==r||b[4]!==f?(q=function(){r({entryPoint:"NULL_STATE",threadKey:f},function(){}),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"NULL_STATE",page_id:(j||(j=d("I64"))).to_string(f)}})},b[3]=r,b[4]=f,b[5]=q):q=b[5];var s;b[6]!==o?(s=o!=null?l.jsx(c("MWXText.react"),{color:"blueLink",type:"body4",children:o}):null,b[6]=o,b[7]=s):s=b[7];b[8]!==q||b[9]!==s?(o=l.jsx(c("MWXLink.react"),{color_DEPRECATED:"primary",onClick:q,role:"link",target:"_blank",children:s}),b[8]=q,b[9]=s,b[10]=o):o=b[10];q=o;s=g.text!=null&&!!p;b[11]!==s||b[12]!==i||b[13]!==p?(o=s||i!=null?l.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:s?p:i}):null,b[11]=s,b[12]=i,b[13]=p,b[14]=o):o=b[14];g=o;b[15]!==e.privacyTextCtaType||b[16]!==g||b[17]!==q||b[18]!==a?(s=c("gkx")("24144")&&(j||(j=d("I64"))).equal(e.privacyTextCtaType,(k||(k=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").PRIVACY_DISCLOSURE))?l.jsxs(l.Fragment,{children:[g," ",q]}):a,b[15]=e.privacyTextCtaType,b[16]=g,b[17]=q,b[18]=a,b[19]=s):s=b[19];b[20]!==s?(i=l.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:s}),b[20]=s,b[21]=i):i=b[21];return i}g["default"]=a}),226);
__d("MWV2ThreadNullstateCTAs.react",["I64","Int64Hooks","LSIntEnum","LSNullstateCTAType","LsBotComposerQuickReplyDisplayedFalcoEvent","MWV2ThreadNullstatePill.react","react","stylex","useMWV2SendIcebreakerMessage","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));b=i;var m=b.useState,n=b.c,o={cta_list_item:{alignSelf:"xamitd3",paddingBottom:"xsag5q8",paddingEnd:"xn6708d",paddingStart:"x1ye3gou",textAlign:"x2b8uid",$$css:!0},cta_list_item_center:{alignSelf:"xamitd3",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",$$css:!0}};function a(a){var b=n(20),e=a.initiatingSource,f=a.lsSource,g=a.nullstate,i=a.nullstateCtas,q=a.threadKey;a=a.threadType;var r=c("useMWV2SendIcebreakerMessage")(q,a,f,e);b[0]!==i?(a=i.map(p).filter(Boolean),b[0]=i,b[1]=a):a=b[1];var s=a;f=m(!1);var t=f[0],u=f[1];b[2]!==t||b[3]!==s||b[4]!==q?(e=function(){if(!t&&s.length>0){u(!0);var a=(j||(j=d("I64"))).to_string(q);c("LsBotComposerQuickReplyDisplayedFalcoEvent").log(function(){return{displayed_quick_reply:{item_ids:s,num_items:String(s.length),type:60},page:{id:a}}})}},a=[t,s,q],b[2]=t,b[3]=s,b[4]=q,b[5]=e,b[6]=a):(e=b[5],a=b[6]);f=d("Int64Hooks").useCallbackInt64(e,a);b[7]!==f?(e={onVisible:f},b[7]=f,b[8]=e):e=b[8];a=c("useVisibilityObserver")(e);b[9]===Symbol["for"]("react.memo_cache_sentinel")?(f="xuk3077 x78zum5 xdt5ytf xl56j7k xdj266r x11i5rnm xat24cr x1mh8g0r",b[9]=f):f=b[9];if(b[10]!==g||b[11]!==r||b[12]!==i){b[14]!==g||b[15]!==r?(e=function(a){var b=(j||(j=d("I64"))).equal(g.ctaType,(k||(k=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").GET_STARTED))&&g.ctaId!=null&&(j||(j=d("I64"))).equal(g.ctaId,a.ctaId);return l.jsx("li",{className:(h||(h=c("stylex")))(o.cta_list_item,b?o.cta_list_item_center:!1),children:l.jsx(c("MWV2ThreadNullstatePill.react"),{onClick:function(){return r(g,a)},children:a.title})},(j||(j=d("I64"))).to_string(a.ctaId))},b[14]=g,b[15]=r,b[16]=e):e=b[16];e=i.map(e);b[10]=g;b[11]=r;b[12]=i;b[13]=e}else e=b[13];b[17]!==a||b[18]!==e?(i=l.jsx("ul",{className:f,ref:a,children:e}),b[17]=a,b[18]=e,b[19]=i):i=b[19];return i}function p(a){return a.ctaIdentifier}g["default"]=a}),98);
__d("MWV2ThreadNullstate.react",["Int64Hooks","LSThreadTitle.react","MWPreloadedText","MWThreadNullstateGreetingAndInstruction.react","MWThreadNullstatePrivacyText.react","MWV2ThreadNullstateCTAs.react","MWXScrollableArea.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.c,l={privacy_text_offset:{backgroundColor:"x1eb86dx",paddingBottom:"xg8j3zb",paddingTop:"x1iorvi4",$$css:!0}};function a(a){var b=k(23),d=a.initiatingSource,e=a.lsSource,f=a.nullstate,g=a.nullstateCtas,h=a.threadKey,n=a.threadName;a=a.threadType;e=e===void 0?"unknown":e;var o=j(c("MWPreloadedText")),p=f.privacyText,q;b[0]!==f||b[1]!==g?(q=i.jsx(c("MWThreadNullstateGreetingAndInstruction.react"),{nullstate:f,nullstateCtas:g}),b[0]=f,b[1]=g,b[2]=q):q=b[2];var r;b[3]!==o.text||b[4]!==d||b[5]!==e||b[6]!==f||b[7]!==g||b[8]!==h||b[9]!==a?(r=o.text!=null?null:i.jsx(c("MWV2ThreadNullstateCTAs.react"),{initiatingSource:d,lsSource:e,nullstate:f,nullstateCtas:g,threadKey:h,threadType:a}),b[3]=o.text,b[4]=d,b[5]=e,b[6]=f,b[7]=g,b[8]=h,b[9]=a,b[10]=r):r=b[10];b[11]!==p||b[12]!==h||b[13]!==n||b[14]!==a||b[15]!==f?(o=p!=null?i.jsx("div",{className:"xx6bls6 xurb0ha x1sxyh0",children:i.jsx(c("MWThreadNullstatePrivacyText.react"),{nullstate:f,threadKey:h,threadTitle:i.jsx(c("LSThreadTitle.react"),{thread:{threadKey:h,threadName:n,threadType:a},wrapOutput:m})})}):null,b[11]=p,b[12]=h,b[13]=n,b[14]=a,b[15]=f,b[16]=o):o=b[16];b[17]!==q||b[18]!==r||b[19]!==o?(d=i.jsxs("div",{children:[q,r,o]}),b[17]=q,b[18]=r,b[19]=o,b[20]=d):d=b[20];e=d;b[21]!==e?(g=i.jsx(c("MWXScrollableArea.react"),{xstyle:l.privacy_text_offset,children:e}),b[21]=e,b[22]=g):g=b[22];return g}function m(a,b){return b}e=i.memo(a,d("Int64Hooks").mostlyShallowEqual);g["default"]=e}),98);
__d("MWOpenThreadDetail.react",["CometDebounce","CometErrorBoundary.react","CometPlaceholder.react","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSFetchAdditionalThreadDataStoredProcedure","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMAutoJoinNotifNUX.react","MWCMThreadTypes.react","MWChatUnsendNUX.react","MWChatXACSunsettingBanner.react","MWContextBanner.react","MWLSThreadDisplayContext","MWMessageList","MWPActor.react","MWPMessageListColumn.react","MWPQuickReplies.react","MWPersistentIcebreakers","MWPreloadableQueries","MWQuickPromotionThreadViewBannerContainer.react","MWV2ThreadNullstate.react","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","cr:1598","cr:1600","cr:1690","cr:4723","cr:488","cr:5483","cr:7233","cr:9056","emptyFunction","gkx","logMessengerWebFalcoEvent","promiseDone","react","useCommunityFolder","useIsAdmodOnboardingEnabledForThread.react","useLSMessagingInitiatingSource","useMWReportThreadOpenOnMountAndFocusWithLogger","usePageletMetadata","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=(l||(l=d("react"))).c,n=l,o=c("CometDebounce")(c("logMessengerWebFalcoEvent"));function p(a){var b=m(11),e=(k||(k=c("useReStore")))(),g,h;b[0]!==e||b[1]!==a?(g=function(){return d("MWPreloadableQueries").threadNullStateQuery(e,a)},h=[e,a],b[0]=e,b[1]=a,b[2]=g,b[3]=h):(g=b[2],h=b[3]);g=d("ReQLSuspense").useFirst(g,h,f.id+":89");var i;b[4]!==e||b[5]!==a?(h=function(){return d("MWPreloadableQueries").threadNullStateCtaQuery(e,a)},i=[e,a],b[4]=e,b[5]=a,b[6]=h,b[7]=i):(h=b[6],i=b[7]);h=d("ReQLSuspense").useArray(h,i,f.id+":96");b[8]!==g||b[9]!==h?(i=[g,h],b[8]=g,b[9]=h,b[10]=i):i=b[10];return i}function q(a,e){var f=m(10),g=(k||(k=c("useReStore")))(),j;f[0]!==g.tables.threads||f[1]!==g.tables.messages||f[2]!==g.tables.reactions||f[3]!==a||f[4]!==e?(j=function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var c=(yield (h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableDescending(g.tables.threads).getKeyRange(a)),d("ReQL").firstAsync(d("ReQL").fromTableDescending(g.tables.messages).getKeyRange(a)),d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(g.tables.reactions).getKeyRange(a).take(20))])),f=c[0],j=c[1];c=c[2];if(j==null||f==null)return;c=c.reduce(function(a,b){return(i||(i=d("I64"))).max(a,(a=b.reactionCreationTimestampMs)!=null?a:(i||(i=d("I64"))).zero)},(i||(i=d("I64"))).zero);j=i.max(j.timestampMs,c);c=i.compare(j,f.lastActivityTimestampMs)>-1;o({threadKey:f.threadKey,threadType:f.threadType},"thread_and_message_list_last_activity_mismatch",e,{hasMissingMessage:!c,threadLastActivityTimeMs:i.to_string(f.lastActivityTimestampMs),threadLastMessageTimeMs:i.to_string(j)})})())},f[0]=g.tables.threads,f[1]=g.tables.messages,f[2]=g.tables.reactions,f[3]=a,f[4]=e,f[5]=j):j=f[5];var l;f[6]!==g||f[7]!==e||f[8]!==a?(l=[g,e,a],f[6]=g,f[7]=e,f[8]=a,f[9]=l):l=f[9];d("Int64Hooks").useEffectInt64(j,l)}function a(a){var e=m(121),g=a.entryPoint,h=a.messageListRef,l=a.thread,o=(k||(k=c("useReStore")))();a=p(l.threadKey);var r=a[0],s=a[1];e[0]!==o.tables.cm_channel_list||e[1]!==l.threadKey?(a=function(){return d("ReQL").fromTableAscending(o.tables.cm_channel_list.index("threadIdCommunityId"),["channelPrivacy"]).getKeyRange(l.threadKey)},e[0]=o.tables.cm_channel_list,e[1]=l.threadKey,e[2]=a):a=e[2];var t;e[3]!==o||e[4]!==l.threadKey?(t=[o,l.threadKey],e[3]=o,e[4]=l.threadKey,e[5]=t):t=e[5];a=d("ReQLSuspense").useFirst(a,t,f.id+":188");t=(t=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(o.tables.threads,["lastActivityTimestampMs"]).getKeyRange(l.threadKey).map(function(a){a=a.lastActivityTimestampMs;return!(i||(i=d("I64"))).equal(a,i.zero)})},[o,l.threadKey],f.id+":197"))!=null?t:!1;var u;e[6]!==l.threadType?(u=(i||(i=d("I64"))).to_string(l.threadType),e[6]=l.threadType,e[7]=u):u=e[7];c("usePageletMetadata")("threadType",u);e[8]===Symbol["for"]("react.memo_cache_sentinel")?(u=d("MWPActor.react").isAPPlus(),e[8]=u):u=e[8];u=u;var v;e[9]!==l.threadType?(v=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(l.threadType),e[9]=l.threadType,e[10]=v):v=e[10];v=v;var w=c("useLSMessagingInitiatingSource")(),x;e[11]!==l?(x=b("cr:9056")!=null?n.jsx(b("cr:9056"),{thread:l}):null,e[11]=l,e[12]=x):x=e[12];x=x;var y;e[13]!==l.threadType?(y=d("MWCMThreadTypes.react").isJoinedCMThread(l.threadType),e[13]=l.threadType,e[14]=y):y=e[14];y=y;var z;e[15]!==l||e[16]!==y?(z=d("LSThreadBitOffset").has(167,l)&&y,e[15]=l,e[16]=y,e[17]=z):z=e[17];var A=z;e[18]!==l?(z=d("LSThreadBitOffset").has(193,l),e[18]=l,e[19]=z):z=e[19];z=z;var B,C;e[20]!==A||e[21]!==o||e[22]!==l.threadKey?(B=function(){A&&c("promiseDone")(o.runInTransaction(function(a){return c("LSFetchAdditionalThreadDataStoredProcedure")(c("LSFactory")(a),{threadKey:l.threadKey})},"readwrite",void 0,void 0,f.id+":232"))},C=[o,l.threadKey,A],e[20]=A,e[21]=o,e[22]=l.threadKey,e[23]=B,e[24]=C):(B=e[23],C=e[24]);d("Int64Hooks").useEffectInt64(B,C);e[25]!==l.threadKey||e[26]!==l.threadType||e[27]!==w||e[28]!==s?(B=function(){return n.jsxs(n.Fragment,{children:[n.jsx(c("MWPQuickReplies.react"),{threadKey:l.threadKey}),n.jsx(c("MWPersistentIcebreakers"),{initiatingSource:w,lsSource:"inboxInThread",nullstateCtas:s,threadKey:l.threadKey,threadType:l.threadType})]})},C=[l.threadKey,l.threadType,s,w],e[25]=l.threadKey,e[26]=l.threadType,e[27]=w,e[28]=s,e[29]=B,e[30]=C):(B=e[29],C=e[30]);B=d("Int64Hooks").useCallbackInt64(B,C);var D;e[31]!==l.threadKey||e[32]!==l.threadType?(C=function(){return n.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrowJustified,{children:[n.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),n.jsx(c("MWContextBanner.react"),{threadKey:l.threadKey,threadType:l.threadType}),n.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10})]})},D=[l.threadKey,l.threadType],e[31]=l.threadKey,e[32]=l.threadType,e[33]=C,e[34]=D):(C=e[33],D=e[34]);C=d("Int64Hooks").useCallbackInt64(C,D);q(l.threadKey,g);D=c("useCommunityFolder")(l);var E=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),F=d("useIsAdmodOnboardingEnabledForThread.react").useIsAdmodOnboardingEnabledForThread(l.threadKey);E=E!=null&&E==="ChatTab";var G;e[35]!==(a==null?void 0:a.channelPrivacy)?(G=(a==null?void 0:a.channelPrivacy)!=null&&(i||(i=d("I64"))).equal(a==null?void 0:a.channelPrivacy,(j||(j=d("LSIntEnum"))).ofNumber(2)),e[35]=a==null?void 0:a.channelPrivacy,e[36]=G):G=e[36];a=G;G=c("gkx")("23433");var H=c("gkx")("23434"),I;e[37]!==l.authorityLevel?(I=(i||(i=d("I64"))).ge(l.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),e[37]=l.authorityLevel,e[38]=I):I=e[38];I=I;var J;e[39]!==E||e[40]!==l?(J=b("cr:4723")!=null&&!E?n.jsx(b("cr:4723"),{thread:l}):null,e[39]=E,e[40]=l,e[41]=J):J=e[41];E=J;e[42]!==l?(J=b("cr:1690")!=null?n.jsx(b("cr:1690"),{thread:l}):null,e[42]=l,e[43]=J):J=e[43];J=J;var K;e[44]!==z?(K=c("MWChatXACSunsettingBanner.react")!=null&&z?n.jsx(c("MWChatXACSunsettingBanner.react"),{}):null,e[44]=z,e[45]=K):K=e[45];z=K;e[46]!==y||e[47]!==a||e[48]!==l.parentThreadKey?(K=b("cr:5483")!=null&&y&&!a?n.jsx(c("CometPlaceholder.react"),{fallback:null,children:n.jsx(b("cr:5483"),{folderId:l.parentThreadKey})}):null,e[46]=y,e[47]=a,e[48]=l.parentThreadKey,e[49]=K):K=e[49];K=K;e[50]!==y||e[51]!==a||e[52]!==l.parentThreadKey||e[53]!==l.threadKey?(G=b("cr:1598")!=null&&y&&a&&G?n.jsx(b("cr:1598"),{groupId:l.parentThreadKey,threadId:l.threadKey}):null,e[50]=y,e[51]=a,e[52]=l.parentThreadKey,e[53]=l.threadKey,e[54]=G):G=e[54];G=G;e[55]!==y||e[56]!==a||e[57]!==l.parentThreadKey||e[58]!==l.threadKey?(H=b("cr:488")!=null&&y&&a&&H?n.jsx(b("cr:488"),{groupId:l.parentThreadKey,threadId:l.threadKey}):null,e[55]=y,e[56]=a,e[57]=l.parentThreadKey,e[58]=l.threadKey,e[59]=H):H=e[59];y=H;e[60]!==I||e[61]!==(D==null?void 0:D.folderId)||e[62]!==(D==null?void 0:D.fbGroupId)||e[63]!==l.threadKey?(a=I?n.jsx(c("MWQuickPromotionThreadViewBannerContainer.react"),{communityId:D==null?void 0:D.folderId,fbGroupId:D==null?void 0:D.fbGroupId,threadId:l.threadKey}):null,e[60]=I,e[61]=D==null?void 0:D.folderId,e[62]=D==null?void 0:D.fbGroupId,e[63]=l.threadKey,e[64]=a):a=e[64];H=a;e[65]!==F||e[66]!==l.threadKey?(I=b("cr:7233")!=null&&F?n.jsx(c("CometErrorBoundary.react"),{fallback:c("emptyFunction"),children:n.jsx(c("CometPlaceholder.react"),{fallback:null,children:n.jsx(b("cr:7233"),{threadKey:l.threadKey})})}):null,e[65]=F,e[66]=l.threadKey,e[67]=I):I=e[67];D=I;a=c("useMWReportThreadOpenOnMountAndFocusWithLogger")(l);if(r!=null&&!t){e[68]!==l?(F=n.jsx(c("MWCMAutoJoinNotifNUX.react"),{thread:l}),e[68]=l,e[69]=F):F=e[69];e[70]!==l.threadKey||e[71]!==l.threadType?(I=n.jsx(c("MWContextBanner.react"),{threadKey:l.threadKey,threadType:l.threadType}),e[70]=l.threadKey,e[71]=l.threadType,e[72]=I):I=e[72];e[73]===Symbol["for"]("react.memo_cache_sentinel")?(t=n.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:null}),e[73]=t):t=e[73];var L;e[74]!==w||e[75]!==r||e[76]!==s||e[77]!==l.threadKey||e[78]!==l.threadName||e[79]!==l.threadType?(L=n.jsx(c("MWV2ThreadNullstate.react"),{initiatingSource:w,lsSource:"inboxInThread",nullstate:r,nullstateCtas:s,threadKey:l.threadKey,threadName:l.threadName,threadType:l.threadType}),e[74]=w,e[75]=r,e[76]=s,e[77]=l.threadKey,e[78]=l.threadName,e[79]=l.threadType,e[80]=L):L=e[80];e[81]!==a||e[82]!==H||e[83]!==D||e[84]!==x||e[85]!==F||e[86]!==J||e[87]!==K||e[88]!==G||e[89]!==y||e[90]!==z||e[91]!==E||e[92]!==I||e[93]!==L?(r=n.jsxs(n.Fragment,{children:[a,H,D,x,F,J,K,G,y,z,E,I,t,L]}),e[81]=a,e[82]=H,e[83]=D,e[84]=x,e[85]=F,e[86]=J,e[87]=K,e[88]=G,e[89]=y,e[90]=z,e[91]=E,e[92]=I,e[93]=L,e[94]=r):r=e[94];return r}e[95]!==l?(t=n.jsx(c("MWCMAutoJoinNotifNUX.react"),{thread:l}),e[95]=l,e[96]=t):t=e[96];e[97]===Symbol["for"]("react.memo_cache_sentinel")?(F=n.jsx(c("MWChatUnsendNUX.react"),{senderUnsendNUXEnabled:!0}),e[97]=F):F=e[97];e[98]!==g||e[99]!==h||e[100]!==B||e[101]!==C||e[102]!==l?(I=n.jsx(c("MWMessageList"),{entryPoint:g,ref:h,renderFooter:B,renderHeader:C,thread:l}),e[98]=g,e[99]=h,e[100]=B,e[101]=C,e[102]=l,e[103]=I):I=e[103];e[104]!==v||e[105]!==l?(L=u&&v&&b("cr:1600")!=null?n.jsx(b("cr:1600"),{thread:l}):null,e[104]=v,e[105]=l,e[106]=L):L=e[106];e[107]!==a||e[108]!==H||e[109]!==D||e[110]!==x||e[111]!==t||e[112]!==J||e[113]!==z||e[114]!==K||e[115]!==G||e[116]!==y||e[117]!==E||e[118]!==I||e[119]!==L?(r=n.jsxs(n.Fragment,{children:[a,H,D,x,t,J,z,K,G,y,F,E,I,L]}),e[107]=a,e[108]=H,e[109]=D,e[110]=x,e[111]=t,e[112]=J,e[113]=z,e[114]=K,e[115]=G,e[116]=y,e[117]=E,e[118]=I,e[119]=L,e[120]=r):r=e[120];return r}g["default"]=a}),98);
__d("MWOpenAndSecureThreadView.react",["I64","LSIntEnum","LSMessagingThreadTypeUtil","MWLSDatabaseLazySync","MWOpenThreadDetail.react","MWPAudioPlaybackThreadContext.react","MWPThreadGradientBackground.react","MessengerWebUXLogger","cr:2441","cr:9772","promiseDone","react","useGroupsCometChatsEngagementImpressionLogger","useIsChatPreviewsEnabled","useIsReactionsV2Enabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;f=e.memo;var m=e.useEffect,n=e.c;function a(a){var e=n(33),f=a.entryPoint,g=a.isMinimizedChatTab,k=a.messageListRef;a=a.thread;g=g===void 0?!1:g;var o=(h||(h=c("useReStore")))(),p=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(a.threadKey),q;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(q={eventName:"thread_view_impression"},e[0]=q):q=e[0];q=c("MessengerWebUXLogger").useImpressionLoggerRef(q);var r;e[1]!==f?(r=f?{entry_point:f}:void 0,e[1]=f,e[2]=r):r=e[2];var s;e[3]!==a.parentThreadKey?(s=(i||(i=d("I64"))).to_string(a.parentThreadKey),e[3]=a.parentThreadKey,e[4]=s):s=e[4];var t;e[5]!==a.threadKey?(t=(i||(i=d("I64"))).to_string(a.threadKey),e[5]=a.threadKey,e[6]=t):t=e[6];var u;e[7]!==r||e[8]!==s||e[9]!==t?(u={client_extras:r,community_id:s,event:"chat_preview_open",surface:"chat_preview",thread_id:t},e[7]=r,e[8]=s,e[9]=t,e[10]=u):u=e[10];r=c("useGroupsCometChatsEngagementImpressionLogger")(u);e[11]!==p||e[12]!==o?(s=function(){p&&c("promiseDone")(d("MWLSDatabaseLazySync").sync(o,(j||(j=d("LSIntEnum"))).ofNumber(118)))},t=[o,p],e[11]=p,e[12]=o,e[13]=s,e[14]=t):(s=e[13],t=e[14]);m(s,t);e[15]!==a.threadType?(u=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),e[15]=a.threadType,e[16]=u):u=e[16];s=u;t=d("useIsChatPreviewsEnabled").useIsChatPreviewsEnabled(a.threadKey);e[17]===Symbol["for"]("react.memo_cache_sentinel")?(u="x78zum5 xdt5ytf x1iyjqo2",e[17]=u):u=e[17];t=t?r:q;e[18]!==s||e[19]!==f||e[20]!==k||e[21]!==a?(r=b("cr:9772")==null||!s?l.jsx(c("MWOpenThreadDetail.react"),{entryPoint:f,messageListRef:k,thread:a}):l.jsx(b("cr:9772"),{entryPoint:f,messageListRef:k,thread:a}),e[18]=s,e[19]=f,e[20]=k,e[21]=a,e[22]=r):r=e[22];e[23]!==g||e[24]!==a.threadKey?(q=b("cr:2441")&&l.jsx(b("cr:2441"),{isMinimizedChatTab:g,threadKey:a.threadKey}),e[23]=g,e[24]=a.threadKey,e[25]=q):q=e[25];e[26]!==a.threadKey||e[27]!==r||e[28]!==q?(s=l.jsx(d("MWPThreadGradientBackground.react").MWPThreadGradientBackground,{children:l.jsxs(d("MWPAudioPlaybackThreadContext.react").MWPAudioPlaybackThreadContextProvider,{threadKey:a.threadKey,children:[r,q]})}),e[26]=a.threadKey,e[27]=r,e[28]=q,e[29]=s):s=e[29];e[30]!==t||e[31]!==s?(f=l.jsx("div",{className:u,ref:t,children:s}),e[30]=t,e[31]=s,e[32]=f):f=e[32];return f}e=f(a);g["default"]=e}),98);
__d("MWPNewMessageAnnouncementForScreenReaders.react",["fbt","CometAccessibilityAnnouncementForDynamicContent.react","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","MWPActor.react","MWPForwardedContent","Promise","ReQL","ReQLSuspense","ServerTime","clearTimeout","cr:2472","getMWPAttachmentMessageAnnouncement","mwpMessageHasAttachment","promiseDone","react","setTimeout","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=k||(k=d("react"));e=k;e.useCallback;var o=e.useEffect,p=e.useRef,q=e.useState,r=e.c;function s(a){var b=r(2),c=a.message;a=a.outgoing;c=d("MWPForwardedContent").useTitle(c,a);b[0]!==c?(a=h._("__JHASH__Q9FyIHvWIxM__JHASH__",[h._param("forward title",c)]),b[0]=c,b[1]=a):a=b[1];return a}function t(a){var b=r(11),e=a.message,f=a.participant;a=a.sender;var g=d("MWPActor.react").useActor(),i;b[0]!==a.id||b[1]!==g?(i=(l||(l=d("I64"))).equal(a.id,g),b[0]=a.id,b[1]=g,b[2]=i):i=b[2];g=i;i=e.replySourceTypeV2!=null&&(l||(l=d("I64"))).equal(e.replySourceTypeV2,(m||(m=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));f=(f=(f=f==null?void 0:f.nickname)!=null?f:a.firstName)!=null?f:a.name;if(i){b[3]!==e||b[4]!==g?(a=n.jsx(s,{message:e,outgoing:g}),b[3]=e,b[4]=g,b[5]=a):a=b[5];return a}i=e.replySnippet;if(i!=null){b[6]!==i?(a=h._("__JHASH__LPdQYmdaw5d__JHASH__",[h._param("reply snippet",i)]),b[6]=i,b[7]=a):a=b[7];return a}else if(g){b[8]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._("__JHASH__1b0bN0cduWX__JHASH__"),b[8]=e):e=b[8];return e}else{b[9]!==f?(i=h._("__JHASH__3ymXOGN3z8-__JHASH__",[h._param("name of sender",f)]),b[9]=f,b[10]=i):i=b[10];return i}}function u(a){var b=r(10);a=a.message;a=a;var e=(j||(j=c("useReStore")))(),g=a.messageId,h=a.threadKey;b[0]!==e.tables.attachments||b[1]!==h||b[2]!==g?(a=function(){return d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(h,g)},b[0]=e.tables.attachments,b[1]=h,b[2]=g,b[3]=a):a=b[3];var i;b[4]!==e||b[5]!==g||b[6]!==h?(i=[e,g,h],b[4]=e,b[5]=g,b[6]=h,b[7]=i):i=b[7];a=d("ReQLSuspense").useArray(a,i,f.id+":120");b[8]!==a?(i=c("getMWPAttachmentMessageAnnouncement")(a),b[8]=a,b[9]=i):i=b[9];return i}function v(a){var e=r(17),f=a.message,g=a.participant,h=a.sender;a=a.threadType;var i=q(!1),j=i[0],k=i[1],l;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=function(){var a=c("setTimeout")(function(){return k(!0)},100);return function(){c("clearTimeout")(a)}},l=[],e[0]=i,e[1]=l):(i=e[0],l=e[1]);o(i,l);if(!j)return null;e[2]!==a?(i=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a),e[2]=a,e[3]=i):i=e[3];l=i;e[4]!==f.text?(j=f.text!=null&&b("cr:2472")!=null?b("cr:2472").unvault(f.text):f.text,e[4]=f.text,e[5]=j):j=e[5];a=j;e[6]!==f||e[7]!==g||e[8]!==h?(i=n.jsx(t,{message:f,participant:g,sender:h}),e[6]=f,e[7]=g,e[8]=h,e[9]=i):i=e[9];j=a!=null?a:null;e[10]!==f||e[11]!==l?(g=c("mwpMessageHasAttachment")(f)&&!l?n.jsx(u,{message:f}):null,e[10]=f,e[11]=l,e[12]=g):g=e[12];e[13]!==i||e[14]!==j||e[15]!==g?(h=n.jsxs(c("CometAccessibilityAnnouncementForDynamicContent.react"),{children:[i,j,g]}),e[13]=i,e[14]=j,e[15]=g,e[16]=h):h=e[16];return h}function w(a,e){var f=r(12),g=(j||(j=c("useReStore")))(),h=d("MWPActor.react").useActor(),k;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(k=d("ServerTime").getMillis(),f[0]=k):k=f[0];var m=p(k),n=e.threadKey;f[1]!==g.tables.messages||f[2]!==g.tables.contacts||f[3]!==g.tables.participants||f[4]!==n||f[5]!==a?(k=function(){return d("ReQL").fromTableAscending(g.tables.messages).getKeyRange(n).subscribe(function(e,f){if(f.operation!=="add")return;var h=f.value;(l||(l=d("I64"))).to_float(h.timestampMs)>m.current&&(m.current=(l||(l=d("I64"))).to_float(h.timestampMs),c("promiseDone")((i||(i=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(h.senderId)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(g.tables.participants).getKeyRange(h.threadKey,h.senderId))]),function(b){var c=b[0];b=b[1];if(c!=null)return a(h,c,b)}))})},f[1]=g.tables.messages,f[2]=g.tables.contacts,f[3]=g.tables.participants,f[4]=n,f[5]=a,f[6]=k):k=f[6];f[7]!==g||f[8]!==h||f[9]!==a||f[10]!==n?(e=[g,h,a,n],f[7]=g,f[8]=h,f[9]=a,f[10]=n,f[11]=e):e=f[11];d("Int64Hooks").useEffectInt64(k,e)}function a(a){var b=r(2);a=a.thread;var e=a.threadType,f=q(null),g=f[0],h=f[1];b[0]!==e?(f=function(a,b,f){if((l||(l=d("I64"))).equal(a.authorityLevel,(m||(m=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return h(function(){return n.jsx(v,{message:a,participant:f,sender:b,threadType:e})})},b[0]=e,b[1]=f):f=b[1];b=f;w(b,a);return g}g["default"]=a}),226);
__d("PushpinFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{children:[i.jsx("path",{d:"m6.657 1-2.64 2.639A3.191 3.191 0 0 0 1 4.481L5.52 9a3.191 3.191 0 0 0 .84-3.018L9 3.344",transform:"translate(354 143.5) translate(96.5 931.5)"}),i.jsx("path",{fillRule:"nonzero",d:"M3.854 3.096A3.687 3.687 0 0 0 .647 4.127a.5.5 0 0 0 0 .707l4.52 4.52a.5.5 0 0 0 .706 0 3.687 3.687 0 0 0 1.03-3.207l2.45-2.45-.706-.707-2.64 2.639a.5.5 0 0 0-.132.472c.182.748.04 1.53-.388 2.159L1.74 4.513a2.697 2.697 0 0 1 2.16-.388.5.5 0 0 0 .471-.132l2.64-2.64-.708-.707-2.45 2.45z",transform:"translate(354 143.5) translate(96.5 931.5)"}),i.jsx("path",{d:"m105.392 935.194-2.586-2.586a1.045 1.045 0 0 1 0-1.478l.555-.553a.26.26 0 0 1 .369 0l3.693 3.693a.26.26 0 0 1 0 .37l-.553.554a1.045 1.045 0 0 1-1.478 0",transform:"translate(354 143.5)"}),i.jsx("path",{fillRule:"nonzero",d:"m105.038 935.547-2.585-2.585a1.545 1.545 0 0 1 0-2.186l.553-.552a.76.76 0 0 1 1.077 0l3.693 3.692a.76.76 0 0 1 0 1.077l-.553.554a1.545 1.545 0 0 1-2.185 0zm-1.878-4.063a.545.545 0 0 0 0 .77l2.585 2.586a.545.545 0 0 0 .77 0l.386-.385-3.356-3.356-.385.385z",transform:"translate(354 143.5)"}),i.jsx("path",{d:"M96.147 941.854a.5.5 0 0 1 0-.708l2.276-2.276a.25.25 0 0 1 .353 0l.354.353a.25.25 0 0 1 0 .354l-2.276 2.277a.5.5 0 0 1-.707 0",transform:"translate(354 143.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("XPlatWebAudioPlaybackContextProvider.react",["cr:6234","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){a=a.children;return a}e=(c=b("cr:6234")==null?void 0:b("cr:6234").MWPAudioPlaybackContextProvider)!=null?c:a;f=e;g["default"]=f}),98);
__d("useC4gEngagementImpressionLogging",["GroupsCometChatsEngagementLogger","I64","Int64Hooks","MWV2IsTabFocusedContext.react","mwCMIsAnyCMThread","mwCMIsCMSubthread","react","useC4GEngagementSurface"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).c;function a(a){var b=j(7),e=a.isSubthreadDisplayed,f=a.threadKey,g=a.threadType,h=e===void 0?!1:e,k=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),l=c("useC4GEngagementSurface")();b[0]!==k||b[1]!==g||b[2]!==h||b[3]!==l||b[4]!==f?(a=function(){k&&(c("mwCMIsAnyCMThread")(g)||c("mwCMIsCMSubthread")(g)&&h)&&d("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:c("mwCMIsCMSubthread")(g)?{is_subthread:"1"}:void 0,event:"thread_focus",source:"thread_view",surface:l,thread_id:(i||(i=d("I64"))).to_string(f)})},e=[f,g,k,l,h],b[0]=k,b[1]=g,b[2]=h,b[3]=l,b[4]=f,b[5]=a,b[6]=e):(a=b[5],e=b[6]);d("Int64Hooks").useEffectInt64(a,e)}g["default"]=a}),98);
__d("useCheckMessageIntegrityForSecureThread",["fbt","I64","Int64Hooks","JSResourceForInteraction","MAWMessageIntegrityCheckDeferred","MetaConfig","Random","cometPushToast","cr:10710","gkx","react","useMWEntrypoint","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;e=i||d("react");e.useCallback;var k=e.c,l=(f=b("cr:10710")==null?void 0:b("cr:10710").getIntegrityCheckSampleRate())!=null?f:c("MetaConfig")._("59");function a(a,b,e){var f=k(10),g=c("useMWEntrypoint")(),i;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=c("JSResourceForInteraction")("MWInboxBugReportDialog.react").__setRef("useCheckMessageIntegrityForSecureThread"),f[0]=i):i=f[0];i=c("useMWXLazyDialog")(i);var m=i[0];f[1]!==m?(i=function(a,b){if(!c("gkx")("4852"))return;d("cometPushToast").cometPushToast({action:{label:h._("__JHASH__ZN4i-76hXIi__JHASH__"),onPress:function(c){return m({initialDescription:"Assign to @mengk. \nDetected missing messages on thread: "+(j||(j=d("I64"))).to_string(a)+" at time: "+((c=b)!=null?c:"most recent")+"\nIs there actual message missing? <PLEASE UPDATE: YES/NO>",initialProduct:"chat"})}},message:h._("__JHASH__5ZwW1dU-TAQ__JHASH__"),truncateText:!1})},f[1]=m,f[2]=i):i=f[2];var n=i,o;f[3]!==a||f[4]!==b||f[5]!==e||f[6]!==g||f[7]!==n?(i=function(c,f,h,i){if(!d("Random").coinflip(l))return;d("MAWMessageIntegrityCheckDeferred").runMessageIntegrityCheckDeferred(a,b,e,g,h,c,f,i,function(){return n(b,(c==null?void 0:c.primarySortKey)==null?null:(j||(j=d("I64"))).to_float(c==null?void 0:c.primarySortKey))})},o=[a,b,e,g,n],f[3]=a,f[4]=b,f[5]=e,f[6]=g,f[7]=n,f[8]=i,f[9]=o):(i=f[8],o=f[9]);return d("Int64Hooks").useCallbackInt64(i,o)}g["default"]=a}),226);
__d("useMAWCanThreadBeCutoverOnDemand",["LSContactBitOffset","LSMessagingThreadTypeUtil","MAWThreadCutover","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c;function a(a){var b=j(22),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.contacts||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.contacts,d("LSContactBitOffset").contactCapabilityFields).getKeyRange(a)},b[0]=e.tables.contacts,b[1]=a,b[2]=g):g=b[2];var i;b[3]!==e||b[4]!==a?(i=[e,a],b[3]=e,b[4]=a,b[5]=i):i=b[5];g=d("ReQLSuspense").useFirst(g,i,f.id+":32");b[6]!==g?(i=g!=null&&d("LSContactBitOffset").has(76,g),b[6]=g,b[7]=i):i=b[7];g=i;b[8]!==e.tables.threads||b[9]!==a?(i=function(){return d("ReQL").fromTableAscending(e.tables.threads,["threadType"]).getKeyRange(a)},b[8]=e.tables.threads,b[9]=a,b[10]=i):i=b[10];var k;b[11]!==e||b[12]!==a?(k=[e,a],b[11]=e,b[12]=a,b[13]=k):k=b[13];i=d("ReQLSuspense").useFirst(i,k,f.id+":49");b[14]!==i?(k=i?d("LSMessagingThreadTypeUtil").isOpenOneToOne(i.threadType):!1,b[14]=i,b[15]=k):k=b[15];i=k;k=((k=(k=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.messages_ranges_v2__generated,["minMessageId"]).getKeyRange(a)},[e,a],f.id+":61"))==null?void 0:k.minMessageId)!=null?k:"")==="";var l;b[16]!==e.tables.mi_act_mapping_table||b[17]!==a?(l=function(){return d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table.index("jid")).getKeyRange(a)},b[16]=e.tables.mi_act_mapping_table,b[17]=a,b[18]=l):l=b[18];var m;b[19]!==e||b[20]!==a?(m=[e,a],b[19]=e,b[20]=a,b[21]=m):m=b[21];b=d("ReQLSuspense").useFirst(l,m,f.id+":67");l=b!=null;m=d("MAWThreadCutover").useIsCutoverOpenThread(a);b=d("MAWThreadCutover").useIsCutoverSecureThread(a);m=m||b;return g&&i&&!k&&!l&&!m}g["default"]=a}),98);
__d("useMAWMaybeInsertDualThreadCutoverAdminMessage",["I64","MAWBridgeFireAndForget","MAWMiActOnActThreadReady","Promise","ReQL","ReQLSuspense","WATimeUtils","justknobx","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;e=k||d("react");var l=e.useEffect,m=e.c;function n(a){return a.showOpenMessageHistory===!1}function a(a){var e=m(20),g=(i||(i=c("useReStore")))(),k;e[0]!==g.tables.mi_act_mapping_table||e[1]!==a?(k=function(){return d("ReQL").fromTableAscending(g.tables.mi_act_mapping_table).getKeyRange(a)},e[0]=g.tables.mi_act_mapping_table,e[1]=a,e[2]=k):k=e[2];var o;e[3]!==a||e[4]!==g?(o=[a,g],e[3]=a,e[4]=g,e[5]=o):o=e[5];k=d("ReQLSuspense").useFirst(k,o,f.id+":34");var p=k==null?void 0:k.jid,q=k==null?void 0:k.serverThreadKey;e[6]!==p||e[7]!==g.tables.cutover_threads?(o=function(){return p?d("ReQL").fromTableAscending(g.tables.cutover_threads).getKeyRange(p).filter(n):d("ReQL").empty()},e[6]=p,e[7]=g.tables.cutover_threads,e[8]=o):o=e[8];e[9]!==g||e[10]!==p?(k=[g,p],e[9]=g,e[10]=p,e[11]=k):k=e[11];var r=d("ReQLSuspense").useFirst(o,k,f.id+":43");e[12]!==r||e[13]!==q||e[14]!==g.tables?(o=function(){if(!r||!q||!c("justknobx")._("1446"))return;c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(g.tables,q,"useMAWMaybeInsertDualThreadCutoverAdminMessage",function(a,c){d("MAWBridgeFireAndForget").fireAndForget("backend","writeAdminMessageForDualThreadCutover",{chatJid:c,cutoverTimestampMs:d("WATimeUtils").castToMillisTime((j||(j=d("I64"))).to_float(r.timestampMs))});return(h||(h=b("Promise"))).resolve()}))},e[12]=r,e[13]=q,e[14]=g.tables,e[15]=o):o=e[15];e[16]!==g||e[17]!==r||e[18]!==q?(k=[g,r,q],e[16]=g,e[17]=r,e[18]=q,e[19]=k):k=e[19];l(o,k)}g["default"]=a}),98);
__d("useMWPThreadPointQueryOneToOneCutoverThreadThenNavigate",["I64","LSFactory","LSPlatformWaitForTaskCompletion","LSThreadAttributionStore","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","MAWCutoverQPLLogger","MAWJids","QPLUserFlow","ReQL","WABridgedAPI","WALoggerDeferred","asyncToGeneratorRuntime","justknobx","promiseDone","qpl","react","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Thread-Point-Query][OD-Cutover] LSThreadPointQueryAndRestoreMessagesWithJID finished successfully for ThreadKey: ",""]);k=function(){return a};return a}var l=(h||d("react")).useCallback,m=c("justknobx")._("2707");function a(){var a=c("useAsyncReStore")();return l(function(e){var f=e.contactId,g=e.isOnDemandCutover,h=e.navigationApi,l=e.qplInstanceKey;d("MAWCutoverQPLLogger").addPoint(l,"tpq_then_navigate_started");c("promiseDone")(a,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){function e(a,b){var e=a.clientThreadKey,g=a.threadKey;a=a.threadType;c("promiseDone")(c("WABridgedAPI").getDevices({ignoreDhash:!1,reason:"thread-point-querying-1-to-1-thread",users:new Set().add(d("MAWJids").toUserJid((i||(i=d("I64"))).to_string(f)))}));d("MAWCutoverQPLLogger").addPoint(l,"navigate_to_thread");d("MAWCutoverQPLLogger").endSuccess(l);h.openTabOrInbox({clientThreadKey:e,threadKey:g,threadType:a},(e=b)!=null?e:"preCutoverThread",void 0,void 0,{subEntrypoint:"threadPointQuery1To1"})}var o=d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table.index("jid")).getKeyRange(f);if(m){var p=(yield d("ReQL").firstAsync(o));d("MAWCutoverQPLLogger").addPoint(l,"check_existing_mapping");d("MAWCutoverQPLLogger").addAnnotations(l,{bool:{has_mi_act_mapping:p!=null}});p=p!=null?yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(p.serverThreadKey)):null;if(p!=null)if(g===!0){var q=n(f,p.threadKey);e(p,q)}else e(p)}o.subscribe(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c){b=c.operation;if(b==="delete")return;d("MAWCutoverQPLLogger").addPoint(l,"mi_act_mapping_table_updated");c=(yield d("ReQL").firstAsync(o));if(c==null)return;d("MAWCutoverQPLLogger").addPoint(l,"mi_act_mapping_table_non_null");b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(c.serverThreadKey)));if(b==null)return;d("MAWCutoverQPLLogger").addPoint(l,"thread_non_null");if(g===!0){c=n(f,b.threadKey);e(b,c)}else e(b)});return function(a,b){return c.apply(this,arguments)}}());d("MAWCutoverQPLLogger").addPoint(l,"thread_point_query_started");c("LSPlatformWaitForTaskCompletion")(a,function(a){return c("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(c("LSFactory")(a),{waJid:f})},"readwrite").then(function(){d("MAWCutoverQPLLogger").addPoint(l,"thread_point_query_succeeded"),c("promiseDone")(d("WALoggerDeferred").LOG(k(),(i||(i=d("I64"))).to_string(f))),g===!0&&c("QPLUserFlow").endSuccess(c("qpl")._(1056847893,"505"))})["catch"](function(a){d("MAWCutoverQPLLogger").endFailure(l,"TPQFailure");a="[Thread-Point-Query][OD-Cutover] LSThreadPointQueryAndRestoreMessagesWithJID finished with an error for ThreadKey: "+(i||(i=d("I64"))).to_string(f)+"\nError: "+a;c("promiseDone")(d("WALoggerDeferred").LOG(j(),a));g===!0&&c("QPLUserFlow").endFailure(c("qpl")._(1056847893,"505"),a)})});return function(b){return a.apply(this,arguments)}}())},[a])}function n(a,b){var c=d("LSThreadAttributionStore").getSource(void 0,(i||(i=d("I64"))).to_string(b));if(c.type==="MWLSEntrypoint"&&c.value!=="unknown")return c.value;c=d("LSThreadAttributionStore").getSource(void 0,i.to_string(a));if(c.type==="MWLSEntrypoint"&&c.value!=="unknown"){d("LSThreadAttributionStore").setSource((i||(i=d("I64"))).to_string(b),c.value);return c.value}return void 0}g["default"]=a}),98);
__d("useMAWTriggerOnDemandCutover",["I64","Int64Hooks","LSFactory","LSPlatformWaitForTaskCompletion","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","QPLUserFlow","WALoggerDeferred","promiseDone","qpl","react","useMAWCanThreadBeCutoverOnDemand","useMWNavigation","useMWPThreadPointQueryOneToOneCutoverThreadThenNavigate","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[OD-Cutover] Cutover finished successfully for ThreadKey: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[OD-Cutover] Triggering cutover for ThreadKey: ",""]);m=function(){return a};return a}b=j||d("react");var n=b.useRef,o=b.useState;function a(a){var b=a.threadKey,e=a.triggerSource,f=(h||(h=c("useReStore")))(),g=c("useMAWCanThreadBeCutoverOnDemand")(b),j=n(null);a=o(!1);var p=a[0],q=a[1],r=c("useMWNavigation")(),s=c("useMWPThreadPointQueryOneToOneCutoverThreadThenNavigate")();d("Int64Hooks").useEffectInt64(function(){var a=j.current==null||j.current!==g;a&&g&&(j.current=g,q(!0),c("promiseDone")(d("WALoggerDeferred").LOG(m(),(i||(i=d("I64"))).to_string(b))),c("QPLUserFlow").start(c("qpl")._(1056847893,"505")),e==="inbox"?s&&s({contactId:b,isOnDemandCutover:!0,navigationApi:r}):c("LSPlatformWaitForTaskCompletion")(f,function(a){return c("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(c("LSFactory")(a),{waJid:b})},"readwrite").then(function(){c("promiseDone")(d("WALoggerDeferred").LOG(l(),(i||(i=d("I64"))).to_string(b))),c("QPLUserFlow").endSuccess(c("qpl")._(1056847893,"505"))})["catch"](function(a){a="[OD-Cutover] Cutover finished with an error for ThreadKey: "+(i||(i=d("I64"))).to_string(b)+".\nError: "+a;c("promiseDone")(d("WALoggerDeferred").LOG(k(),a));c("QPLUserFlow").endFailure(c("qpl")._(1056847893,"505"),a)})["finally"](function(){q(!1)}))},[g,f,r,b,s,e]);return p}g["default"]=a}),98);
__d("useMWInboxMessageSearchRestoreTrigger",["Int64Hooks","MAWFTSRestoreSyncDeferred","MAWMiActOnActThreadReadyDeferred","MWLSThreadDisplayContext","Promise","justknobx","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useRef,k=e.c,l=c("justknobx")._("2655");function a(a,e){var f=k(5),g=j(null),i=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),m,n;f[0]!==i||f[1]!==a||f[2]!==e?(m=function(){if(i!=="Inbox")return;g.current!=null&&window.clearTimeout(g.current);g.current=window.setTimeout(function(){c("promiseDone")(d("MAWFTSRestoreSyncDeferred").getInstance().then(function(d){c("promiseDone")(c("MAWMiActOnActThreadReadyDeferred")(a,e,"useMWInboxMessageSearchRestoreTrigger",function(a,e){d.setActiveThreadId(e);c("promiseDone")(d.startSyncingLoop());return(h||(h=b("Promise"))).resolve()}))}))},l);return function(){c("promiseDone")(d("MAWFTSRestoreSyncDeferred").getInstance().then(function(a){a.setActiveThreadId(null)})),g.current!=null&&window.clearTimeout(g.current)}},n=[a,i,e],f[0]=i,f[1]=a,f[2]=e,f[3]=m,f[4]=n):(m=f[3],n=f[4]);d("Int64Hooks").useEffectInt64(m,n)}g["default"]=a}),98);