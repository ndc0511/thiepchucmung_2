;/*FB_PKG_DELIM*/

__d("MAWIssueReceiverFetchTaskDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWIssueReceiverFetchTask").__setRef("MAWIssueReceiverFetchTaskDeferred");function a(a,b,c,d,e){return h.load().then(function(f){return f.issueReceiverFetchTask(a,b,c,d,e)})}g.issueReceiverFetchTask=a}),98);
__d("useMAWBulkMediaDownloadManualRetry",["FBLogger","MAWDbMedia","MAWDownloadMediaInWorkerDeferred","MAWIssueReceiverFetchTaskDeferred","MAWMediaDownloadStatus","MAWStateContext.react","WAHashUtils","isReceiverFetchSticker","nullthrows","promiseDone","react","react-forget-runtime","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;b.useContext;var i=b.c;function a(a,b){var e=i(7),f=c("useAsyncReStore")(),g=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(d("MAWStateContext.react").MAWStateContext,l),h=g.dispatch,n=d("MAWStateContext.react").useMAWSelector(k),o=d("MAWStateContext.react").useMAWSelector(j);e[0]!==a||e[1]!==b||e[2]!==n||e[3]!==o||e[4]!==f||e[5]!==h?(g=function(){a.forEach(function(a){var e=c("isReceiverFetchSticker")(a);if(e){b==null?void 0:b.start({isManualRetry:!0,manualRetryCount:(e=n[a.messageId])!=null?e:0,previousManualRetryErrorDetails:(e=o[a.messageId])==null?void 0:e.mainMediaStatusDetails});m(f,a,h,b);return}e=a.attachmentFbid;var g=isNaN(e);g=g?d("WAHashUtils").stringToPlaintextHash(e):d("MAWDbMedia").convertNumberToMediaId(parseInt(e,10));b==null?void 0:b.start({isManualRetry:!0,manualRetryCount:(e=n[g.toString()])!=null?e:0,previousManualRetryErrorDetails:(e=o[g.toString()])==null?void 0:e.mainMediaStatusDetails});h({tag:"SetMediaDownloadStatusState",value:{key:g,newMediaDownloadState:null}});h({tag:"IncreaseMediaDownloadRetryCount",value:{key:g}});d("MAWDownloadMediaInWorkerDeferred").downloadMediaInWorker({attachment:a,dispatch:h,mediaRenderQpl:b,triggerUIView:"manual-retry-thread"})})},e[0]=a,e[1]=b,e[2]=n,e[3]=o,e[4]=f,e[5]=h,e[6]=g):g=e[6];return g}function j(a){return a.mediaDownloadStatus}function k(a){return a.mediaDownloadRetryCount}function l(a){return[a.dispatch]}function m(a,b,e,f){var g=c("nullthrows")(b.receiverFetchId),h=b.messageId,i=b.threadKey,j=d("WAHashUtils").stringToPlaintextHash(h);e({tag:"IncreaseMediaDownloadRetryCount",value:{key:j}});c("promiseDone")(a,function(a){return d("MAWIssueReceiverFetchTaskDeferred").issueReceiverFetchTask(a,h,g,i,e)},function(a){f==null?void 0:f.endFail("receiver_fetch_task_fail"),e({tag:"UpdateMediaStatus",value:{details:"receiver_fetch_task_fail_"+a,key:j,status:c("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE,type:"main"}}),c("FBLogger")("messenger_web_media").catching(a).warn("Failed to issue media receiver fetch task for manual retry")})}g["default"]=a}),98);
__d("useMAWMediaDownloadStatus",["react","useMAWBulkMediaDownloadStatus"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.c;function a(a,b,d){var e=i(4);if(e[0]!==a||e[1]!==d||e[2]!==b){var f;f=a!=null?[{attachment:a,mediaRenderQpl:b,statusKey:(f=d)!=null?f:a.attachmentFbid}]:[];e[0]=a;e[1]=d;e[2]=b;e[3]=f}else f=e[3];a=f;d=a;b=c("useMAWBulkMediaDownloadStatus")(d);return b.length>0?b[0]:null}g["default"]=a}),98);
__d("useMAWMaybeAutoTriggerDownload",["MAWDownloadMediaInWorkerDeferred","MAWMediaDownloadStatus","MAWStateContext.react","react","react-forget-runtime","useMAWMediaDownloadStatus","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useContext;var i=b.useEffect,j=b.useState,k=b.c;function a(a,b,e,f){var g,h=k(15);f=c("useMAWMediaDownloadStatus")(a,b,f);var m=(f==null?void 0:(g=f.status)==null?void 0:g.mainMediaStatus)===c("MAWMediaDownloadStatus").MISSING_FILE||(f==null?void 0:(g=f.status)==null?void 0:g.mainMediaStatus)===c("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE;f=c("usePrevious")(m);g=j(!1);var n=g[0],o=g[1];g=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(d("MAWStateContext.react").MAWStateContext,l);var p=g.dispatch;h[0]!==m||h[1]!==n||h[2]!==a||h[3]!==p||h[4]!==b||h[5]!==e?(g=function(){m&&n===!1&&(o(!0),d("MAWDownloadMediaInWorkerDeferred").maybeDownloadMediaInWorker({attachment:a,dispatch:p,mediaRenderQpl:b,triggerUIView:e}))},h[0]=m,h[1]=n,h[2]=a,h[3]=p,h[4]=b,h[5]=e,h[6]=g):g=h[6];var q;h[7]!==a||h[8]!==b||h[9]!==m||h[10]!==f||h[11]!==e||h[12]!==p||h[13]!==n?(q=[a,b,m,f,e,p,o,n],h[7]=a,h[8]=b,h[9]=m,h[10]=f,h[11]=e,h[12]=p,h[13]=n,h[14]=q):q=h[14];i(g,q)}function l(a){return[a.dispatch]}g["default"]=a}),98);
__d("MAWAttachmentStateHandlerContentWrapper.react",["CometHeroHoldTrigger.react","FBLogger","MAWMediaDownloadStatusUIStateType","MWV2AttachmentLoadingPlaceholder.react","react","useMAWBulkMediaDownloadManualRetry","useMAWMaybeAutoTriggerDownload","useMAWMediaDownloadStatus","useMAWMediaStatusUIState"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useMemo;function a(a){var b=a.attachmentsFromGroupToRetry,e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,h=a.descriptionForLogging,i=a.downloadStatusKeyOverride,m=a.errorComponentRenderer,n=a.errorWithBlurComponentRenderer,o=a.mediaRenderQpl,p=a.outgoing,q=a.placeholderHeight,r=a.placeholderMaxHeight,s=a.placeholderMaxWidth,t=a.placeholderWidth;a=a.successfulComponentRenderer;var u=l(function(){return b!=null&&b.length>0?b:[g]},[g,b]);u=c("useMAWBulkMediaDownloadManualRetry")(u,o);i=c("useMAWMediaStatusUIState")(g,o,i);var v=i.downloadStatus;i=(i=c("useMAWMediaDownloadStatus")(g))!=null?i:{};var w=i.status;c("useMAWMaybeAutoTriggerDownload")(g,o,"thread");k(function(){var a,b={string:{call_site:h,download_status_main_details:w==null?void 0:w.mainMediaStatusDetails,download_status_main_media:String(w==null?void 0:w.mainMediaStatus),download_status_preview_details:w==null?void 0:w.previewMediaStatusDetails,download_status_preview_media:String(w==null?void 0:w.previewMediaStatus),download_status_ui_state:v}};o==null?void 0:o.addPoint("render-attachment-state-handler-content-wrapper-"+((a=v)!=null?a:"null"),b)},[o,v,w==null?void 0:w.mainMediaStatusDetails,w==null?void 0:w.mainMediaStatus,w==null?void 0:w.previewMediaStatusDetails,w==null?void 0:w.previewMediaStatus,h]);k(function(){switch(v){case"non_retryable_error":case"retryable_error":case"non_retryable_error_with_preview":case"retryable_error_with_preview":Boolean(w==null?void 0:w.mainMediaStatusDetails)?o==null?void 0:o.endFail(v+": "+(w==null?void 0:w.mainMediaStatusDetails)):o==null?void 0:o.endFail(v);break;case null:case"downloaded":case"loading":break;default:o==null?void 0:o.endFail("unknown_state",{string:{unknown_state_value:v}});break}},[o,v,h]);i=function(a,b){var d;return j.jsxs(j.Fragment,{children:[j.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:e,connectTop:f,descriptionForLogging:a,hasAppAttribution:(g==null?void 0:g.attributionAppName)!=null,height:q,maxHeight:(d=r)!=null?d:q,maxWidth:(d=s)!=null?d:t,mediaRenderQpl:o,outgoing:p,width:t}),!b&&j.jsx(c("CometHeroHoldTrigger.react"),{description:a,hold:!0})]})};var x=d("MAWMediaDownloadStatusUIStateType").isRetryableErrorState(v);switch(v){case null:case"loading":return i(h+".MAWAttachmentStateHandlerContentWrapper.NoMedia",!1);case"non_retryable_error":case"retryable_error":return m(x,u);case"non_retryable_error_with_preview":case"retryable_error_with_preview":return n==null?m(x,u):n(x,u);case"downloaded":return a(i);default:c("FBLogger")("messenger_web_media").mustfix("[MAW Attachment Content] Unknown MediaDownloadStatusUIState %s",v);return i(h+".MAWAttachmentStateHandlerContentWrapper.UnknownState",!1)}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AudioAttachmentErrorPlaceholder.react",["I64","MWPAudioHighlightStylesHooks","MWPAudioPlaybackButton.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWXMessageBubbleCornerStyles.react","emptyFunction","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useRef,n=b.c;function a(a){var b=n(38),e=a.attachment,f=a.connectBottom,g=a.connectTop,i=a.isReply,o=a.isRetryableError,p=a.mediaRenderQpl,q=a.message,r=a.onRetry,s=a.outgoing;a=a.width;i=i===void 0?!1:i;var t=e.playableDurationMs;t=(j||(j=d("I64"))).to_float((t=t)!=null?t:(j||(j=d("I64"))).zero)/1e3;f=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:s===!0?"right":"left",connectBottom:f,connectTop:g});g=d("MWPAudioPlayerUtils").useControlCenter(void 0,void 0,q.messageId,void 0,c("emptyFunction"),!1,t,p);g[0];g[1];var u=g[2];g[3];g=g[4];if(b[0]!==q.ephemeralDurationInSec){var v;v=(j||(j=d("I64"))).gt((v=q.ephemeralDurationInSec)!=null?v:(j||(j=d("I64"))).zero,j.zero);b[0]=q.ephemeralDurationInSec;b[1]=v}else v=b[1];q=v;v=m();var w=d("MWPAudioHighlightStylesHooks").useHighlightStyles(s);a=d("MWPAudioPlayerUtils").useCalculatePlayerWidth(a,q);q=a+"px";b[2]!==q?(a={width:q},b[2]=q,b[3]=a):a=b[3];q=a;var x;b[4]!==p||b[5]!==o?(a=function(){p==null?void 0:p.addPoint("render-audio-error-placeholder",{bool:{is_retryable_error:o}})},x=[p,o],b[4]=p,b[5]=o,b[6]=a,b[7]=x):(a=b[6],x=b[7]);l(a,x);a=c("MWPAudioPlayerContainer.react");x=!1;var y=null,z="mw_audio_player_error_placeholder";z=d("MWPAudioPlayerUtils").UseCase;f=(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.common,f,s?d("MWPAudioPlayerSharedStyles").styles.commonOutgoing:d("MWPAudioPlayerSharedStyles").styles.commonIncoming,i&&d("MWPAudioPlayerSharedStyles").styles.commonReply,s&&i&&d("MWPAudioPlayerSharedStyles").styles.commonOutgoingReply);i=e.isAttachmentConsumed===!0;b[8]!==r?(e=function(){r&&r()},b[8]=r,b[9]=e):e=b[9];var A;b[10]!==o||b[11]!==e||b[12]!==s||b[13]!==v?(A=k.jsx(c("MWPAudioPlaybackButton.react"),{disabled:!0,hasEnded:!1,isError:!0,isLoading:!1,isPaused:!1,isPlaying:!1,isRetryableError:o,onPress:e,outgoing:s,scrubberRef:v}),b[10]=o,b[11]=e,b[12]=s,b[13]=v,b[14]=A):A=b[14];b[15]!==u||b[16]!==t||b[17]!==i||b[18]!==s||b[19]!==g||b[20]!==v||b[21]!==w||b[22]!==A?(e=k.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV2,{audioEl:u,currentTime:t,disabled:!0,duration:t,hasEnded:!1,hasScrubber:!1,isListened:i,isPlaying:!1,onUpdateScrubber:c("emptyFunction"),outgoing:s,progressHighlightRef:g,scrubberRef:v,waveformData:null,xstyle:w,children:A}),b[15]=u,b[16]=t,b[17]=i,b[18]=s,b[19]=g,b[20]=v,b[21]=w,b[22]=A,b[23]=e):e=b[23];b[24]!==s||b[25]!==t?(i=k.jsx("div",{children:k.jsx(c("MWPAudioPlayerTimer.react"),{disabled:!0,outgoing:s,time:t})}),b[24]=s,b[25]=t,b[26]=i):i=b[26];b[27]!==f||b[28]!==e||b[29]!==i?(g=k.jsxs("div",{className:f,children:[e,i]}),b[27]=f,b[28]=e,b[29]=i,b[30]=g):g=b[30];b[31]!==a||b[32]!==u||b[33]!==v||b[34]!==q||b[35]!==z.PLAYER||b[36]!==g?(w=k.jsx(a,{audioEl:u,hasScrubber:x,mediaRenderQpl:y,scrubberRef:v,style:q,testid:void 0,useCase:z.PLAYER,children:g}),b[31]=a,b[32]=u,b[33]=v,b[34]=q,b[35]=z.PLAYER,b[36]=g,b[37]=w):w=b[37];return w}g["default"]=a}),98);
__d("MAWSecureAudioAttachmentContentV2.react",["CometPlaceholder.react","MAWAttachmentStateHandlerContentWrapper.react","MWAudioPlayer.react","MWPAudioPlayerUtils","MWV2AudioAttachmentErrorPlaceholder.react","mwpMessageIsReply","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.c;function a(a){var b=k(29),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,h=a.getPlayableUrl,l=a.mediaRenderQpl,m=a.message,n=a.outgoing,o;b[0]!==l?(a=function(){l==null?void 0:l.addPoint("render-audio-attachment")},o=[l],b[0]=l,b[1]=a,b[2]=o):(a=b[1],o=b[2]);j(a,o);a=d("MWPAudioPlayerUtils").useCalculatePlayerWidth();o=d("MWPAudioPlayerUtils").useCalculatePlayerHeight(d("MWPAudioPlayerUtils").UseCase.PLAYER);var p;b[3]!==g||b[4]!==e||b[5]!==f||b[6]!==l||b[7]!==m||b[8]!==n?(p=function(a,b){return i.jsx(c("MWV2AudioAttachmentErrorPlaceholder.react"),{attachment:g,connectBottom:e,connectTop:f,isRetryableError:a,mediaRenderQpl:l,message:m,onRetry:b,outgoing:n})},b[3]=g,b[4]=e,b[5]=f,b[6]=l,b[7]=m,b[8]=n,b[9]=p):p=b[9];var q=p;b[10]!==g||b[11]!==e||b[12]!==f||b[13]!==h||b[14]!==m||b[15]!==l||b[16]!==n||b[17]!==q?(p=function(a){return i.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureAudioAttachmentContentV2.Suspense",!0),name:"MAWSecureAudioAttachmentContentV2.Suspense",children:i.jsx(c("MWAudioPlayer.react"),{attachment:g,connectBottom:e,connectTop:f,getPlayableUrl:h,isReply:c("mwpMessageIsReply")(m),isSecure:!0,mediaRenderQpl:l,message:m,outgoing:n,renderUnsupportedAttachment:function(){return q(!1)}})})},b[10]=g,b[11]=e,b[12]=f,b[13]=h,b[14]=m,b[15]=l,b[16]=n,b[17]=q,b[18]=p):p=b[18];p=p;var r;b[19]!==e||b[20]!==f||b[21]!==g||b[22]!==q||b[23]!==l||b[24]!==n||b[25]!==o||b[26]!==a||b[27]!==p?(r=i.jsx(c("MAWAttachmentStateHandlerContentWrapper.react"),{connectBottom:e,connectTop:f,dbAttachment:g,descriptionForLogging:"MAWSecureAudioAttachmentContentV2",errorComponentRenderer:q,mediaRenderQpl:l,outgoing:n,placeholderHeight:o,placeholderWidth:a,successfulComponentRenderer:p}),b[19]=e,b[20]=f,b[21]=g,b[22]=q,b[23]=l,b[24]=n,b[25]=o,b[26]=a,b[27]=p,b[28]=r):r=b[28];return r}g["default"]=a}),98);
__d("MWV2SecureFileAttachmentErrorPlaceholder.react",["MWChatFilePreview.react","MWFileUtils","MWXTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.c;function a(a){var b,e=k(25),f=a.file,g=a.isRetryableError,h=a.mediaRenderQpl;a=a.onRetry;b=(b=f.filename)!=null?b:d("MWFileUtils").PLACEHOLDER_FILENAME;var l;e[0]!==b?(l=b.toString(),e[0]=b,e[1]=l):l=e[1];b=l;e[2]!==f?(l=d("MWFileUtils").getFileSize(f),e[2]=f,e[3]=l):l=e[3];l=l;var m,n;e[4]!==h||e[5]!==g?(m=function(){h==null?void 0:h.addPoint("render-file-error-placeholder",{bool:{is_retryable_error:g}})},n=[h,g],e[4]=h,e[5]=g,e[6]=m,e[7]=n):(m=e[6],n=e[7]);j(m,n);e[8]===Symbol["for"]("react.memo_cache_sentinel")?(m="x6s0dn4 x78zum5 x87ps6o",e[8]=m):m=e[8];e[9]!==f||e[10]!==g||e[11]!==a?(n=i.jsx(c("MWChatFilePreview.react"),{attachment:f,isError:!0,isRetryableError:g,onRetry:a,withPreview:!1}),e[9]=f,e[10]=g,e[11]=a,e[12]=n):n=e[12];e[13]===Symbol["for"]("react.memo_cache_sentinel")?(f="x1x80s81 x1iyjqo2 x1s688f xz9dl7a xsag5q8 x1ye3gou x1pi30zi x13faqbe",e[13]=f):f=e[13];e[14]!==b?(a=i.jsx(c("MWXTextPairing.react"),{headline:b,headlineColor:"disabled",headlineLineLimit:3,level:4}),e[14]=b,e[15]=a):a=e[15];e[16]===Symbol["for"]("react.memo_cache_sentinel")?(b="x1x80s81 x889kno",e[16]=b):b=e[16];e[17]!==l?(b=i.jsx("div",{className:b,children:i.jsx(c("MWXTextPairing.react"),{body:l,bodyColor:"disabled",bodyLineLimit:1,level:4})}),e[17]=l,e[18]=b):b=e[18];e[19]!==a||e[20]!==b?(l=i.jsxs("div",{className:f,children:[a,b]}),e[19]=a,e[20]=b,e[21]=l):l=e[21];e[22]!==n||e[23]!==l?(f=i.jsxs("div",{className:m,"data-testid":void 0,children:[n,l]}),e[22]=n,e[23]=l,e[24]=f):f=e[24];return f}g["default"]=a}),98);
__d("MAWSecureFileAttachmentContentV2.react",["CometPlaceholder.react","MAWAttachmentStateHandlerContentWrapper.react","MAWChatFile.react","MWV2AttachmentErrorPlaceholder.react","MWV2SecureFileAttachmentErrorPlaceholder.react","MWXMessageBubble.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.c,l=60,m=250,n={bubble:{paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0}};function a(a){var b=k(24),d=a.connectBottom,e=a.connectTop,f=a.dbAttachment,g=a.getFileUrl,h=a.mediaRenderQpl,o=a.outgoing,p;b[0]!==h?(a=function(){h==null?void 0:h.addPoint("render-file-attachment")},p=[h],b[0]=h,b[1]=a,b[2]=p):(a=b[1],p=b[2]);j(a,p);b[3]!==o||b[4]!==d||b[5]!==e||b[6]!==f||b[7]!==h?(a=function(a,b){return i.jsx(c("MWXMessageBubble.react"),{align:o?"right":"left",color:"incoming",connectBottom:d,connectTop:e,xstyle:n.bubble,children:i.jsx(c("MWV2SecureFileAttachmentErrorPlaceholder.react"),{file:f,isRetryableError:a,mediaRenderQpl:h,onRetry:b})})},b[3]=o,b[4]=d,b[5]=e,b[6]=f,b[7]=h,b[8]=a):a=b[8];p=a;b[9]!==o||b[10]!==d||b[11]!==e||b[12]!==f||b[13]!==g||b[14]!==h?(a=function(a){return i.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureFileAttachmentContentV2.Suspense",!0),name:"MAWSecureFileAttachmentContentV2.Suspense",children:i.jsx(c("MWXMessageBubble.react"),{align:o?"right":"left",color:"incoming",connectBottom:d,connectTop:e,xstyle:n.bubble,children:i.jsx(c("MAWChatFile.react"),{file:f,getFileUrl:g,mediaRenderQpl:h,renderUnsupportedAttachment:function(){return i.jsx(c("MWV2AttachmentErrorPlaceholder.react"),{connectBottom:d,connectTop:e,height:l,outgoing:o,width:m})}})})})},b[9]=o,b[10]=d,b[11]=e,b[12]=f,b[13]=g,b[14]=h,b[15]=a):a=b[15];a=a;var q;b[16]!==d||b[17]!==e||b[18]!==f||b[19]!==p||b[20]!==h||b[21]!==o||b[22]!==a?(q=i.jsx(c("MAWAttachmentStateHandlerContentWrapper.react"),{connectBottom:d,connectTop:e,dbAttachment:f,descriptionForLogging:"MAWSecureFileAttachmentContentV2",errorComponentRenderer:p,mediaRenderQpl:h,outgoing:o,placeholderHeight:l,placeholderWidth:m,successfulComponentRenderer:a}),b[16]=d,b[17]=e,b[18]=f,b[19]=p,b[20]=h,b[21]=o,b[22]=a,b[23]=q):q=b[23];return q}g["default"]=a}),98);
__d("MediaDownloadStatusIconSize",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Small:"small",Large:"large"});c=a;f["default"]=c}),66);
__d("MWV2AttachmentErrorPlaceholderV2.react",["fbt","BaseMiddot.react","MWXAspectRatioContainer.react","MWXCircleButton.react","MWXIconExclamationMarkCircle","MWXIconRefreshAlt","MWXIconStrict.react","MWXLink.react","MWXMessageBubbleCornerStyles.react","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","react","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.c,n={content:{alignItems:"x6s0dn4",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},dark:{backgroundColor:"xhzw6zf",$$css:!0},galleryMediaStatusIcon:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0},nonRetryableError:{alignItems:"x6s0dn4",backgroundColor:"x18l40ae",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",color:"x19rn6z",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},threadMediaStatusIcon:{height:"x1vqgdyp",width:"x100vrsf",$$css:!0}};function a(a){var b=m(27),e=a.connectBottom,f=a.connectTop,g=a.hasAppAttribution,j=a.height,o=a.iconSize,p=a.isRetryableError,q=a.maxHeight,r=a.maxWidth,s=a.mediaRenderQpl,t=a.onRetry,u=a.outgoing,v=a.width,w=a.withTooltip,x=a.xstyle,y;b[0]!==s||b[1]!==p?(a=function(){s==null?void 0:s.addPoint("render-error-placeholder",{bool:{is_retryable_error:p}})},y=[s,p],b[0]=s,b[1]=p,b[2]=a,b[3]=y):(a=b[2],y=b[3]);l(a,y);var z=c("useCurrentDisplayMode")();y=(a=j)!=null?a:100;a=(j=v)!=null?j:200;v=u===!0?"right":"left";j=g===!0?"bottom":"none";b[4]!==v||b[5]!==e||b[6]!==f||b[7]!==j?(u=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:v,connectBottom:e,connectTop:f,flatten:j}),b[4]=v,b[5]=e,b[6]=f,b[7]=j,b[8]=u):u=b[8];var A=u;v=(g=q)!=null?g:200;f=(e=r)!=null?e:480;b[9]!==z||b[10]!==A||b[11]!==x||b[12]!==p||b[13]!==t||b[14]!==o?(j=function(a){return k.jsx("div",{className:(i||(i=c("stylex")))([a,n.content,z==="dark"?n.dark:n.light,A,x]),"data-testid":void 0,children:p?k.jsx(c("MWXCircleButton.react"),{color:"white",icon:c("MWXIconRefreshAlt"),label:h._("__JHASH__BGxC_0TtXwE__JHASH__"),onPress:t,size:o===c("MediaDownloadStatusIconSize").Large?40:24,type:"dark-overlay"}):k.jsx("div",{className:(i||(i=c("stylex")))([n.nonRetryableError,o===c("MediaDownloadStatusIconSize").Large?n.threadMediaStatusIcon:n.galleryMediaStatusIcon]),children:k.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconExclamationMarkCircle"),size:o===c("MediaDownloadStatusIconSize").Large?20:12})})})},b[9]=z,b[10]=A,b[11]=x,b[12]=p,b[13]=t,b[14]=o,b[15]=j):j=b[15];b[16]!==y||b[17]!==v||b[18]!==f||b[19]!==a||b[20]!==j?(u=k.jsx(c("MWXAspectRatioContainer.react"),{height:y,maxHeight:v,maxWidth:f,width:a,children:j}),b[16]=y,b[17]=v,b[18]=f,b[19]=a,b[20]=j,b[21]=u):u=b[21];q=u;b[22]!==w||b[23]!==p||b[24]!==t||b[25]!==q?(g=w===!0?k.jsx(c("MWXTooltip.react"),{label:h._("__JHASH__jCbL2nmLvOs__JHASH__"),tooltip:k.jsxs(c("MWXText.react"),{color:"tooltip",type:"meta4",children:[h._("__JHASH__jCbL2nmLvOs__JHASH__"),p&&k.jsxs(k.Fragment,{children:[k.jsx(c("BaseMiddot.react"),{}),k.jsx(c("MWXLink.react"),{onClick:t,children:h._("__JHASH__BGxC_0TtXwE__JHASH__")})]})]}),children:q}):q,b[22]=w,b[23]=p,b[24]=t,b[25]=q,b[26]=g):g=b[26];return g}g["default"]=a}),226);
__d("MWV2AttachmentErrorPlaceholderWithBlurImage.react",["fbt","BaseMiddot.react","CometBlurredBackgroundImage.react","CometPlaceholder.react","MWV2ChatImage.react","MWXAspectRatioContainer.react","MWXCircleButton.react","MWXIconExclamationMarkCircle","MWXIconRefreshAlt","MWXIconStrict.react","MWXLink.react","MWXMessageBubbleCornerStyles.react","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","react","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.c,n={content:{alignItems:"x6s0dn4",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},dark:{backgroundColor:"xhzw6zf",$$css:!0},gallery:{backgroundPosition:"x1bz1qqp",$$css:!0},galleryMediaStatusIcon:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0},nonRetryableError:{alignItems:"x6s0dn4",backgroundColor:"x18l40ae",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",color:"x14ctfv",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},threadMediaStatusIcon:{height:"x1vqgdyp",width:"x100vrsf",$$css:!0}};function a(a){var b=m(48),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,j=a.getPreviewUrl,p=a.hasAppAttribution,q=a.height,r=a.iconSize,s=a.isGroupedImage,t=a.isRetryableError,u=a.maxHeight,v=a.maxWidth,w=a.mediaRenderQpl,x=a.message,y=a.onRetry,z=a.outgoing,A=a.width,B=a.withTooltip,C=a.xstyle,D=c("useCurrentDisplayMode")();q=(a=q)!=null?a:100;A=(a=A)!=null?a:200;a=z===!0?"right":"left";p=p===!0?"bottom":"none";var E;b[0]!==a||b[1]!==e||b[2]!==f||b[3]!==p?(E=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:a,connectBottom:e,connectTop:f,flatten:p}),b[0]=a,b[1]=e,b[2]=f,b[3]=p,b[4]=E):E=b[4];var F=E;p=(a=u)!=null?a:200;a=(E=v)!=null?E:480;b[5]!==D||b[6]!==F||b[7]!==C?(E=function(a){return k.jsx("div",{className:(i||(i=c("stylex")))([a,n.content,D==="dark"?n.dark:n.light,F,C]),"data-testid":void 0})},b[5]=D,b[6]=F,b[7]=C,b[8]=E):E=b[8];var G;b[9]!==q||b[10]!==p||b[11]!==a||b[12]!==A||b[13]!==E?(G=k.jsx(c("MWXAspectRatioContainer.react"),{height:q,maxHeight:p,maxWidth:a,width:A,children:E}),b[9]=q,b[10]=p,b[11]=a,b[12]=A,b[13]=E,b[14]=G):G=b[14];var H=G;b[15]!==w||b[16]!==x||b[17]!==t?(p=function(){w==null?void 0:w.addPoint("render-error-placeholder-with-blur-image",{bool:{has_message:x!=null,is_retryable_error:t}})},a=[w,t,x],b[15]=w,b[16]=x,b[17]=t,b[18]=p,b[19]=a):(p=b[18],a=b[19]);l(p,a);b[20]===Symbol["for"]("react.memo_cache_sentinel")?(E="xtzzx4i x10l6tqk xwa60dl x11lhmoz x1vjfegm",b[20]=E):E=b[20];b[21]!==t||b[22]!==r||b[23]!==y?(G=k.jsx("div",{className:E,children:t?k.jsx(c("MWXCircleButton.react"),{color:"white",icon:c("MWXIconRefreshAlt"),label:h._("__JHASH__BGxC_0TtXwE__JHASH__"),onPress:y,size:r===c("MediaDownloadStatusIconSize").Large?40:24,testid:void 0,type:"dark-overlay"}):k.jsx("div",{className:(i||(i=c("stylex")))([n.nonRetryableError,r===c("MediaDownloadStatusIconSize").Large?n.threadMediaStatusIcon:n.galleryMediaStatusIcon]),"data-testid":void 0,children:k.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconExclamationMarkCircle"),size:r===c("MediaDownloadStatusIconSize").Large?20:12})})}),b[21]=t,b[22]=r,b[23]=y,b[24]=G):G=b[24];b[25]===Symbol["for"]("react.memo_cache_sentinel")?(p="x47corl",b[25]=p):p=b[25];if(b[26]!==x||b[27]!==u||b[28]!==q||b[29]!==v||b[30]!==A||b[31]!==H||b[32]!==g||b[33]!==e||b[34]!==f||b[35]!==j||b[36]!==s||b[37]!==z||b[38]!==w){r=k.jsx("div",{className:p,children:x!=null?k.jsx(c("CometPlaceholder.react"),{fallback:H,name:"MWV2AttachmentErrorPlaceholderWithBlurImage",children:k.jsx(c("MWV2ChatImage.react"),{attachment:g,connectBottom:e,connectTop:f,getPreviewUrl:j,isGroupedImage:s,isSecure:!0,maxHeight:(a=u)!=null?a:q,maxWidth:(E=v)!=null?E:A,mediaRenderQpl:null,message:x,navigateToRouteForMediaViewer:!1,outgoing:z,renderUnsupportedAttachment:function(){return H},shouldBlur:!0})}):k.jsx(c("CometPlaceholder.react"),{fallback:H,name:"MWV2AttachmentErrorPlaceholderWithBlurImage",children:k.jsx(o,{dbAttachment:g,fallback:H,getPreviewUrl:j,heightCalculated:q,maxHeight:u,maxWidth:v,mediaRenderQpl:w,widthCalculated:A})})});b[26]=x;b[27]=u;b[28]=q;b[29]=v;b[30]=A;b[31]=H;b[32]=g;b[33]=e;b[34]=f;b[35]=j;b[36]=s;b[37]=z;b[38]=w;b[39]=r}else r=b[39];b[40]!==G||b[41]!==r?(p=k.jsxs(k.Fragment,{children:[G,r]}),b[40]=G,b[41]=r,b[42]=p):p=b[42];a=p;b[43]!==B||b[44]!==t||b[45]!==y||b[46]!==a?(E=B===!0?k.jsx(c("MWXTooltip.react"),{label:h._("__JHASH__jCbL2nmLvOs__JHASH__"),tooltip:k.jsxs(c("MWXText.react"),{color:"tooltip",type:"meta4",children:[h._("__JHASH__jCbL2nmLvOs__JHASH__"),t&&k.jsxs(k.Fragment,{children:[k.jsx(c("BaseMiddot.react"),{}),k.jsx(c("MWXLink.react"),{onClick:y,children:h._("__JHASH__BGxC_0TtXwE__JHASH__")})]})]}),children:a}):a,b[43]=B,b[44]=t,b[45]=y,b[46]=a,b[47]=E):E=b[47];return E}function o(a){var b=m(11),d=a.dbAttachment,e=a.fallback,f=a.getPreviewUrl,g=a.heightCalculated,h=a.maxHeight,i=a.maxWidth,j=a.mediaRenderQpl;a=a.widthCalculated;var l;b[0]!==f||b[1]!==d||b[2]!==j?(l=f(d,"MWV2AttachmentErrorPlaceholderWithBlurImage.react",j),b[0]=f,b[1]=d,b[2]=j,b[3]=l):l=b[3];var o=l;b[4]!==o||b[5]!==g||b[6]!==h||b[7]!==i||b[8]!==a||b[9]!==e?(f=o!=null?k.jsx(c("MWXAspectRatioContainer.react"),{height:g,maxHeight:h,maxWidth:i,width:a,children:function(a){return k.jsx(c("CometBlurredBackgroundImage.react"),{src:o,xstyle:[a,n.gallery]})}}):e,b[4]=o,b[5]=g,b[6]=h,b[7]=i,b[8]=a,b[9]=e,b[10]=f):f=b[10];return f}g["default"]=a}),226);
__d("MAWSecureImageAttachmentContentV2.react",["CometHeroHoldTrigger.react","CometPlaceholder.react","MAWAttachmentStateHandlerContentWrapper.react","MWLSThreadDisplayContext","MWMessageListImageSizingUtils","MWV2AttachmentErrorPlaceholderV2.react","MWV2AttachmentErrorPlaceholderWithBlurImage.react","MWV2AttachmentLoadingPlaceholder.react","MWV2ChatImage.react","MediaDownloadStatusIconSize","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.c;function a(a){var b=k(68),e=a.attachmentsFromGroupToRetry,f=a.connectBottom,g=a.connectTop,h=a.dbAttachment,l=a.getPreviewUrl,m=a.isGroupedImage,n=a.mediaRenderQpl,o=a.message,p=a.outgoing,q=a.previewHeight,r=a.previewWidth,s;b[0]!==n?(a=function(){n==null?void 0:n.addPoint("render-image-attachment")},s=[n],b[0]=n,b[1]=a,b[2]=s):(a=b[1],s=b[2]);j(a,s);a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=(s=a)!=null?s:void 0;b[3]!==a||b[4]!==m?(s=d("MWMessageListImageSizingUtils").getMaxPreviewHeightAndWidth(!0,a,m),b[3]=a,b[4]=m,b[5]=s):s=b[5];a=s;var t=a.maxHeight,u=a.maxWidth;if(o==null||h==null){s=(h==null?void 0:h.attributionAppName)!=null;b[6]!==f||b[7]!==g||b[8]!==s||b[9]!==q||b[10]!==t||b[11]!==u||b[12]!==n||b[13]!==p||b[14]!==r?(a=i.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:f,connectTop:g,descriptionForLogging:"MAWSecureImageAttachmentContent.NoMedia",hasAppAttribution:s,height:q,maxHeight:t,maxWidth:u,mediaRenderQpl:n,outgoing:p,width:r}),b[6]=f,b[7]=g,b[8]=s,b[9]=q,b[10]=t,b[11]=u,b[12]=n,b[13]=p,b[14]=r,b[15]=a):a=b[15];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(s=i.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureImageAttachmentContent.NoMedia",hold:!0}),b[16]=s):s=b[16];b[17]!==a?(s=i.jsxs(i.Fragment,{children:[a,s]}),b[17]=a,b[18]=s):s=b[18];return s}b[19]!==f||b[20]!==g||b[21]!==h.attributionAppName||b[22]!==q||b[23]!==t||b[24]!==u||b[25]!==n||b[26]!==p||b[27]!==r?(a=function(a,b){return i.jsx(c("MWV2AttachmentErrorPlaceholderV2.react"),{connectBottom:f,connectTop:g,hasAppAttribution:h.attributionAppName!=null,height:q,iconSize:c("MediaDownloadStatusIconSize").Large,isRetryableError:a,maxHeight:t,maxWidth:u,mediaRenderQpl:n,onRetry:b,outgoing:p,width:r})},b[19]=f,b[20]=g,b[21]=h.attributionAppName,b[22]=q,b[23]=t,b[24]=u,b[25]=n,b[26]=p,b[27]=r,b[28]=a):a=b[28];var v=a;b[29]!==f||b[30]!==g||b[31]!==h||b[32]!==l||b[33]!==q||b[34]!==m||b[35]!==t||b[36]!==u||b[37]!==n||b[38]!==o||b[39]!==p||b[40]!==r?(s=function(a,b){return i.jsx(c("MWV2AttachmentErrorPlaceholderWithBlurImage.react"),{connectBottom:f,connectTop:g,dbAttachment:h,getPreviewUrl:l,height:q,iconSize:c("MediaDownloadStatusIconSize").Large,isGroupedImage:m,isRetryableError:a,maxHeight:t,maxWidth:u,mediaRenderQpl:n,message:o,onRetry:b,outgoing:p,width:r})},b[29]=f,b[30]=g,b[31]=h,b[32]=l,b[33]=q,b[34]=m,b[35]=t,b[36]=u,b[37]=n,b[38]=o,b[39]=p,b[40]=r,b[41]=s):s=b[41];a=s;b[42]!==o||b[43]!==h||b[44]!==f||b[45]!==g||b[46]!==l||b[47]!==m||b[48]!==t||b[49]!==u||b[50]!==n||b[51]!==p||b[52]!==v?(s=function(a){return o==null?a("MAWSecureImageAttachmentContentV2.NoMessage",!1):i.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureImageAttachmentContentV2.Suspense",!0),name:"MAWSecureImageAttachmentContentV2.Suspense",children:i.jsx(c("MWV2ChatImage.react"),{attachment:h,connectBottom:f,connectTop:g,getPreviewUrl:l,isGroupedImage:m,isSecure:!0,maxHeight:t,maxWidth:u,mediaRenderQpl:n,message:o,navigateToRouteForMediaViewer:!1,outgoing:p,renderUnsupportedAttachment:function(){return v(!1)}})})},b[42]=o,b[43]=h,b[44]=f,b[45]=g,b[46]=l,b[47]=m,b[48]=t,b[49]=u,b[50]=n,b[51]=p,b[52]=v,b[53]=s):s=b[53];s=s;var w;b[54]!==e||b[55]!==f||b[56]!==g||b[57]!==h||b[58]!==v||b[59]!==a||b[60]!==n||b[61]!==p||b[62]!==q||b[63]!==t||b[64]!==u||b[65]!==r||b[66]!==s?(w=i.jsx(c("MAWAttachmentStateHandlerContentWrapper.react"),{attachmentsFromGroupToRetry:e,connectBottom:f,connectTop:g,dbAttachment:h,descriptionForLogging:"MAWSecureImageAttachmentContentV2",errorComponentRenderer:v,errorWithBlurComponentRenderer:a,mediaRenderQpl:n,outgoing:p,placeholderHeight:q,placeholderMaxHeight:t,placeholderMaxWidth:u,placeholderWidth:r,successfulComponentRenderer:s}),b[54]=e,b[55]=f,b[56]=g,b[57]=h,b[58]=v,b[59]=a,b[60]=n,b[61]=p,b[62]=q,b[63]=t,b[64]=u,b[65]=r,b[66]=s,b[67]=w):w=b[67];return w}g["default"]=a}),98);
__d("MAWSecureStickerAttachmentContentV2.react",["CometPlaceholder.react","MAWAttachmentStateHandlerContentWrapper.react","MWV2AttachmentErrorPlaceholderV2.react","MWV2Sticker.react","MediaDownloadStatusIconSize","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.c;function a(a){var b=k(27),d=a.connectBottom,e=a.connectTop,f=a.dbAttachment,g=a.getPreviewUrl,h=a.mediaRenderQpl,l=a.outgoing,m=a.previewHeight,n=a.previewWidth,o;b[0]!==h?(a=function(){h==null?void 0:h.addPoint("render-sticker-attachment")},o=[h],b[0]=h,b[1]=a,b[2]=o):(a=b[1],o=b[2]);j(a,o);b[3]!==d||b[4]!==e||b[5]!==f.attributionAppName||b[6]!==m||b[7]!==h||b[8]!==l||b[9]!==n?(a=function(a,b){return i.jsx(c("MWV2AttachmentErrorPlaceholderV2.react"),{connectBottom:d,connectTop:e,hasAppAttribution:f.attributionAppName!=null,height:m,iconSize:c("MediaDownloadStatusIconSize").Large,isRetryableError:a,mediaRenderQpl:h,onRetry:b,outgoing:l,width:n})},b[3]=d,b[4]=e,b[5]=f.attributionAppName,b[6]=m,b[7]=h,b[8]=l,b[9]=n,b[10]=a):a=b[10];var p=a;b[11]!==f||b[12]!==g||b[13]!==h||b[14]!==p?(o=function(a){return f.receiverFetchId!=null&&f.previewUrl==null?a("MAWSecureStickerAttachmentContentV2.NoReceiverFetchMedia",!0):i.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureStickerAttachmentContentV2.Suspense",!0),name:"MAWSecureStickerAttachmentContentV2.Suspense",children:i.jsx(c("MWV2Sticker.react"),{attachment:f,getPreviewUrl:g,mediaRenderQpl:h,renderUnsupportedAttachment:function(){return p(!1)}})})},b[11]=f,b[12]=g,b[13]=h,b[14]=p,b[15]=o):o=b[15];a=o;o=f.receiverFetchId!=null?f.messageId:f.attachmentFbid;var q;b[16]!==d||b[17]!==e||b[18]!==f||b[19]!==o||b[20]!==p||b[21]!==h||b[22]!==l||b[23]!==m||b[24]!==n||b[25]!==a?(q=i.jsx(c("MAWAttachmentStateHandlerContentWrapper.react"),{connectBottom:d,connectTop:e,dbAttachment:f,descriptionForLogging:"MAWSecureStickerAttachmentContentV2",downloadStatusKeyOverride:o,errorComponentRenderer:p,mediaRenderQpl:h,outgoing:l,placeholderHeight:m,placeholderWidth:n,successfulComponentRenderer:a}),b[16]=d,b[17]=e,b[18]=f,b[19]=o,b[20]=p,b[21]=h,b[22]=l,b[23]=m,b[24]=n,b[25]=a,b[26]=q):q=b[26];return q}g["default"]=a}),98);
__d("MAWSecureVideoAttachmentContentV2.react",["CometPlaceholder.react","I64","LSAuthorityLevel","LSIntEnum","MAWAttachmentSizeUtils","MAWAttachmentStateHandlerContentWrapper.react","MWLSThreadDisplayContext","MWV2AttachmentErrorPlaceholderV2.react","MWV2AttachmentErrorPlaceholderWithBlurImage.react","MWV2ChatVideo.react","MediaDownloadStatusIconSize","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));b=h;var l=b.useEffect,m=b.c;function a(a){var b=m(51),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,h=a.getPlayableUrl,n=a.getPreviewUrl,o=a.mediaRenderQpl,p=a.message,q=a.outgoing,r=a.previewHeight,s=a.previewWidth,t;b[0]!==o?(a=function(){o==null?void 0:o.addPoint("render-video-attachment")},t=[o],b[0]=o,b[1]=a,b[2]=t):(a=b[1],t=b[2]);l(a,t);a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();b[3]!==r||b[4]!==s||b[5]!==a?(t=d("MAWAttachmentSizeUtils").getMaxSizeForVideo({height:r,width:s},a),b[3]=r,b[4]=s,b[5]=a,b[6]=t):t=b[6];a=t;var u=a.maxHeight,v=a.maxWidth;b[7]!==e||b[8]!==f||b[9]!==g.attributionAppName||b[10]!==r||b[11]!==u||b[12]!==v||b[13]!==o||b[14]!==q||b[15]!==s?(t=function(a,b){return k.jsx(c("MWV2AttachmentErrorPlaceholderV2.react"),{connectBottom:e,connectTop:f,hasAppAttribution:g.attributionAppName!=null,height:r,iconSize:c("MediaDownloadStatusIconSize").Large,isRetryableError:a,maxHeight:u,maxWidth:v,mediaRenderQpl:o,onRetry:b,outgoing:q,width:s})},b[7]=e,b[8]=f,b[9]=g.attributionAppName,b[10]=r,b[11]=u,b[12]=v,b[13]=o,b[14]=q,b[15]=s,b[16]=t):t=b[16];var w=t;b[17]!==g||b[18]!==p||b[19]!==f||b[20]!==h||b[21]!==o||b[22]!==q||b[23]!==w?(a=function(a){return k.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureVideoAttachmentContentV2.Suspense",!0),name:"MAWSecureVideoAttachmentContentV2.Suspense",children:k.jsx(c("MWV2ChatVideo.react"),{attachment:g,autoPlaySetting:(i||(i=d("I64"))).le(p.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))||c("gkx")("7350")?"off":void 0,connectTop:f,getPlayableUrl:h,isSecure:!0,loops:!c("gkx")("7350"),mediaRenderQpl:o,message:p,navigateToRouteForMediaViewer:!1,outgoing:q,renderUnsupportedAttachment:function(){return w(!1)}})})},b[17]=g,b[18]=p,b[19]=f,b[20]=h,b[21]=o,b[22]=q,b[23]=w,b[24]=a):a=b[24];t=a;b[25]!==e||b[26]!==f||b[27]!==g||b[28]!==n||b[29]!==h||b[30]!==r||b[31]!==u||b[32]!==v||b[33]!==o||b[34]!==p||b[35]!==q||b[36]!==s?(a=function(a,b){var d;return k.jsx(c("MWV2AttachmentErrorPlaceholderWithBlurImage.react"),{connectBottom:e,connectTop:f,dbAttachment:g,getPreviewUrl:(d=n)!=null?d:h,height:r,iconSize:c("MediaDownloadStatusIconSize").Large,isRetryableError:a,maxHeight:u,maxWidth:v,mediaRenderQpl:o,message:p,onRetry:b,outgoing:q,width:s})},b[25]=e,b[26]=f,b[27]=g,b[28]=n,b[29]=h,b[30]=r,b[31]=u,b[32]=v,b[33]=o,b[34]=p,b[35]=q,b[36]=s,b[37]=a):a=b[37];a=a;var x;b[38]!==e||b[39]!==f||b[40]!==g||b[41]!==w||b[42]!==a||b[43]!==o||b[44]!==q||b[45]!==r||b[46]!==u||b[47]!==v||b[48]!==s||b[49]!==t?(x=k.jsx(c("MAWAttachmentStateHandlerContentWrapper.react"),{connectBottom:e,connectTop:f,dbAttachment:g,descriptionForLogging:"MAWSecureVideoAttachmentContentV2",errorComponentRenderer:w,errorWithBlurComponentRenderer:a,mediaRenderQpl:o,outgoing:q,placeholderHeight:r,placeholderMaxHeight:u,placeholderMaxWidth:v,placeholderWidth:s,successfulComponentRenderer:t}),b[38]=e,b[39]=f,b[40]=g,b[41]=w,b[42]=a,b[43]=o,b[44]=q,b[45]=r,b[46]=u,b[47]=v,b[48]=s,b[49]=t,b[50]=x):x=b[50];return x}g["default"]=a}),98);
__d("MWMustacheMediaGroupAttachments.react",["fbt","BaseMiddot.react","MWPMessageListColumn.react","MWXLink.react","MWXText.react","react","stylex","useMAWBulkMediaDownloadManualRetry"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={incoming:{paddingStart:"x1ye3gou",$$css:!0},outgoing:{alignSelf:"xpvyfi4",paddingEnd:"xn6708d",$$css:!0},row:{paddingBottom:"xwib8y2",paddingTop:"x1iorvi4",$$css:!0}};function a(a){var b=k(14),e=a.mediaGroupInfo,f=a.mediaRenderQpl;a=a.outgoing;f=c("useMAWBulkMediaDownloadManualRetry")(e.attachmentsToRetryDownload,f);a=a?m.outgoing:m.incoming;var g;b[0]!==a?(g=(i||(i=c("stylex")))(m.row,a),b[0]=a,b[1]=g):g=b[1];b[2]!==e.mediaDownloadErrorsCount||b[3]!==e.groupSize?(a=h._("__JHASH__xlczHN0K-Kb__JHASH__",[h._param("errorQuantity",e.mediaDownloadErrorsCount),h._param("totalQuantity",e.groupSize)]),b[2]=e.mediaDownloadErrorsCount,b[3]=e.groupSize,b[4]=a):a=b[4];var j;b[5]!==e.attachmentsToRetryDownload.length||b[6]!==f?(j=e.attachmentsToRetryDownload.length>0&&l.jsxs(l.Fragment,{children:[l.jsx(c("BaseMiddot.react"),{}),l.jsx(c("MWXLink.react"),{onClick:f,weight_DEPRECATED:"medium",children:h._("__JHASH__BGxC_0TtXwE__JHASH__")})]}),b[5]=e.attachmentsToRetryDownload.length,b[6]=f,b[7]=j):j=b[7];b[8]!==a||b[9]!==j?(e=l.jsxs(c("MWXText.react"),{color:"negative",type:"meta4",children:[a,j]}),b[8]=a,b[9]=j,b[10]=e):e=b[10];b[11]!==g||b[12]!==e?(f=l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:l.jsx("div",{className:g,children:e})}),b[11]=g,b[12]=e,b[13]=f):f=b[13];return f}g["default"]=a}),226);
__d("useMAWMediaDownloadManualRetry",["react","useMAWBulkMediaDownloadManualRetry"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.c;function a(a,b){var d=i(2),e;d[0]!==a?(e=[a],d[0]=a,d[1]=e):e=d[1];a=e;d=a;return c("useMAWBulkMediaDownloadManualRetry")(d,b)}g["default"]=a}),98);
__d("MWMustacheTextAttachmentError.react",["fbt","BaseMiddot.react","MAWMediaDownloadStatusUIStateType","MWPMessageListColumn.react","MWXLink.react","MWXText.react","react","stylex","useMAWMediaDownloadManualRetry"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={incoming:{alignSelf:"xqcrz7y",paddingStart:"x1ye3gou",$$css:!0},outgoing:{alignSelf:"xpvyfi4",$$css:!0},row:{paddingBottom:"xwib8y2",paddingTop:"x1iorvi4",$$css:!0}};function a(a){var b=k(11),e=a.attachment,f=a.downloadStatusUIState,g=a.mediaRenderQpl;a=a.outgoing;e=c("useMAWMediaDownloadManualRetry")(e,g);g=a?m.outgoing:m.incoming;b[0]!==g?(a=(i||(i=c("stylex")))(m.row,g),b[0]=g,b[1]=a):a=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._("__JHASH__jCbL2nmLvOs__JHASH__"),b[2]=g):g=b[2];var j;b[3]!==f||b[4]!==e?(j=d("MAWMediaDownloadStatusUIStateType").isRetryableErrorState(f)&&l.jsxs(l.Fragment,{children:[l.jsx(c("BaseMiddot.react"),{}),l.jsx(c("MWXLink.react"),{onClick:e,weight_DEPRECATED:"medium",children:h._("__JHASH__BGxC_0TtXwE__JHASH__")})]}),b[3]=f,b[4]=e,b[5]=j):j=b[5];b[6]!==j?(f=l.jsxs(c("MWXText.react"),{color:"negative",type:"meta4",children:[g,j]}),b[6]=j,b[7]=f):f=b[7];b[8]!==a||b[9]!==f?(e=l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:l.jsx("div",{className:a,children:f})}),b[8]=a,b[9]=f,b[10]=e):e=b[10];return e}g["default"]=a}),226);