;/*FB_PKG_DELIM*/

__d("LSSLogger",["I64","MWChatInteraction","Promise","ReQL","ReQLSuspense","gkx","qpl","react","useCometInteractionTracing"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");k.useCallback;var l=k.useEffect,m=k.c;function a(){var a=m(5),d;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=c("qpl")._(30605384,"573"),a[0]=d):d=a[0];var e=c("useCometInteractionTracing")(d,"fast","INTERACTION",void 0);a[1]!==e?(d=function(){return new(h||(h=b("Promise")))(function(a){e(a)})},a[1]=e,a[2]=d):d=a[2];d=d;var f;a[3]!==d?(f={traceLocalSendMessageAsync:d},a[3]=d,a[4]=f):f=a[4];return f}function e(a,b){var e=m(20),g;e[0]!==a.tables.messages||e[1]!==b.threadKey?(g=function(){return d("ReQL").fromTableDescending(a.tables.messages).getKeyRange(b.threadKey)},e[0]=a.tables.messages,e[1]=b.threadKey,e[2]=g):g=e[2];var h;e[3]!==a||e[4]!==b?(h=[a,b],e[3]=a,e[4]=b,e[5]=h):h=e[5];var j=d("ReQLSuspense").useFirst(g,h,f.id+":47");e[6]!==j||e[7]!==a.tables.attachments||e[8]!==b.threadKey?(g=function(){return j!=null?d("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(b.threadKey,j.messageId):d("ReQL").empty()},e[6]=j,e[7]=a.tables.attachments,e[8]=b.threadKey,e[9]=g):g=e[9];e[10]!==a||e[11]!==j||e[12]!==b?(h=[a,j,b],e[10]=a,e[11]=j,e[12]=b,e[13]=h):h=e[13];var k=d("ReQLSuspense").useArray(g,h,f.id+":52");e[14]!==k||e[15]!==b.threadKey?(g=function(){var a=k.map(function(a){return a}).sort(function(a,b){return(i||(i=d("I64"))).compare(a.attachmentIndex,b.attachmentIndex)});if(a==null)return;var e=(a=a[0])==null?void 0:a.offlineAttachmentId;if(e==null)return;c("gkx")("6430")&&window.setTimeout(function(){var a,c=d("MWChatInteraction").getInteractionTraceForThreadKey(e+(i||(i=d("I64"))).to_string(b.threadKey));if(c==null||((a=c.getTrace())==null?void 0:a.completed)!=null)return;c.cancelTrace("msgr_lss_chat_head",!0)},1e3)},e[14]=k,e[15]=b.threadKey,e[16]=g):g=e[16];e[17]!==k||e[18]!==b?(h=[k,b],e[17]=k,e[18]=b,e[19]=h):h=e[19];l(g,h)}g.useLSSLogger=a;g.useCancelLSSForChatHead=e}),98);
__d("MWCMInboxHeaderCommunityGroupName.react",["fbt","CometPageletWithDiv.react","MWCMThreadTypes.react","Promise","react","useCommunityFolder"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j;function m(a){return a}function n(a){var e=k(11),f=a.renderWrapper;a=a.thread;f=f!=null?f:m;var g=c("useCommunityFolder")(a);if(g==null)throw(i||(i=b("Promise"))).resolve();var j=a.cannotReplyReason==="broadcast_chat_read_only",n;e[0]!==a.threadType||e[1]!==j?(n=d("MWCMThreadTypes.react").isBroadcastThread(a.threadType)&&!j?h._("__JHASH__2Tijp2ORsFi__JHASH__"):d("MWCMThreadTypes.react").isPrivateThread(a.threadType)?h._("__JHASH__AR0EXhdbXqJ__JHASH__"):null,e[0]=a.threadType,e[1]=j,e[2]=n):n=e[2];n=n;var o;e[3]!==a.threadType||e[4]!==j||e[5]!==n||e[6]!==g.name?(o=d("MWCMThreadTypes.react").isBroadcastThread(a.threadType)&&!j?l.jsxs(l.Fragment,{children:[n," ",n!=null?"\u2022":null," ",g.name]}):l.jsxs(l.Fragment,{children:[g.name," ",n!=null?"\u2022":null," ",n]}),e[3]=a.threadType,e[4]=j,e[5]=n,e[6]=g.name,e[7]=o):o=e[7];e[8]!==f||e[9]!==o?(a=f(o),e[8]=f,e[9]=o,e[10]=a):a=e[10];return a}function a(a){return l.jsx(d("CometPageletWithDiv.react").Placeholder,{className:"x193iq5w",fallback:null,name:"MWCMInboxHeaderCommunityGroupName",children:l.jsx(n,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatHeadPicture.react",["ix","MDSGlimmer.react","MWChatFacepile.react","MWChatProfile.react","MWXIcon.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={chatHeadIntroAnim:{animationDirection:"xpz12be",animationDuration:"x4b6v7d",animationFillMode:"x10e4vud",animationIterationCount:"x1v7wizp",animationName:"xxjl4ni",animationTimingFunction:"x84okpw",$$css:!0},dropShadow:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"x1qeybcx",":hover_boxShadow":"x19xcq9t",$$css:!0},withBackground:{backgroundColor:"xcrg951",$$css:!0},withOverflowBackground:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",width:"x1useyqa",$$css:!0}};function a(a){var b=k(22),e=a.children,f=a.images,g=a.noDropShadow;a=a.noFacepile;g=g===void 0?!1:g;a=a===void 0?!1:a;var j=f.length;if(j!==1){if(j!==0){if(a){j=g?!1:m.dropShadow;b[0]!==j?(a=(i||(i=c("stylex")))(j,m.withOverflowBackground),b[0]=j,b[1]=a):a=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j=l.jsx(c("MWXIcon.react"),{icon:d("fbicon")._(h("481920"),24)}),b[2]=j):j=b[2];var n;b[3]!==a||b[4]!==j||b[5]!==e?(n=l.jsxs("div",{className:a,children:[j,e]}),b[3]=a,b[4]=j,b[5]=e,b[6]=n):n=b[6];return n}a=f[0];j=f[1];b[7]!==a||b[8]!==j||b[9]!==e?(n=l.jsx(c("MWChatFacepile.react"),{borderBetweenImages:!1,firstParticipantURI:a,secondParticipantURI:j,shadow:!0,size:48,children:e}),b[7]=a,b[8]=j,b[9]=e,b[10]=n):n=b[10];return n}b[11]===Symbol["for"]("react.memo_cache_sentinel")?(a="xcrg951 x14yjl9h xudhj91 x18nykt9 xww2gxu xsdox4t x1n2onr6 x1useyqa",b[11]=a):a=b[11];b[12]!==e?(j=l.jsx("div",{className:a,children:l.jsx(c("MDSGlimmer.react"),{index:1,children:e})}),b[12]=e,b[13]=j):j=b[13];return j}n=g?!1:m.dropShadow;b[14]!==n?(a=(i||(i=c("stylex")))(m.withBackground,n,m.chatHeadIntroAnim),b[14]=n,b[15]=a):a=b[15];j=f[0];b[16]!==j||b[17]!==e?(g=l.jsx(c("MWChatProfile.react"),{size:48,src:j,children:e}),b[16]=j,b[17]=e,b[18]=g):g=b[18];b[19]!==a||b[20]!==g?(n=l.jsx("div",{className:a,children:g}),b[19]=a,b[20]=g,b[21]=n):n=b[21];return n}g["default"]=a}),98);
__d("MWChatStateV2IsFlyoutOpen",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.openFlyoutWatermark!==0}f.isFlyoutOpen=a}),66);
__d("MWV2ChatHeadButton.react",["MWXPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={button:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xsdox4t",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",transitionDuration:"xx6bhzk",transitionProperty:"x11xpdln",transitionTimingFunction:"x9lcvmn",width:"x1useyqa",$$css:!0}};function a(a){var b=i(4),c=a.children;a=a.style;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d="x6s0dn4 x78zum5 xsdox4t xl56j7k xyorhqc x10l6tqk x1useyqa",b[0]=d):d=b[0];b[1]!==a||b[2]!==c?(d=j.jsx("div",{className:d,style:a,children:c}),b[1]=a,b[2]=c,b[3]=d):d=b[3];return d}e=j.forwardRef(b);function b(a,b){var d=i(12),e=a.ariaDescribedBy,f=a.ariaLabel,g=a.children,h=a.onFocusChange,l=a.onHoverChange,m=a.onHoverIn,n=a.onHoverOut,o=a.onPress,p=a.onPressIn;a=a.testid;var q;d[0]!==e||d[1]!==f||d[2]!==h||d[3]!==l||d[4]!==m||d[5]!==n||d[6]!==o||d[7]!==p||d[8]!==b||d[9]!==a||d[10]!==g?(q=j.jsx(c("MWXPressable.react"),{"aria-describedby":e,"aria-label":f,onFocusChange:h,onHoverChange:l,onHoverIn:m,onHoverOut:n,onPress:o,onPressIn:p,overlayDisabled:!0,ref:b,testid:void 0,xstyle:k.button,children:g}),d[0]=e,d[1]=f,d[2]=h,d[3]=l,d[4]=m,d[5]=n,d[6]=o,d[7]=p,d[8]=b,d[9]=a,d[10]=g,d[11]=q):q=d[11];return q}f=e;g.MWV2ChatHeadButtonContainer=a;g.MWV2ChatHeadButton=f}),98);
__d("MWV2ChatHeadCloseButton.react",["fbt","ix","MWXIcon.react","MWXPressable.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).c,l=j,m={closeButton:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"x1qx5ct2",end:"x1adoouj",left:null,right:null,justifyContent:"xl56j7k",opacity:"xg01cxk",position:"x10l6tqk",top:"x1fo6t33",transform:"x1f85oc2",transitionDuration:"x19bguh7",transitionProperty:"x6o7n8i",width:"xw4jnvo",$$css:!0},visible:{opacity:"x1hc1fzr",transform:"x3oybdh",$$css:!0}};function a(a){var b=k(9),e=a.isVisible,f=a.onFocusChange,g=a.onHoverChange;a=a.onPress;var j;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(j=h._("__JHASH__SolP4Av4egw__JHASH__"),b[0]=j):j=b[0];var n;b[1]!==e?(n=function(a){return[m.closeButton,e||a.focused?m.visible:!1]},b[1]=e,b[2]=n):n=b[2];var o;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(o=l.jsx(c("MWXIcon.react"),{icon:d("fbicon")._(i("478231"),12)}),b[3]=o):o=b[3];b[4]!==f||b[5]!==g||b[6]!==a||b[7]!==n?(j=l.jsx(c("MWXPressable.react"),{"aria-label":j,onFocusChange:f,onHoverChange:g,onPress:a,xstyle:n,children:o}),b[4]=f,b[5]=g,b[6]=a,b[7]=n,b[8]=j):j=b[8];return j}g["default"]=a}),226);
__d("MWV2ChatHeadFlyout.react",["fbt","FDSBadge.react","LSThreadTitle.react","Locale","MWPIsThreadUnread","MWThreadSnippetForDisplay.react","MWXText.react","react","stylex","useMWThreadSnippetForDisplay"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={container:{backgroundColor:"xcrg951",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",bottom:"x1ey2m1c",boxShadow:"x1ot33o7",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",height:"xnnlda6",end:"x92rtbv",maxWidth:"x256u9z",minWidth:"xktpd3l",paddingEnd:"x1iji9kk",paddingStart:"x1sln4lm",position:"x10l6tqk",$$css:!0},containerWithSubtitle:{height:"xwzfr38",$$css:!0},gradientLTR:{backgroundImage:"x1ov1ned",$$css:!0},gradientRTL:{backgroundImage:"xwntvv8",$$css:!0},openChatArrowPointer:{borderTopEndRadius:"xevpo8y",bottom:"x1doy451",height:"xlup9mm",end:"x1923su1",position:"x10l6tqk",width:"x1kky2od",$$css:!0}},n=d("Locale").isRTL(),o=n?-45:45;function a(a){var b=k(27),e=a.id,f=a.subtitle;a=a.thread;var g=c("useMWThreadSnippetForDisplay")(a);g=g.snippet;var j;b[0]!==g||b[1]!==a?(j=l.jsx(c("MWThreadSnippetForDisplay.react"),{snippetRaw:g,thread:a}),b[0]=g,b[1]=a,b[2]=j):j=b[2];g=j;j=f!=null;var p=d("MWPIsThreadUnread").useIsThreadUnread(a.threadKey),q;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(q=l.jsx("div",{className:"xevpo8y x1doy451 xlup9mm x1923su1 x10l6tqk x1kky2od x1ot33o7",style:{transform:"rotate("+o+"deg)"}}),b[3]=q):q=b[3];j=j?m.containerWithSubtitle:!1;var r;b[4]!==j?(r=(i||(i=c("stylex")))(m.container,j),b[4]=j,b[5]=r):r=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(j=l.jsx("div",{className:"x1iyjqo2"}),b[6]=j):j=b[6];var s;b[7]!==a?(s=l.jsx("div",{"aria-hidden":!0,children:l.jsx(c("MWXText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized4",children:l.jsx(c("LSThreadTitle.react"),{thread:a})})}),b[7]=a,b[8]=s):s=b[8];b[9]!==f?(a=f!=null?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"x1iyjqo2"}),l.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"headline4",children:f})]}):null,b[9]=f,b[10]=a):a=b[10];b[11]===Symbol["for"]("react.memo_cache_sentinel")?(f=l.jsx("div",{className:"x1iyjqo2"}),b[11]=f):f=b[11];var t;b[12]!==p?(t=p?l.jsx(c("FDSBadge.react"),{accessibilityText:h._("__JHASH__l0d8BOpfm06__JHASH__"),color:"blue"}):null,b[12]=p,b[13]=t):t=b[13];b[14]!==t||b[15]!==g?(p=l.jsxs(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body3",children:[t,g]}),b[14]=t,b[15]=g,b[16]=p):p=b[16];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(t=l.jsx("div",{className:"x1iyjqo2"}),b[17]=t):t=b[17];b[18]!==r||b[19]!==s||b[20]!==a||b[21]!==p?(g=l.jsxs("div",{className:r,children:[j,s,a,f,p,t]}),b[18]=r,b[19]=s,b[20]=a,b[21]=p,b[22]=g):g=b[22];b[23]===Symbol["for"]("react.memo_cache_sentinel")?(j=l.jsx("div",{className:(i||(i=c("stylex")))(m.openChatArrowPointer,n?m.gradientRTL:m.gradientLTR),style:{transform:"rotate("+o+"deg)"}}),b[23]=j):j=b[23];b[24]!==e||b[25]!==g?(f=l.jsxs("div",{"data-testid":void 0,id:e,children:[q,g,j]}),b[24]=e,b[25]=g,b[26]=f):f=b[26];return f}g["default"]=a}),226);
__d("MWV2ChatHeadTypingIndicator.react",["I64","MWChatTypingIndicator.react","ReQL","ReQLSuspense","ServerTime","clearTimeout","react","setTimeout","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.useState,n=b.c;function a(a){var b=n(12),e=a.threadKey;a=a.threadType;var g=m(!1),j=g[0],o=g[1],p=(h||(h=c("useReStore")))();b[0]!==p.tables.typing_indicator||b[1]!==e?(g=function(){return d("ReQL").fromTableAscending(p.tables.typing_indicator).getKeyRange(e).filter(function(a){a=a.expirationTimestampMs;return d("ServerTime").getMillis()<(i||(i=d("I64"))).to_float(a)})},b[0]=p.tables.typing_indicator,b[1]=e,b[2]=g):g=b[2];var q;b[3]!==p||b[4]!==e?(q=[p,e],b[3]=p,b[4]=e,b[5]=q):q=b[5];var r=d("ReQLSuspense").useArray(g,q,f.id+":48");b[6]!==r?(g=function(){o(r.length>0);var a=r.map(function(a){return(i||(i=d("I64"))).to_float(a.expirationTimestampMs)});a=Math.max.apply(Math,a);a=a-d("ServerTime").getMillis();var b=c("setTimeout")(function(){return o(!1)},a);return function(){c("clearTimeout")(b)}},q=[o,r],b[6]=r,b[7]=g,b[8]=q):(g=b[7],q=b[8]);l(g,q);if(!j)return null;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(g="x6s0dn4 xcrg951 x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x1ey2m1c x78zum5 x1qx5ct2 xds687c xl56j7k x10l6tqk x1td3qas",b[9]=g):g=b[9];b[10]!==a?(q=k.jsx("div",{className:g,children:k.jsx(c("MWChatTypingIndicator.react"),{threadType:a})}),b[10]=a,b[11]=q):q=b[11];return q}e=d("withCometPlaceholder").withCometPlaceholder(a);g["default"]=e}),98);
__d("MWV2ChatHeadUnreadMessageCountBadge.react",["fbt","ARIA_LABEL_PLACEHOLDER_FIXME","CometPlaceholder.react","FDSNumberedBadge.react","I64","MWPActor.react","ReQL","ReQLSuspense","react","stylex","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=(l||(l=d("react"))).c,n=l,o={badgeHidden:{opacity:"xg01cxk",$$css:!0},unreadBadge:{end:"x1adoouj",position:"x10l6tqk",top:"x1fo6t33",transitionDuration:"x19bguh7",transitionProperty:"x6o7n8i",$$css:!0},unreadBadgeIndeterminate:{marginEnd:"x1n0m28w",$$css:!0}};function p(a,b){var e,g=(i||(i=c("useReStore")))(),h=d("MWPActor.react").useActor();return(e=(e=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.tables.messages).getKeyRange(a).bounds({gt:[b]}).filter(function(a){return!(k||(k=d("I64"))).equal(a.senderId,h)}).take(10)},[h,g,b,a],f.id+":58"))==null?void 0:e.length)!=null?e:0}function q(a){var b=m(12),d=a.isUnread,e=a.isVisible;a=a.unreadMessageCount;if(a===0&&!d){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=n.jsx("div",{"aria-hidden":!0,className:"xg01cxk x1f85oc2"}),b[0]=d):d=b[0];return d}b[1]!==a?(d=a===0?h._("__JHASH__MH2_8oaWFOv__JHASH__"):h._("__JHASH__oUEWSJWvKe9__JHASH__",[h._plural(a,"number")]),b[1]=a,b[2]=d):d=b[2];d=d;var f;b[3]!==a?(f=a===0?null:n.jsx(c("FDSNumberedBadge.react"),{accessibilityText:c("ARIA_LABEL_PLACEHOLDER_FIXME"),overflow:9,value:a}),b[3]=a,b[4]=f):f=b[4];f=f;e=e?!1:o.badgeHidden;a=a===0?o.unreadBadgeIndeterminate:!1;var g;b[5]!==e||b[6]!==a?(g=(j||(j=c("stylex")))(o.unreadBadge,e,a),b[5]=e,b[6]=a,b[7]=g):g=b[7];b[8]!==d||b[9]!==g||b[10]!==f?(e=n.jsx("div",{"aria-label":d,className:g,children:f}),b[8]=d,b[9]=g,b[10]=f,b[11]=e):e=b[11];return e}function r(a){var b=m(4),c=a.isUnread,d=a.isVisible,e=a.lastReadWatermarkTimestampMs;a=a.threadKey;a=p(a,e);b[0]!==c||b[1]!==d||b[2]!==a?(e=n.jsx(q,{isUnread:c,isVisible:d,unreadMessageCount:a}),b[0]=c,b[1]=d,b[2]=a,b[3]=e):e=b[3];return e}a=function(a){return n.jsx(c("CometPlaceholder.react"),{fallback:n.jsx(q,{isUnread:a.isUnread,isVisible:a.isVisible,unreadMessageCount:0}),children:n.jsx(r,babelHelpers["extends"]({},a))})};g.MWV2ChatHeadUnreadMessageCountBadge=a}),226);
__d("MWV2ChatHead.react",["fbt","CometContextualLayer.react","GroupsCometChatsEngagementLogger","I64","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSReportThreadViewOpenStoredProcedure","LSSLogger","LSThreadAttributionStore","MWCMInboxHeaderCommunityGroupName.react","MWCMThreadTypes.react","MWChatHeadPicture.react","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2IsFlyoutOpen","MWFacepileBadge.react","MWPActor.react","MWPGetThreadTitle","MWPIsThreadUnread","MWV2ChatHeadButton.react","MWV2ChatHeadCloseButton.react","MWV2ChatHeadFlyout.react","MWV2ChatHeadTypingIndicator.react","MWV2ChatHeadUnreadMessageCountBadge.react","MWV2EnsureThatChatTabExists","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","getLSMediaThreadPictureUrl","gkx","justknobx","profilePhotoUtils","promiseDone","react","useCommunityFolder","useGetContactsToShow","useMWChatOpenTabTraceProvider","useMWReportThreadOpenOnMountAndFocusWithLogger","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));b=l;var n=b.useId,o=b.useRef,p=b.useState,q=b.c,r=c("justknobx")._("2202");function s(a,b){var c=q(6),e=d("MWPActor.react").useActor(),f=a.threadName;if(f!=null){var g;c[0]!==f?(g=h._("__JHASH__8WUxbAIePCk__JHASH__",[h._param("name of conversation",f)]),c[0]=f,c[1]=g):g=c[1];return g}if(c[2]!==a.threadType||c[3]!==b||c[4]!==e){g=(f=d("MWPGetThreadTitle").computeThreadTitle(void 0,a.threadType,b,e))!=null?f:"";f=h._("__JHASH__WVlVng4Euk___JHASH__",[h._param("chat participants",g)]);c[2]=a.threadType;c[3]=b;c[4]=e;c[5]=f}else f=c[5];return f}function t(a,b){var e=q(6),f=d("MWPActor.react").useActor(),g;e[0]!==a?(g=c("getLSMediaThreadPictureUrl")(a),e[0]=a,e[1]=g):g=e[1];g=g;a=c("useGetContactsToShow")(a,b,f);if(g!=null){e[2]!==g?(b=[g],e[2]=g,e[3]=b):b=e[3];return b}e[4]!==a?(f=a.map(c("getLSMediaContactProfilePictureUrl")),e[4]=a,e[5]=f):f=e[5];return f}function u(a){var b=q(79),e=a.onFocusChange,g=a.onHoverChange,h=a.style,l=a.tab,u=a.thread,w=(i||(i=c("useReStore")))(),x=c("useCommunityFolder")(u),y=d("MWChatStateV2.react").useDispatch(),z=c("useMWChatOpenTabTraceProvider")();b[0]!==u.threadType?(a=d("MWCMThreadTypes.react").isJoinedCMThread(u.threadType),b[0]=u.threadType,b[1]=a):a=b[1];var A=a;b[2]!==A||b[3]!==x||b[4]!==u.parentThreadKey||b[5]!==u.threadKey||b[6]!==u.threadType||b[7]!==w||b[8]!==z||b[9]!==y||b[10]!==l.tabId?(a=function(){A&&(d("GroupsCometChatsEngagementLogger").log({action:"tap",community_id:x?(j||(j=d("I64"))).to_string(x.folderId):(j||(j=d("I64"))).to_string(u.parentThreadKey),event:"thread_open",group_id:x?(j||(j=d("I64"))).to_string(x.fbGroupId):null,source:"chat_bubble",surface:"chat_bubbles_container",thread_id:(j||(j=d("I64"))).to_string(u.threadKey)}),c("promiseDone")(w.runInTransaction(function(a){return c("LSReportThreadViewOpenStoredProcedure")(c("LSFactory")(a),{threadKey:u.threadKey})},"readwrite",void 0,void 0,f.id+":168"))),z(function(a){d("MWChatInteraction").set((j||(j=d("I64"))).to_string(u.threadKey),a),y(d("MWChatStateActions").maximizeTab(Date.now(),l.tabId))},(k||(k=d("LSIntEnum"))).unwrapIntEnum(u.threadType),"chatheads",u.threadKey),d("LSThreadAttributionStore").setSource((j||(j=d("I64"))).to_string(u.threadKey),"chatheads")},b[2]=A,b[3]=x,b[4]=u.parentThreadKey,b[5]=u.threadKey,b[6]=u.threadType,b[7]=w,b[8]=z,b[9]=y,b[10]=l.tabId,b[11]=a):a=b[11];a=a;d("LSSLogger").useCancelLSSForChatHead(w,u);var B=u.threadKey,C=p(!1),D=C[0],E=C[1];C=p(!1);var F=C[0],G=C[1];b[12]!==y||b[13]!==l.tabId?(C=function(){return y(d("MWChatStateActions").closeTab(Date.now(),l.tabId))},b[12]=y,b[13]=l.tabId,b[14]=C):C=b[14];C=C;var H;b[15]!==w.tables.participants||b[16]!==w.tables.contacts||b[17]!==B?(H=function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(w.tables.participants,["contactId","nickname"]).getKeyRange(B),d("ReQL").fromTableAscending(w.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2","id","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs","id"])).take(8)},b[15]=w.tables.participants,b[16]=w.tables.contacts,b[17]=B,b[18]=H):H=b[18];var I;b[19]!==w||b[20]!==B?(I=[w,B],b[19]=w,b[20]=B,b[21]=I):I=b[21];H=d("ReQLSuspense").useArray(H,I,f.id+":200");I=o(null);var J;b[22]!==l?(J=d("MWChatStateV2IsFlyoutOpen").isFlyoutOpen(l),b[22]=l,b[23]=J):J=b[23];J=J;var K=n(),L=s(u,H),M;b[24]!==H?(M=H.map(v),b[24]=H,b[25]=M):M=b[25];H=M;M=t(u,H);b[26]===Symbol["for"]("react.memo_cache_sentinel")?(H=d("profilePhotoUtils").getBadgeSizeAndStrokeWidth(48),b[26]=H):H=b[26];H=H;H=H[0];var N;b[27]===Symbol["for"]("react.memo_cache_sentinel")?(N=d("profilePhotoUtils").getBadgePosition(24),b[27]=N):N=b[27];N=N;var O;b[28]!==A||b[29]!==u?(O=A?m.jsx(c("MWCMInboxHeaderCommunityGroupName.react"),{thread:u}):null,b[28]=A,b[29]=u,b[30]=O):O=b[30];O=O;var P=d("MWPIsThreadUnread").useIsThreadUnread(u.threadKey),Q=d("LSMessagingThreadTypeUtil").isChannelPreview(u.threadType),R=c("gkx")("969")?r:null;R=c("useMWReportThreadOpenOnMountAndFocusWithLogger")(u,R);var S;b[31]!==L?(S=L.toString(),b[31]=L,b[32]=S):S=b[32];b[33]!==e?(L=function(a){G(a),e(a)},b[33]=e,b[34]=L):L=b[34];var T;b[35]!==g?(T=function(a){E(a),g(a)},b[35]=g,b[36]=T):T=b[36];Q=!Q&&!D&&!F;var U;b[37]!==P||b[38]!==Q||b[39]!==u.lastReadWatermarkTimestampMs||b[40]!==B?(U=m.jsx(d("MWV2ChatHeadUnreadMessageCountBadge.react").MWV2ChatHeadUnreadMessageCountBadge,{isUnread:P,isVisible:Q,lastReadWatermarkTimestampMs:u.lastReadWatermarkTimestampMs,threadKey:B}),b[37]=P,b[38]=Q,b[39]=u.lastReadWatermarkTimestampMs,b[40]=B,b[41]=U):U=b[41];b[42]===Symbol["for"]("react.memo_cache_sentinel")?(P="x10l6tqk",Q={bottom:N.bottom,left:N.left,right:N.right,transform:N.transform},b[42]=P,b[43]=Q):(P=b[42],Q=b[43]);b[44]!==u.threadKey?(N=m.jsx("div",{className:P,style:Q,children:m.jsx(c("MWFacepileBadge.react"),{size:H,threadKey:u.threadKey})}),b[44]=u.threadKey,b[45]=N):N=b[45];b[46]!==M||b[47]!==U||b[48]!==N?(P=m.jsx("div",{ref:I,children:m.jsxs(c("MWChatHeadPicture.react"),{images:M,children:[U,N]})}),b[46]=M,b[47]=U,b[48]=N,b[49]=P):P=b[49];b[50]!==D||b[51]!==F||b[52]!==J||b[53]!==K||b[54]!==O||b[55]!==u?(Q=D||F||J?m.jsx(c("CometContextualLayer.react"),{contextRef:I,children:m.jsx(c("MWV2ChatHeadFlyout.react"),{id:K,subtitle:O,thread:u})}):null,b[50]=D,b[51]=F,b[52]=J,b[53]=K,b[54]=O,b[55]=u,b[56]=Q):Q=b[56];b[57]!==B||b[58]!==u.threadType?(H=m.jsx(c("MWV2ChatHeadTypingIndicator.react"),{threadKey:B,threadType:u.threadType}),b[57]=B,b[58]=u.threadType,b[59]=H):H=b[59];b[60]!==K||b[61]!==S||b[62]!==L||b[63]!==T||b[64]!==a||b[65]!==P||b[66]!==Q||b[67]!==H?(M=m.jsxs(d("MWV2ChatHeadButton.react").MWV2ChatHeadButton,{ariaDescribedBy:K,ariaLabel:S,onFocusChange:L,onHoverChange:T,onPress:a,children:[P,Q,H]}),b[60]=K,b[61]=S,b[62]=L,b[63]=T,b[64]=a,b[65]=P,b[66]=Q,b[67]=H,b[68]=M):M=b[68];U=D||F;b[69]!==U||b[70]!==C?(N=m.jsx(c("MWV2ChatHeadCloseButton.react"),{isVisible:U,onFocusChange:G,onHoverChange:E,onPress:C}),b[69]=U,b[70]=C,b[71]=N):N=b[71];b[72]!==h||b[73]!==M||b[74]!==N?(I=m.jsxs(d("MWV2ChatHeadButton.react").MWV2ChatHeadButtonContainer,{style:h,children:[M,N]}),b[72]=h,b[73]=M,b[74]=N,b[75]=I):I=b[75];b[76]!==R||b[77]!==I?(J=m.jsxs(m.Fragment,{children:[R,I]}),b[76]=R,b[77]=I,b[78]=J):J=b[78];return J}function v(a){a[0];a=a[1];return a}function a(a){var b=q(18),e=a.onFocusChange,g=a.onHoverChange,h=a.style,j=a.tab;a=a.threadKeyDescriptor;var k=(i||(i=c("useReStore")))(),l=a.clientThreadKey,n=a.threadKey;d("MWV2EnsureThatChatTabExists").useMWV2EnsureThatChatTabExists(n,a.threadType,a.clientThreadKey);b[0]!==k.tables.threads||b[1]!==n?(a=function(){return d("ReQL").fromTableAscending(k.tables.threads).getKeyRange(n)},b[0]=k.tables.threads,b[1]=n,b[2]=a):a=b[2];var o;b[3]!==k||b[4]!==n?(o=[k,n],b[3]=k,b[4]=n,b[5]=o):o=b[5];a=d("ReQLSuspense").useFirst(a,o,f.id+":326");b[6]!==l||b[7]!==k.tables.threads?(o=function(){return l!=null?d("ReQL").fromTableAscending(k.tables.threads.index("clientThreadKey")).getKeyRange(l):d("ReQL").empty()},b[6]=l,b[7]=k.tables.threads,b[8]=o):o=b[8];var p;b[9]!==k||b[10]!==l?(p=[k,l],b[9]=k,b[10]=l,b[11]=p):p=b[11];o=d("ReQLSuspense").useFirst(o,p,f.id+":330");p=(a=(p=a)!=null?p:o)!=null?a:null;b[12]!==p||b[13]!==e||b[14]!==g||b[15]!==h||b[16]!==j?(o=p&&m.jsx(u,{onFocusChange:e,onHoverChange:g,style:h,tab:j,thread:p}),b[12]=p,b[13]=e,b[14]=g,b[15]=h,b[16]=j,b[17]=o):o=b[17];return o}g["default"]=a}),226);